import{b as de,c as Qt,e as Dt}from"/numpy-tutorials/build/_shared/chunk-2NH4LW52.js";function ae(i){var n;return typeof i.iter=="function"?n=i.iter():n=new Jt(i),n}function R(i,n){for(var e=0,t=ae(i),r;(r=t.next())!==void 0;)if(n(r,e++)===!1)return}function kt(i,n){for(var e=0,t=ae(i),r;(r=t.next())!==void 0;)if(!n(r,e++))return!1;return!0}function Tt(i,n){for(var e=0,t=ae(i),r;(r=t.next())!==void 0;)if(n(r,e++))return!0;return!1}function Ot(i){for(var n=0,e=[],t=ae(i),r;(r=t.next())!==void 0;)e[n++]=r;return e}function ut(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new ze(ae(i.map(ae)))}function se(){return new en}function Pt(i,n){return new tn(ae(i),n)}function Be(i,n){for(var e=0,t=ae(i),r;(r=t.next())!==void 0;)if(n(r,e++))return r}function Bt(i,n){var e=ae(i),t=e.next();if(t!==void 0){for(var r=t;(t=e.next())!==void 0;)n(t,r)>0&&(r=t);return r}}function Me(i,n){return new nn(ae(i),n)}function ct(i,n,e){var t=0,r=ae(i),o=r.next();if(o===void 0&&e===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(o===void 0)return e;var a=r.next();if(a===void 0&&e===void 0)return o;if(a===void 0)return n(e,o,t++);var s;e===void 0?s=n(o,a,t++):s=n(n(e,o,t++),a,t++);for(var c;(c=r.next())!==void 0;)s=n(s,c,t++);return s}function Ke(i){return new rn(i,1)}function Rt(i){var n;return typeof i.retro=="function"?n=i.retro():n=new on(i),n}var A,Jt,vn,gn,yn,_n,ze,en,bn,tn,nn,xn,st,rn,on,Mn,Pe,wn,Cn,we=de(()=>{(function(i){function n(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(w===0)return-1;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);var z;y<_?z=y+1+(w-_):z=y-_+1;for(var g=0;g<z;++g){var I=(_+g)%w;if(C[I]===L)return I}return-1}i.firstIndexOf=n;function e(C,L,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var w=C.length;if(w===0)return-1;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);var z;_<y?z=_+1+(w-y):z=_-y+1;for(var g=0;g<z;++g){var I=(_-g+w)%w;if(C[I]===L)return I}return-1}i.lastIndexOf=e;function t(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(w===0)return-1;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);var z;y<_?z=y+1+(w-_):z=y-_+1;for(var g=0;g<z;++g){var I=(_+g)%w;if(L(C[I],I))return I}return-1}i.findFirstIndex=t;function r(C,L,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var w=C.length;if(w===0)return-1;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);var z;_<y?z=_+1+(w-y):z=_-y+1;for(var g=0;g<z;++g){var I=(_-g+w)%w;if(L(C[I],I))return I}return-1}i.findLastIndex=r;function o(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=t(C,L,_,y);return w!==-1?C[w]:void 0}i.findFirstValue=o;function a(C,L,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var w=r(C,L,_,y);return w!==-1?C[w]:void 0}i.findLastValue=a;function s(C,L,_,y,w){y===void 0&&(y=0),w===void 0&&(w=-1);var z=C.length;if(z===0)return 0;y<0?y=Math.max(0,y+z):y=Math.min(y,z-1),w<0?w=Math.max(0,w+z):w=Math.min(w,z-1);for(var g=y,I=w-y+1;I>0;){var k=I>>1,P=g+k;_(C[P],L)<0?(g=P+1,I-=k+1):I=k}return g}i.lowerBound=s;function c(C,L,_,y,w){y===void 0&&(y=0),w===void 0&&(w=-1);var z=C.length;if(z===0)return 0;y<0?y=Math.max(0,y+z):y=Math.min(y,z-1),w<0?w=Math.max(0,w+z):w=Math.min(w,z-1);for(var g=y,I=w-y+1;I>0;){var k=I>>1,P=g+k;_(C[P],L)>0?I=k:(g=P+1,I-=k+1)}return g}i.upperBound=c;function h(C,L,_){if(C===L)return!0;if(C.length!==L.length)return!1;for(var y=0,w=C.length;y<w;++y)if(_?!_(C[y],L[y]):C[y]!==L[y])return!1;return!0}i.shallowEqual=h;function p(C,L){L===void 0&&(L={});var _=L.start,y=L.stop,w=L.step;if(w===void 0&&(w=1),w===0)throw new Error("Slice `step` cannot be zero.");var z=C.length;_===void 0?_=w<0?z-1:0:_<0?_=Math.max(_+z,w<0?-1:0):_>=z&&(_=w<0?z-1:z),y===void 0?y=w<0?-1:z:y<0?y=Math.max(y+z,w<0?-1:0):y>=z&&(y=w<0?z-1:z);var g;w<0&&y>=_||w>0&&_>=y?g=0:w<0?g=Math.floor((y-_+1)/w+1):g=Math.floor((y-_-1)/w+1);for(var I=[],k=0;k<g;++k)I[k]=C[_+k*w];return I}i.slice=p;function v(C,L,_){var y=C.length;if(!(y<=1)&&(L<0?L=Math.max(0,L+y):L=Math.min(L,y-1),_<0?_=Math.max(0,_+y):_=Math.min(_,y-1),L!==_)){for(var w=C[L],z=L<_?1:-1,g=L;g!==_;g+=z)C[g]=C[g+z];C[_]=w}}i.move=v;function l(C,L,_){L===void 0&&(L=0),_===void 0&&(_=-1);var y=C.length;if(!(y<=1))for(L<0?L=Math.max(0,L+y):L=Math.min(L,y-1),_<0?_=Math.max(0,_+y):_=Math.min(_,y-1);L<_;){var w=C[L],z=C[_];C[L++]=z,C[_--]=w}}i.reverse=l;function d(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(!(w<=1)&&(_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1),!(_>=y))){var z=y-_+1;if(L>0?L=L%z:L<0&&(L=(L%z+z)%z),L!==0){var g=_+L;l(C,_,g-1),l(C,g,y),l(C,_,y)}}}i.rotate=d;function u(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(w!==0){_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);var z;y<_?z=y+1+(w-_):z=y-_+1;for(var g=0;g<z;++g)C[(_+g)%w]=L}}i.fill=u;function f(C,L,_){var y=C.length;L<0?L=Math.max(0,L+y):L=Math.min(L,y);for(var w=y;w>L;--w)C[w]=C[w-1];C[L]=_}i.insert=f;function m(C,L){var _=C.length;if(L<0&&(L+=_),!(L<0||L>=_)){for(var y=C[L],w=L+1;w<_;++w)C[w-1]=C[w];return C.length=_-1,y}}i.removeAt=m;function x(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=n(C,L,_,y);return w!==-1&&m(C,w),w}i.removeFirstOf=x;function M(C,L,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var w=e(C,L,_,y);return w!==-1&&m(C,w),w}i.removeLastOf=M;function b(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(w===0)return 0;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);for(var z=0,g=0;g<w;++g)_<=y&&g>=_&&g<=y&&C[g]===L||y<_&&(g<=y||g>=_)&&C[g]===L?z++:z>0&&(C[g-z]=C[g]);return z>0&&(C.length=w-z),z}i.removeAllOf=b;function S(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w,z=t(C,L,_,y);return z!==-1&&(w=m(C,z)),{index:z,value:w}}i.removeFirstWhere=S;function E(C,L,_,y){_===void 0&&(_=-1),y===void 0&&(y=0);var w,z=r(C,L,_,y);return z!==-1&&(w=m(C,z)),{index:z,value:w}}i.removeLastWhere=E;function D(C,L,_,y){_===void 0&&(_=0),y===void 0&&(y=-1);var w=C.length;if(w===0)return 0;_<0?_=Math.max(0,_+w):_=Math.min(_,w-1),y<0?y=Math.max(0,y+w):y=Math.min(y,w-1);for(var z=0,g=0;g<w;++g)_<=y&&g>=_&&g<=y&&L(C[g],g)||y<_&&(g<=y||g>=_)&&L(C[g],g)?z++:z>0&&(C[g-z]=C[g]);return z>0&&(C.length=w-z),z}i.removeAllWhere=D})(A||(A={}));Jt=function(){function i(n){this._index=0,this._source=n}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},i}(),vn=function(){function i(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source,this._keys);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?n:this.next()}},i}(),gn=function(){function i(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source,this._keys);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?this._source[n]:this.next()}},i}(),yn=function(){function i(n,e){e===void 0&&(e=Object.keys(n)),this._index=0,this._source=n,this._keys=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source,this._keys);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index>=this._keys.length)){var n=this._keys[this._index++];return n in this._source?[n,this._source[n]]:this.next()}},i}(),_n=function(){function i(n){this._fn=n}return i.prototype.iter=function(){return this},i.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},i.prototype.next=function(){return this._fn.call(void 0)},i}();ze=function(){function i(n){this._cloned=!1,this._source=n,this._active=void 0}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source.clone());return n._active=this._active&&this._active.clone(),n._cloned=!0,this._cloned=!0,n},i.prototype.next=function(){if(this._active===void 0){var n=this._source.next();if(n===void 0)return;this._active=this._cloned?n.clone():n}var e=this._active.next();return e!==void 0?e:(this._active=void 0,this.next())},i}();en=function(){function i(){}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i},i.prototype.next=function(){},i}(),bn=function(){function i(n,e){this._source=n,this._index=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i(this._source.clone(),this._index)},i.prototype.next=function(){var n=this._source.next();if(n!==void 0)return[this._index++,n]},i}();tn=function(){function i(n,e){this._index=0,this._source=n,this._fn=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source.clone(),this._fn);return n._index=this._index,n},i.prototype.next=function(){for(var n=this._fn,e=this._source,t;(t=e.next())!==void 0;)if(n(t,this._index++))return t},i}();nn=function(){function i(n,e){this._index=0,this._source=n,this._fn=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source.clone(),this._fn);return n._index=this._index,n},i.prototype.next=function(){var n=this._source.next();if(n!==void 0)return this._fn.call(void 0,n,this._index++)},i}(),xn=function(){function i(n,e,t){this._index=0,this._start=n,this._stop=e,this._step=t,this._length=st.rangeLength(n,e,t)}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._start,this._stop,this._step);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},i}();(function(i){function n(e,t,r){return r===0?1/0:e>t&&r>0||e<t&&r<0?0:Math.ceil((t-e)/r)}i.rangeLength=n})(st||(st={}));rn=function(){function i(n,e){this._value=n,this._count=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i(this._value,this._count)},i.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},i}();on=function(){function i(n){this._source=n,this._index=n.length-1}return i.prototype.iter=function(){return this},i.prototype.clone=function(){var n=new i(this._source);return n._index=this._index,n},i.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},i}(),Mn=function(){function i(n,e){this._source=n,this._step=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i(this._source.clone(),this._step)},i.prototype.next=function(){for(var n=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return n},i}();(function(i){function n(a,s,c){c===void 0&&(c=0);for(var h=new Array(s.length),p=0,v=c,l=s.length;p<l;++p,++v){if(v=a.indexOf(s[p],v),v===-1)return null;h[p]=v}return h}i.findIndices=n;function e(a,s,c){c===void 0&&(c=0);var h=n(a,s,c);if(!h)return null;for(var p=0,v=0,l=h.length;v<l;++v){var d=h[v]-c;p+=d*d}return{score:p,indices:h}}i.matchSumOfSquares=e;function t(a,s,c){c===void 0&&(c=0);var h=n(a,s,c);if(!h)return null;for(var p=0,v=c-1,l=0,d=h.length;l<d;++l){var u=h[l];p+=u-v-1,v=u}return{score:p,indices:h}}i.matchSumOfDeltas=t;function r(a,s,c){for(var h=[],p=0,v=0,l=s.length;p<l;){for(var d=s[p],u=s[p];++p<l&&s[p]===u+1;)u++;v<d&&h.push(a.slice(v,d)),d<u+1&&h.push(c(a.slice(d,u+1))),v=u+1}return v<a.length&&h.push(a.slice(v)),h}i.highlight=r;function o(a,s){return a<s?-1:a>s?1:0}i.cmp=o})(Pe||(Pe={}));wn=function(){function i(n,e){this._source=n,this._count=e}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i(this._source.clone(),this._count)},i.prototype.next=function(){if(!(this._count<=0)){var n=this._source.next();if(n!==void 0)return this._count--,n}},i}(),Cn=function(){function i(n){this._source=n}return i.prototype.iter=function(){return this},i.prototype.clone=function(){return new i(this._source.map(function(n){return n.clone()}))},i.prototype.next=function(){for(var n=new Array(this._source.length),e=0,t=this._source.length;e<t;++e){var r=this._source[e].next();if(r===void 0)return;n[e]=r}return n},i}()});var Ht,W,G,pe,fe,dt=de(()=>{(function(i){function n(e){var t=document.body,r=function(o){o.preventDefault(),o.stopPropagation(),o.clipboardData.setData("text",e),t.removeEventListener("copy",r,!0)};t.addEventListener("copy",r,!0),document.execCommand("copy")}i.copyText=n})(Ht||(Ht={}));(function(i){function n(o){var a=window.getComputedStyle(o),s=parseFloat(a.borderTopWidth)||0,c=parseFloat(a.borderLeftWidth)||0,h=parseFloat(a.borderRightWidth)||0,p=parseFloat(a.borderBottomWidth)||0,v=parseFloat(a.paddingTop)||0,l=parseFloat(a.paddingLeft)||0,d=parseFloat(a.paddingRight)||0,u=parseFloat(a.paddingBottom)||0,f=c+l+d+h,m=s+v+u+p;return{borderTop:s,borderLeft:c,borderRight:h,borderBottom:p,paddingTop:v,paddingLeft:l,paddingRight:d,paddingBottom:u,horizontalSum:f,verticalSum:m}}i.boxSizing=n;function e(o){var a=window.getComputedStyle(o),s=parseFloat(a.minWidth)||0,c=parseFloat(a.minHeight)||0,h=parseFloat(a.maxWidth)||1/0,p=parseFloat(a.maxHeight)||1/0;return h=Math.max(s,h),p=Math.max(c,p),{minWidth:s,minHeight:c,maxWidth:h,maxHeight:p}}i.sizeLimits=e;function t(o,a,s){var c=o.getBoundingClientRect();return a>=c.left&&a<c.right&&s>=c.top&&s<c.bottom}i.hitTest=t;function r(o,a){var s=o.getBoundingClientRect(),c=a.getBoundingClientRect();if(!(c.top<=s.top&&c.bottom>=s.bottom)){if(c.top<s.top&&c.height<=s.height){o.scrollTop-=s.top-c.top;return}if(c.bottom>s.bottom&&c.height>=s.height){o.scrollTop-=s.top-c.top;return}if(c.top<s.top&&c.height>s.height){o.scrollTop-=s.bottom-c.bottom;return}if(c.bottom>s.bottom&&c.height<s.height){o.scrollTop-=s.bottom-c.bottom;return}}}i.scrollIntoViewIfNeeded=r})(W||(W={}));(function(i){i.IS_MAC=!!navigator.platform.match(/Mac/i),i.IS_WIN=!!navigator.platform.match(/Win/i),i.IS_IE=/Trident/.test(navigator.userAgent),i.IS_EDGE=/Edge/.test(navigator.userAgent);function n(e){return i.IS_MAC?e.metaKey:e.ctrlKey}i.accelKey=n})(G||(G={}));(function(i){function n(r){if(r in fe.specificityCache)return fe.specificityCache[r];var o=fe.calculateSingle(r);return fe.specificityCache[r]=o}i.calculateSpecificity=n;function e(r){if(r in fe.validityCache)return fe.validityCache[r];var o=!0;try{fe.testElem.querySelector(r)}catch{o=!1}return fe.validityCache[r]=o}i.isValid=e;function t(r,o){return fe.protoMatchFunc.call(r,o)}i.matches=t})(pe||(pe={}));(function(i){i.specificityCache=Object.create(null),i.validityCache=Object.create(null),i.testElem=document.createElement("div"),i.protoMatchFunc=function(){var p=Element.prototype;return p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector||function(v){var l=this,d=l.ownerDocument?l.ownerDocument.querySelectorAll(v):[];return Array.prototype.indexOf.call(d,l)!==-1}}();function n(p){p=p.split(",",1)[0];var v=0,l=0,d=0;function u(f){var m=p.match(f);return m===null?!1:(p=p.slice(m[0].length),!0)}for(p=p.replace(h," $1 ");p.length>0;){if(u(e)){v++;continue}if(u(t)){l++;continue}if(u(r)){l++;continue}if(u(a)){d++;continue}if(u(s)){l++;continue}if(u(o)){d++;continue}if(!u(c))return 0}return v=Math.min(v,255),l=Math.min(l,255),d=Math.min(d,255),v<<16|l<<8|d}i.calculateSingle=n;var e=/^#[^\s\+>~#\.\[:]+/,t=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,a=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,s=/^:[^\s\+>~#\.\[:]+/,c=/^[\s\+>~\*]+/,h=/:not\(([^\)]+)\)/g})(fe||(fe={}))});var Nt,V,Ge,ve,jt=de(()=>{we();Nt=function(){function i(n){this._root=new V.LeafNode,this.cmp=n}return Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this._root.size===0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"first",{get:function(){var n=V.firstLeaf(this._root);return n.size>0?n.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"last",{get:function(){var n=V.lastLeaf(this._root);return n.size>0?n.items[n.size-1]:void 0},enumerable:!0,configurable:!0}),i.prototype.iter=function(){return V.iterItems(this._root)},i.prototype.retro=function(){return V.retroItems(this._root)},i.prototype.slice=function(n,e){return V.sliceItems(this._root,n,e)},i.prototype.retroSlice=function(n,e){return V.retroSliceItems(this._root,n,e)},i.prototype.at=function(n){return V.itemAt(this._root,n)},i.prototype.has=function(n,e){return V.hasItem(this._root,n,e)},i.prototype.indexOf=function(n,e){return V.indexOf(this._root,n,e)},i.prototype.get=function(n,e){return V.getItem(this._root,n,e)},i.prototype.assign=function(n){this.clear(),this.update(n)},i.prototype.insert=function(n){var e=V.insertItem(this._root,n,this.cmp);return this._root=V.maybeSplitRoot(this._root),e},i.prototype.update=function(n){var e=this;R(n,function(t){e.insert(t)})},i.prototype.delete=function(n,e){var t=V.deleteItem(this._root,n,e);return this._root=V.maybeExtractRoot(this._root),t},i.prototype.remove=function(n){var e=V.removeItem(this._root,n);return this._root=V.maybeExtractRoot(this._root),e},i.prototype.clear=function(){V.clear(this._root),this._root=new V.LeafNode},i}();(function(i){function n(e,t){var r=new i(t);return r.assign(e),r}i.from=n})(Nt||(Nt={}));(function(i){var n=function(){function g(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(g.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),g}();i.BranchNode=n;var e=function(){function g(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(g.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),g}();i.LeafNode=e;function t(g){for(;g.type===0;)g=g.children[0];return g}i.firstLeaf=t;function r(g){for(;g.type===0;)g=g.children[g.children.length-1];return g}i.lastLeaf=r;function o(g){var I=t(g);return new E(I,0,-1)}i.iterItems=o;function a(g){var I=r(g);return new D(I,I.size-1,-1)}i.retroItems=a;function s(g,I,k){I===void 0?I=0:I<0?I=Math.max(0,I+g.size):I=Math.min(I,g.size),k===void 0?k=g.size:k<0?k=Math.max(0,k+g.size):k=Math.min(k,g.size);var P=Math.max(0,k-I);if(P===0)return se();for(;g.type===0;){var B=C(g.sizes,I);B>0&&(I-=g.sizes[B-1]),g=g.children[B]}return new E(g,I,P)}i.sliceItems=s;function c(g,I,k){I===void 0?I=g.size-1:I<0?I=Math.max(-1,I+g.size):I=Math.min(I,g.size-1),k===void 0?k=-1:k<0?k=Math.max(-1,k+g.size):k=Math.min(k,g.size-1);var P=Math.max(0,I-k);if(P===0)return se();for(;g.type===0;){var B=C(g.sizes,I);B>0&&(I-=g.sizes[B-1]),g=g.children[B]}return new D(g,I,P)}i.retroSliceItems=c;function h(g,I){if(I<0&&(I+=g.size),!(I<0||I>=g.size)){for(;g.type===0;){var k=C(g.sizes,I);k>0&&(I-=g.sizes[k-1]),g=g.children[k]}return g.items[I]}}i.itemAt=h;function p(g,I,k){for(;g.type===0;){var P=L(g.items,I,k);g=g.children[P]}var B=_(g.items,I,k);return B>=0}i.hasItem=p;function v(g,I,k){for(var P=0;g.type===0;){var B=L(g.items,I,k);B>0&&(P+=g.sizes[B-1]),g=g.children[B]}var q=_(g.items,I,k);return q>=0?P+q:-P+q}i.indexOf=v;function l(g,I,k){for(;g.type===0;){var P=L(g.items,I,k);g=g.children[P]}var B=_(g.items,I,k);return B>=0?g.items[B]:void 0}i.getItem=l;function d(g,I,k){if(g.type===1){var P=_(g.items,I,k),B;return P>=0?(B=g.items[P],g.items[P]=I):(B=void 0,A.insert(g.items,-P-1,I)),B}var q=L(g.items,I,k),Z=g.children[q],le=Z.size,Q=d(Z,I,k),ee=Z.size;if(g.items[q]=Z.items[0],le===ee)return Q;if(Z.width>b){var oe=w(Z);A.insert(g.children,q+1,oe),A.insert(g.items,q+1,oe.items[0])}return y(g,q),Q}i.insertItem=d;function u(g,I,k){if(g.type===1){var P=_(g.items,I,k);return P<0?void 0:A.removeAt(g.items,P)}var B=L(g.items,I,k),q=g.children[B],Z=q.size,le=u(q,I,k),Q=q.size;return Z===Q||(g.items[B]=q.items[0],q.width<S&&(B=z(g,B)),y(g,B)),le}i.deleteItem=u;function f(g,I){if(I<0&&(I+=g.size),!(I<0||I>=g.size)){if(g.type===1)return A.removeAt(g.items,I);var k=C(g.sizes,I);k>0&&(I-=g.sizes[k]);var P=g.children[k],B=f(P,I);return g.items[k]=P.items[0],P.width<S&&(k=z(g,k)),y(g,k),B}}i.removeItem=f;function m(g){g.type===0?(R(g.children,m),g.children.length=0,g.sizes.length=0,g.items.length=0):(g.items.length=0,g.next=null,g.prev=null)}i.clear=m;function x(g){if(g.width<=b)return g;var I=new n,k=w(g);return I.sizes[0]=g.size,I.sizes[1]=g.size+k.size,I.children[0]=g,I.children[1]=k,I.items[0]=g.items[0],I.items[1]=k.items[0],I}i.maybeSplitRoot=x;function M(g){if(g.type===1||g.children.length>1)return g;var I=g.children.pop();return m(g),I}i.maybeExtractRoot=M;var b=32,S=b>>1,E=function(){function g(I,k,P){this._node=I,this._index=k,this._count=P}return g.prototype.iter=function(){return this},g.prototype.clone=function(){return new g(this._node,this._index,this._count)},g.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},g}(),D=function(){function g(I,k,P){this._node=I,this._index=k,this._count=P}return g.prototype.iter=function(){return this},g.prototype.clone=function(){return new g(this._node,this._index,this._count)},g.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},g}();function C(g,I){for(var k=g.length,P=0;P<k;++P)if(g[P]>I)return P;return k-1}function L(g,I,k){for(var P=g.length,B=1;B<P;++B)if(k(g[B],I)>0)return B-1;return P-1}function _(g,I,k){for(var P=g.length,B=0;B<P;++B){var q=k(g[B],I);if(q===0)return B;if(q>0)return-B-1}return-P-1}function y(g,I){for(var k=g.sizes,P=g.children,B=I>0?k[I-1]:0,q=P.length;I<q;++I)B=k[I]=B+P[I].size;k.length=P.length}function w(g){if(g.type===1){for(var I=new e,k=g.items,P=I.items,B=S,q=k.length;B<q;++B)P.push(k[B]);return k.length=S,g.next&&(g.next.prev=I),I.next=g.next,I.prev=g,g.next=I,I}for(var Z=new n,le=g.children,Q=Z.children,B=S,q=le.length;B<q;++B)Q.push(le[B]);le.length=S;for(var ee=g.items,oe=Z.items,B=S,q=ee.length;B<q;++B)oe.push(ee[B]);return ee.length=S,y(g,S),y(Z,0),Z}function z(g,I){var k,P,B,q,Z,le,Q=g.children[I],ee=I===0?g.children[I+1]:g.children[I-1],oe=I===0,be=Q.type===1,xe=ee.width>S;if(be&&xe&&oe){var N=Q,F=ee;return N.items.push(F.items.shift()),g.items[I+1]=F.items[0],I}if(be&&xe&&!oe){var N=Q,F=ee;return N.items.unshift(F.items.pop()),g.items[I]=N.items[0],I-1}if(be&&!xe&&oe){var N=Q,F=ee;return(k=F.items).unshift.apply(k,N.items),A.removeAt(g.children,I),A.removeAt(g.items,I+1),N.prev&&(N.prev.next=F),F.prev=N.prev,m(N),I}if(be&&!xe&&!oe){var N=Q,F=ee;return(P=F.items).push.apply(P,N.items),A.removeAt(g.children,I),A.removeAt(g.items,I),N.next&&(N.next.prev=F),F.next=N.next,m(N),I-1}if(!be&&xe&&oe){var N=Q,F=ee;return N.children.push(F.children.shift()),N.items.push(F.items.shift()),g.items[I+1]=F.items[0],y(N,N.width-1),y(F,0),I}if(!be&&xe&&!oe){var N=Q,F=ee;return N.children.unshift(F.children.pop()),N.items.unshift(F.items.pop()),g.items[I]=N.items[0],y(N,0),y(F,F.width-1),I-1}if(!be&&!xe&&oe){var N=Q,F=ee;return(B=F.children).unshift.apply(B,N.children),(q=F.items).unshift.apply(q,N.items),A.removeAt(g.children,I),A.removeAt(g.items,I+1),y(F,0),N.children.length=0,m(N),I}if(!be&&!xe&&!oe){var N=Q,F=ee;return(Z=F.children).push.apply(Z,N.children),(le=F.items).push.apply(le,N.items),A.removeAt(g.children,I),A.removeAt(g.items,I),y(F,0),N.children.length=0,m(N),I-1}throw"unreachable"}})(V||(V={}));Ge=function(){function i(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),i.prototype.iter=function(){return new i.ForwardValueIterator(this._first)},i.prototype.retro=function(){return new i.RetroValueIterator(this._last)},i.prototype.nodes=function(){return new i.ForwardNodeIterator(this._first)},i.prototype.retroNodes=function(){return new i.RetroNodeIterator(this._last)},i.prototype.assign=function(n){var e=this;this.clear(),R(n,function(t){e.addLast(t)})},i.prototype.push=function(n){this.addLast(n)},i.prototype.pop=function(){return this.removeLast()},i.prototype.shift=function(n){this.addFirst(n)},i.prototype.unshift=function(){return this.removeFirst()},i.prototype.addFirst=function(n){var e=new ve.LinkedListNode(this,n);return this._first?(e.next=this._first,this._first.prev=e,this._first=e):(this._first=e,this._last=e),this._size++,e},i.prototype.addLast=function(n){var e=new ve.LinkedListNode(this,n);return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._first=e,this._last=e),this._size++,e},i.prototype.insertBefore=function(n,e){if(!e||e===this._first)return this.addFirst(n);if(!(e instanceof ve.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var t=new ve.LinkedListNode(this,n),r=e,o=r.prev;return t.next=r,t.prev=o,r.prev=t,o.next=t,this._size++,t},i.prototype.insertAfter=function(n,e){if(!e||e===this._last)return this.addLast(n);if(!(e instanceof ve.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var t=new ve.LinkedListNode(this,n),r=e,o=r.next;return t.next=o,t.prev=r,r.next=t,o.prev=t,this._size++,t},i.prototype.removeFirst=function(){var n=this._first;if(n)return n===this._last?(this._first=null,this._last=null):(this._first=n.next,this._first.prev=null),n.list=null,n.next=null,n.prev=null,this._size--,n.value},i.prototype.removeLast=function(){var n=this._last;if(n)return n===this._first?(this._first=null,this._last=null):(this._last=n.prev,this._last.next=null),n.list=null,n.next=null,n.prev=null,this._size--,n.value},i.prototype.removeNode=function(n){if(!(n instanceof ve.LinkedListNode)||n.list!==this)throw new Error("Node is not owned by the list.");var e=n;e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._size--},i.prototype.clear=function(){for(var n=this._first;n;){var e=n.next;n.list=null,n.prev=null,n.next=null,n=e}this._first=null,this._last=null,this._size=0},i}();(function(i){function n(a){var s=new i;return s.assign(a),s}i.from=n;var e=function(){function a(s){this._node=s}return a.prototype.iter=function(){return this},a.prototype.clone=function(){return new a(this._node)},a.prototype.next=function(){if(this._node){var s=this._node;return this._node=s.next,s.value}},a}();i.ForwardValueIterator=e;var t=function(){function a(s){this._node=s}return a.prototype.iter=function(){return this},a.prototype.clone=function(){return new a(this._node)},a.prototype.next=function(){if(this._node){var s=this._node;return this._node=s.prev,s.value}},a}();i.RetroValueIterator=t;var r=function(){function a(s){this._node=s}return a.prototype.iter=function(){return this},a.prototype.clone=function(){return new a(this._node)},a.prototype.next=function(){if(this._node){var s=this._node;return this._node=s.next,s}},a}();i.ForwardNodeIterator=r;var o=function(){function a(s){this._node=s}return a.prototype.iter=function(){return this},a.prototype.clone=function(){return new a(this._node)},a.prototype.next=function(){if(this._node){var s=this._node;return this._node=s.prev,s}},a}();i.RetroNodeIterator=o})(Ge||(Ge={}));(function(i){var n=function(){function e(t,r){this.list=null,this.next=null,this.prev=null,this.list=t,this.value=r}return e}();i.LinkedListNode=n})(ve||(ve={}))});function an(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ht(i,n);function e(){this.constructor=i}i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ht,ue,Re,T,Wt=de(()=>{we();jt();ht=function(i,n){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ht(i,n)};ue=function(){function i(n){this.type=n}return Object.defineProperty(i.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),i.prototype.conflate=function(n){return!1},i}(),Re=function(i){an(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.conflate=function(e){return!0},n}(ue);(function(i){function n(_,y){var w=p.get(_);if(!w||w.length===0){M(_,y);return}var z=kt(Rt(w),function(g){return g?x(g,_,y):!0});z&&M(_,y)}i.sendMessage=n;function e(_,y){if(!y.isConflatable){b(_,y);return}var w=Tt(h,function(z){return z.handler!==_||!z.msg||z.msg.type!==y.type||!z.msg.isConflatable?!1:z.msg.conflate(y)});w||b(_,y)}i.postMessage=e;function t(_,y){var w=p.get(_);w&&w.indexOf(y)!==-1||(w?w.push(y):p.set(_,[y]))}i.installMessageHook=t;function r(_,y){var w=p.get(_);if(w){var z=w.indexOf(y);z!==-1&&(w[z]=null,E(w))}}i.removeMessageHook=r;function o(_){var y=p.get(_);y&&y.length>0&&(A.fill(y,null),E(y)),R(h,function(w){w.handler===_&&(w.handler=null,w.msg=null)})}i.clearData=o;function a(){u||d===0||(m(d),u=!0,S(),u=!1)}i.flush=a;function s(){return l}i.getExceptionHandler=s;function c(_){var y=l;return l=_,y}i.setExceptionHandler=c;var h=new Ge,p=new WeakMap,v=new Set,l=function(_){console.error(_)},d=0,u=!1,f=function(){var _=typeof requestAnimationFrame=="function";return _?requestAnimationFrame:setImmediate}(),m=function(){var _=typeof cancelAnimationFrame=="function";return _?cancelAnimationFrame:clearImmediate}();function x(_,y,w){var z=!0;try{typeof _=="function"?z=_(y,w):z=_.messageHook(y,w)}catch(g){l(g)}return z}function M(_,y){try{_.processMessage(y)}catch(w){l(w)}}function b(_,y){h.addLast({handler:_,msg:y}),d===0&&(d=f(S))}function S(){if(d=0,!h.isEmpty){var _={handler:null,msg:null};for(h.addLast(_);;){var y=h.removeFirst();if(y===_)return;y.handler&&y.msg&&n(y.handler,y.msg)}}}function E(_){v.size===0&&f(D),v.add(_)}function D(){v.forEach(C),v.clear()}function C(_){A.removeAllWhere(_,L)}function L(_){return _===null}})(T||(T={}))});var te,Ae,lt=de(()=>{te=function(){function i(n){this._pid=Ae.nextPID(),this.name=n.name,this._create=n.create,this._coerce=n.coerce||null,this._compare=n.compare||null,this._changed=n.changed||null}return i.prototype.get=function(n){var e,t=Ae.ensureMap(n);return this._pid in t?e=t[this._pid]:e=t[this._pid]=this._createValue(n),e},i.prototype.set=function(n,e){var t,r=Ae.ensureMap(n);this._pid in r?t=r[this._pid]:t=r[this._pid]=this._createValue(n);var o=this._coerceValue(n,e);this._maybeNotify(n,t,r[this._pid]=o)},i.prototype.coerce=function(n){var e,t=Ae.ensureMap(n);this._pid in t?e=t[this._pid]:e=t[this._pid]=this._createValue(n);var r=this._coerceValue(n,e);this._maybeNotify(n,e,t[this._pid]=r)},i.prototype._createValue=function(n){var e=this._create;return e(n)},i.prototype._coerceValue=function(n,e){var t=this._coerce;return t?t(n,e):e},i.prototype._compareValue=function(n,e){var t=this._compare;return t?t(n,e):n===e},i.prototype._maybeNotify=function(n,e,t){var r=this._changed;r&&!this._compareValue(e,t)&&r(n,e,t)},i}();(function(i){function n(e){Ae.ownerData.delete(e)}i.clearData=n})(te||(te={}));(function(i){i.ownerData=new WeakMap,i.nextPID=function(){var e=0;return function(){var t=Math.random(),r=(""+t).slice(2);return"pid-"+r+"-"+e++}}();function n(e){var t=i.ownerData.get(e);return t||(t=Object.create(null),i.ownerData.set(e,t),t)}i.ensureMap=n})(Ae||(Ae={}))});var H,re,$e=de(()=>{we();lt();H=function(){function i(n){this._blockedCount=0,this.sender=n}return i.prototype.block=function(n){this._blockedCount++;try{n()}finally{this._blockedCount--}},i.prototype.connect=function(n,e){return re.connect(this,n,e)},i.prototype.disconnect=function(n,e){return re.disconnect(this,n,e)},i.prototype.emit=function(n){this._blockedCount||re.emit(this,n)},i}();(function(i){function n(h,p){var v=re.blockedProperty;v.set(h,v.get(h)+1);try{p()}finally{v.set(h,v.get(h)-1)}}i.blockAll=n;function e(h,p){re.disconnectBetween(h,p)}i.disconnectBetween=e;function t(h){re.disconnectSender(h)}i.disconnectSender=t;function r(h){re.disconnectReceiver(h)}i.disconnectReceiver=r;function o(h){re.disconnectAll(h)}i.disconnectAll=o;function a(h){re.disconnectAll(h)}i.clearData=a;function s(){return re.exceptionHandler}i.getExceptionHandler=s;function c(h){var p=re.exceptionHandler;return re.exceptionHandler=h,p}i.setExceptionHandler=c})(H||(H={}));(function(i){i.exceptionHandler=function(M){console.error(M)};function n(M,b,S){S=S||void 0;var E=c.get(M.sender);if(E||(E=[],c.set(M.sender,E)),l(E,M,b,S))return!1;var D=S||b,C=h.get(D);C||(C=[],h.set(D,C));var L={signal:M,slot:b,thisArg:S};return E.push(L),C.push(L),!0}i.connect=n;function e(M,b,S){S=S||void 0;var E=c.get(M.sender);if(!E||E.length===0)return!1;var D=l(E,M,b,S);if(!D)return!1;var C=S||b,L=h.get(C);return D.signal=null,u(E),u(L),!0}i.disconnect=e;function t(M,b){var S=c.get(M);if(!(!S||S.length===0)){var E=h.get(b);!E||E.length===0||(R(E,function(D){D.signal&&D.signal.sender===M&&(D.signal=null)}),u(S),u(E))}}i.disconnectBetween=t;function r(M){var b=c.get(M);!b||b.length===0||(R(b,function(S){if(S.signal){var E=S.thisArg||S.slot;S.signal=null,u(h.get(E))}}),u(b))}i.disconnectSender=r;function o(M){var b=h.get(M);!b||b.length===0||(R(b,function(S){if(S.signal){var E=S.signal.sender;S.signal=null,u(c.get(E))}}),u(b))}i.disconnectReceiver=o;function a(M){r(M),o(M)}i.disconnectAll=a;function s(M,b){if(!(i.blockedProperty.get(M.sender)>0)){var S=c.get(M.sender);if(!(!S||S.length===0))for(var E=0,D=S.length;E<D;++E){var C=S[E];C.signal===M&&d(C,b)}}}i.emit=s;var c=new WeakMap,h=new WeakMap,p=new Set,v=function(){var M=typeof requestAnimationFrame=="function";return M?requestAnimationFrame:setImmediate}();function l(M,b,S,E){return Be(M,function(D){return D.signal===b&&D.slot===S&&D.thisArg===E})}function d(M,b){var S=M.signal,E=M.slot,D=M.thisArg;try{E.call(D,S.sender,b)}catch(C){i.exceptionHandler(C)}}function u(M){p.size===0&&v(f),p.add(M)}function f(){p.forEach(m),p.clear()}function m(M){A.removeAllWhere(M,x)}function x(M){return M.signal===null}i.blockedProperty=new te({name:"blocked",create:function(){return 0}})})(re||(re={}))});function qt(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");ft(i,n);function e(){this.constructor=i}i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ft,Ce,Hn,pt,Ft,Ze=de(()=>{we();$e();ft=function(i,n){return ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ft(i,n)};Ce=function(){function i(n){this._fn=n}return Object.defineProperty(i.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){if(this._fn){var n=this._fn;this._fn=null,n()}},i}(),Hn=function(i){qt(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._disposed=new H(e),e}return Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(i.prototype.dispose.call(this),this._disposed.emit(void 0),H.clearData(this))},n}(Ce),pt=function(){function i(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(n){n.dispose()}),this._items.clear())},i.prototype.contains=function(n){return this._items.has(n)},i.prototype.add=function(n){this._items.add(n)},i.prototype.remove=function(n){this._items.delete(n)},i.prototype.clear=function(){this._items.clear()},i}();(function(i){function n(e){var t=new i;return R(e,function(r){t.add(r)}),t}i.from=n})(pt||(pt={}));Ft=function(i){qt(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._disposed=new H(e),e}return Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(i.prototype.dispose.call(this),this._disposed.emit(void 0),H.clearData(this))},n}(pt);(function(i){function n(e){var t=new i;return R(e,function(r){t.add(r)}),t}i.from=n})(Ft||(Ft={}))});var Ie,J,Kt=de(()=>{Ze();Ie=function(){function i(n){var e=this;this._onScrollFrame=function(){if(e._scrollTarget){var t=e._scrollTarget,r=t.element,o=t.edge,a=t.distance,s=J.SCROLL_EDGE_SIZE-a,c=Math.pow(s/J.SCROLL_EDGE_SIZE,2),h=Math.max(1,Math.round(c*J.SCROLL_EDGE_SIZE));switch(o){case"top":r.scrollTop-=h;break;case"left":r.scrollLeft-=h;break;case"right":r.scrollLeft+=h;break;case"bottom":r.scrollTop+=h;break}requestAnimationFrame(e._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=n.document||document,this.mimeData=n.mimeData,this.dragImage=n.dragImage||null,this.proposedAction=n.proposedAction||"copy",this.supportedActions=n.supportedActions||"all",this.source=n.source||null}return i.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var n=J.createMouseEvent("pointerup",-1,-1);J.dispatchDragLeave(this,this._currentTarget,null,n)}this._finalize("none")}},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.start=function(n,e){var t=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(n,e),this._promise=new Promise(function(o,a){t._resolve=o});var r=J.createMouseEvent("pointermove",n,e);return document.dispatchEvent(r),this._promise},i.prototype.handleEvent=function(n){switch(n.type){case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"pointermove":this._evtMouseMove(n);break;case"pointerup":this._evtMouseUp(n);break;case"keydown":this._evtKeyDown(n);break;default:n.preventDefault(),n.stopPropagation();break}},i.prototype.moveDragImage=function(n,e){if(this.dragImage){var t=this.dragImage.style;t.top=e+"px",t.left=n+"px"}},i.prototype._evtMouseMove=function(n){n.preventDefault(),n.stopPropagation(),this._updateCurrentTarget(n),this._updateDragScroll(n),this.moveDragImage(n.clientX,n.clientY)},i.prototype._evtMouseUp=function(n){if(n.preventDefault(),n.stopPropagation(),n.button===0){if(this._updateCurrentTarget(n),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){J.dispatchDragLeave(this,this._currentTarget,null,n),this._finalize("none");return}var e=J.dispatchDrop(this,this._currentTarget,n);this._finalize(e)}},i.prototype._evtKeyDown=function(n){n.preventDefault(),n.stopPropagation(),n.keyCode===27&&this.dispose()},i.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},i.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},i.prototype._updateDragScroll=function(n){var e=J.findScrollTarget(n);!this._scrollTarget&&!e||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=e)},i.prototype._updateCurrentTarget=function(n){var e=this._currentTarget,t=this._currentTarget,r=this._currentElement,o=this.document.elementFromPoint(n.clientX,n.clientY);this._currentElement=o,o!==r&&o!==t&&J.dispatchDragExit(this,t,o,n),o!==r&&o!==t&&(t=J.dispatchDragEnter(this,o,t,n)),t!==e&&(this._currentTarget=t,J.dispatchDragLeave(this,e,t,n));var a=J.dispatchDragOver(this,t,n);this._setDropAction(a)},i.prototype._attachDragImage=function(n,e){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var t=this.dragImage.style;t.pointerEvents="none",t.position="fixed",t.top=e+"px",t.left=n+"px";var r=this.document instanceof Document?this.document.body:this.document.firstElementChild;r.appendChild(this.dragImage)}},i.prototype._detachDragImage=function(){if(this.dragImage){var n=this.dragImage.parentNode;n&&n.removeChild(this.dragImage)}},i.prototype._setDropAction=function(n){if(n=J.validateAction(n,this.supportedActions),!(this._override&&this._dropAction===n))switch(n){case"none":this._dropAction=n,this._override=i.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=n,this._override=i.overrideCursor("copy",this.document);break;case"link":this._dropAction=n,this._override=i.overrideCursor("alias",this.document);break;case"move":this._dropAction=n,this._override=i.overrideCursor("move",this.document);break}},i.prototype._finalize=function(n){var e=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,e&&e(n)},i}();(function(i){function n(t,r){r===void 0&&(r=document);var o=++e,a=r instanceof Document?r.body:r.firstElementChild;return a.style.cursor=t,a.classList.add("lm-mod-override-cursor"),a.classList.add("p-mod-override-cursor"),new Ce(function(){o===e&&(a.style.cursor="",a.classList.remove("lm-mod-override-cursor"),a.classList.remove("p-mod-override-cursor"))})}i.overrideCursor=n;var e=0})(Ie||(Ie={}));(function(i){i.SCROLL_EDGE_SIZE=20;function n(l,d){return h[l]&p[d]?l:"none"}i.validateAction=n;function e(l,d,u){var f=document.createEvent("MouseEvent");return f.initMouseEvent(l,!0,!0,window,0,0,0,d,u,!1,!1,!1,!1,0,null),f}i.createMouseEvent=e;function t(l){for(var d=l.clientX,u=l.clientY,f=document.elementFromPoint(d,u);f;f=f.parentElement){var m=f.hasAttribute("data-lm-dragscroll");if(m=m||f.hasAttribute("data-p-dragscroll"),!!m){var x=0,M=0;f===document.body&&(x=window.pageXOffset,M=window.pageYOffset);var b=f.getBoundingClientRect(),S=b.top+M,E=b.left+x,D=E+b.width,C=S+b.height;if(!(d<E||d>=D||u<S||u>=C)){var L=d-E+1,_=u-S+1,y=D-d,w=C-u,z=Math.min(L,_,y,w);if(!(z>i.SCROLL_EDGE_SIZE)){var g=void 0;switch(z){case w:g="bottom";break;case _:g="top";break;case y:g="right";break;case L:g="left";break;default:throw"unreachable"}var I=f.scrollWidth-f.clientWidth,k=f.scrollHeight-f.clientHeight,P=void 0;switch(g){case"top":P=k>0&&f.scrollTop>0;break;case"left":P=I>0&&f.scrollLeft>0;break;case"right":P=I>0&&f.scrollLeft<I;break;case"bottom":P=k>0&&f.scrollTop<k;break;default:throw"unreachable"}if(P)return{element:f,edge:g,distance:z}}}}}return null}i.findScrollTarget=t;function r(l,d,u,f){if(!d)return null;var m=v("lm-dragenter",l,f,u),x=!d.dispatchEvent(m);if(x||(m=v("p-dragenter",l,f,u),x=!d.dispatchEvent(m),x))return d;var M=l.document instanceof Document?l.document.body:l.document.firstElementChild;return d===M?u:(m=v("lm-dragenter",l,f,u),M.dispatchEvent(m),m=v("p-dragenter",l,f,u),M.dispatchEvent(m),M)}i.dispatchDragEnter=r;function o(l,d,u,f){if(d){var m=v("lm-dragexit",l,f,u);d.dispatchEvent(m),m=v("p-dragexit",l,f,u),d.dispatchEvent(m)}}i.dispatchDragExit=o;function a(l,d,u,f){if(d){var m=v("lm-dragleave",l,f,u);d.dispatchEvent(m),m=v("p-dragleave",l,f,u),d.dispatchEvent(m)}}i.dispatchDragLeave=a;function s(l,d,u){if(!d)return"none";var f=v("lm-dragover",l,u,null),m=!d.dispatchEvent(f);return m||(f=v("p-dragover",l,u,null),m=!d.dispatchEvent(f),m)?f.dropAction:"none"}i.dispatchDragOver=s;function c(l,d,u){if(!d)return"none";var f=v("lm-drop",l,u,null),m=!d.dispatchEvent(f);return m||(f=v("p-drop",l,u,null),m=!d.dispatchEvent(f),m)?f.dropAction:"none"}i.dispatchDrop=c;var h={none:0,copy:1,link:2,move:4},p={none:h.none,copy:h.copy,link:h.link,move:h.move,"copy-link":h.copy|h.link,"copy-move":h.copy|h.move,"link-move":h.link|h.move,all:h.copy|h.link|h.move};function v(l,d,u,f){var m=document.createEvent("MouseEvent");return m.initMouseEvent(l,!0,!0,window,0,u.screenX,u.screenY,u.clientX,u.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,f),m.dropAction="none",m.mimeData=d.mimeData,m.proposedAction=d.proposedAction,m.supportedActions=d.supportedActions,m.source=d.source,m}})(J||(J={}))});var mt=Qt((Qe,Ut)=>{(function(i,n){typeof Qe=="object"&&typeof Ut<"u"?n(Qe):typeof define=="function"&&define.amd?define(["exports"],n):(i=typeof globalThis<"u"?globalThis:i||self,n(i.lumino_coreutils={}))})(Qe,function(i){"use strict";i.JSONExt=void 0,function(a){a.emptyObject=Object.freeze({}),a.emptyArray=Object.freeze([]);function s(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"}a.isPrimitive=s;function c(m){return Array.isArray(m)}a.isArray=c;function h(m){return!s(m)&&!c(m)}a.isObject=h;function p(m,x){if(m===x)return!0;if(s(m)||s(x))return!1;var M=c(m),b=c(x);return M!==b?!1:M&&b?l(m,x):d(m,x)}a.deepEqual=p;function v(m){return s(m)?m:c(m)?u(m):f(m)}a.deepCopy=v;function l(m,x){if(m===x)return!0;if(m.length!==x.length)return!1;for(var M=0,b=m.length;M<b;++M)if(!p(m[M],x[M]))return!1;return!0}function d(m,x){if(m===x)return!0;for(var M in m)if(m[M]!==void 0&&!(M in x))return!1;for(var M in x)if(x[M]!==void 0&&!(M in m))return!1;for(var M in m){var b=m[M],S=x[M];if(!(b===void 0&&S===void 0)&&(b===void 0||S===void 0||!p(b,S)))return!1}return!0}function u(m){for(var x=new Array(m.length),M=0,b=m.length;M<b;++M)x[M]=v(m[M]);return x}function f(m){var x={};for(var M in m){var b=m[M];b!==void 0&&(x[M]=v(b))}return x}}(i.JSONExt||(i.JSONExt={}));var n=function(){function a(){this._types=[],this._values=[]}return a.prototype.types=function(){return this._types.slice()},a.prototype.hasData=function(s){return this._types.indexOf(s)!==-1},a.prototype.getData=function(s){var c=this._types.indexOf(s);return c!==-1?this._values[c]:void 0},a.prototype.setData=function(s,c){this.clearData(s),this._types.push(s),this._values.push(c)},a.prototype.clearData=function(s){var c=this._types.indexOf(s);c!==-1&&(this._types.splice(c,1),this._values.splice(c,1))},a.prototype.clear=function(){this._types.length=0,this._values.length=0},a}(),e=function(){function a(){var s=this;this.promise=new Promise(function(c,h){s._resolve=c,s._reject=h})}return a.prototype.resolve=function(s){var c=this._resolve;c(s)},a.prototype.reject=function(s){var c=this._reject;c(s)},a}(),t=function(){function a(s){this.name=s,this._tokenStructuralPropertyT=null}return a}();function r(a){for(var s=0,c=0,h=a.length;c<h;++c)c%4===0&&(s=Math.random()*4294967295>>>0),a[c]=s&255,s>>>=8}i.Random=void 0,function(a){a.getRandomValues=function(){var s=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return s&&typeof s.getRandomValues=="function"?function(h){return s.getRandomValues(h)}:r}()}(i.Random||(i.Random={}));function o(a){for(var s=new Uint8Array(16),c=new Array(256),h=0;h<16;++h)c[h]="0"+h.toString(16);for(var h=16;h<256;++h)c[h]=h.toString(16);return function(){return a(s),s[6]=64|s[6]&15,s[8]=128|s[8]&63,c[s[0]]+c[s[1]]+c[s[2]]+c[s[3]]+"-"+c[s[4]]+c[s[5]]+"-"+c[s[6]]+c[s[7]]+"-"+c[s[8]]+c[s[9]]+"-"+c[s[10]]+c[s[11]]+c[s[12]]+c[s[13]]+c[s[14]]+c[s[15]]}}i.UUID=void 0,function(a){a.uuid4=o(i.Random.getRandomValues)}(i.UUID||(i.UUID={})),i.MimeData=n,i.PromiseDelegate=e,i.Token=t,Object.defineProperty(i,"__esModule",{value:!0})})});function He(){return gt.keyboardLayout}var vt,sn,gt,yt=de(()=>{vt=function(){function i(n,e,t){t===void 0&&(t=[]),this.name=n,this._codes=e,this._keys=i.extractKeys(e),this._modifierKeys=i.convertToKeySet(t)}return i.prototype.keys=function(){return Object.keys(this._keys)},i.prototype.isValidKey=function(n){return n in this._keys},i.prototype.isModifierKey=function(n){return n in this._modifierKeys},i.prototype.keyForKeydownEvent=function(n){return this._codes[n.keyCode]||""},i}();(function(i){function n(t){var r=Object.create(null);for(var o in t)r[t[o]]=!0;return r}i.extractKeys=n;function e(t){for(var r=Object(null),o=0,a=t.length;o<a;++o)r[t[o]]=!0;return r}i.convertToKeySet=e})(vt||(vt={}));sn=new vt("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]);(function(i){i.keyboardLayout=sn})(gt||(gt={}))});var ne,_t,Ne,Se,Vt=de(()=>{we();ne=Dt(mt());Ze();dt();yt();$e();_t=function(){return _t=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},_t.apply(this,arguments)},Ne=function(){function i(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new H(this),this._commandExecuted=new H(this),this._keyBindingChanged=new H(this)}return Object.defineProperty(i.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),i.prototype.listCommands=function(){return Object.keys(this._commands)},i.prototype.hasCommand=function(n){return n in this._commands},i.prototype.addCommand=function(n,e){var t=this;if(n in this._commands)throw new Error("Command '"+n+"' already registered.");return this._commands[n]=Se.createCommand(e),this._commandChanged.emit({id:n,type:"added"}),new Ce(function(){delete t._commands[n],t._commandChanged.emit({id:n,type:"removed"})})},i.prototype.notifyCommandChanged=function(n){if(n!==void 0&&!(n in this._commands))throw new Error("Command '"+n+"' is not registered.");this._commandChanged.emit({id:n,type:n?"changed":"many-changed"})},i.prototype.describedBy=function(n){var e=this._commands[n];return e?e.describedBy||{args:null}:{args:null}},i.prototype.label=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.label.call(void 0,e):""},i.prototype.mnemonic=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.mnemonic.call(void 0,e):-1},i.prototype.icon=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.icon.call(void 0,e):""},i.prototype.iconClass=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.iconClass.call(void 0,e):""},i.prototype.iconLabel=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.iconLabel.call(void 0,e):""},i.prototype.caption=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.caption.call(void 0,e):""},i.prototype.usage=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.usage.call(void 0,e):""},i.prototype.className=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.className.call(void 0,e):""},i.prototype.dataset=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.dataset.call(void 0,e):{}},i.prototype.isEnabled=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.isEnabled.call(void 0,e):!1},i.prototype.isToggled=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.isToggled.call(void 0,e):!1},i.prototype.isToggleable=function(n,e){var t=this._commands[n];return t?t.isToggleable:!1},i.prototype.isVisible=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];return t?t.isVisible.call(void 0,e):!1},i.prototype.execute=function(n,e){e===void 0&&(e=ne.JSONExt.emptyObject);var t=this._commands[n];if(!t)return Promise.reject(new Error("Command '"+n+"' not registered."));var r;try{r=t.execute.call(void 0,e)}catch(a){r=Promise.reject(a)}var o=Promise.resolve(r);return this._commandExecuted.emit({id:n,args:e,result:o}),o},i.prototype.addKeyBinding=function(n){var e=this,t=Se.createKeyBinding(n);return this._keyBindings.push(t),this._keyBindingChanged.emit({binding:t,type:"added"}),new Ce(function(){A.removeFirstOf(e._keyBindings,t),e._keyBindingChanged.emit({binding:t,type:"removed"})})},i.prototype.processKeydownEvent=function(n){if(!(this._replaying||i.isModifierKeyPressed(n))){var e=i.keystrokeForKeydownEvent(n);if(!e){this._replayKeydownEvents(),this._clearPendingState();return}this._keystrokes.push(e);var t=Se.matchKeyBinding(this._keyBindings,this._keystrokes,n),r=t.exact,o=t.partial;if(!r&&!o){this._replayKeydownEvents(),this._clearPendingState();return}if(n.preventDefault(),n.stopPropagation(),r&&!o){this._executeKeyBinding(r),this._clearPendingState();return}r&&(this._exactKeyMatch=r),this._keydownEvents.push(n),this._startTimer()}},i.prototype._startTimer=function(){var n=this;this._clearTimer(),this._timerID=window.setTimeout(function(){n._onPendingTimeout()},Se.CHORD_TIMEOUT)},i.prototype._clearTimer=function(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)},i.prototype._replayKeydownEvents=function(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(Se.replayKeyEvent),this._replaying=!1)},i.prototype._executeKeyBinding=function(n){var e=n.command,t=n.args;if(!this.hasCommand(e)||!this.isEnabled(e,t)){var r=this.hasCommand(e)?"enabled":"registered",o=n.keys.join(", "),a="Cannot execute key binding '"+o+"':",s="command '"+e+"' is not "+r+".";console.warn(a+" "+s);return}this.execute(e,t)},i.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},i.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},i}();(function(i){function n(s){for(var c="",h=!1,p=!1,v=!1,l=!1,d=0,u=s.split(/\s+/);d<u.length;d++){var f=u[d];f==="Accel"?G.IS_MAC?p=!0:v=!0:f==="Alt"?h=!0:f==="Cmd"?p=!0:f==="Ctrl"?v=!0:f==="Shift"?l=!0:f.length>0&&(c=f)}return{cmd:p,ctrl:v,alt:h,shift:l,key:c}}i.parseKeystroke=n;function e(s){var c="",h=n(s);return h.ctrl&&(c+="Ctrl "),h.alt&&(c+="Alt "),h.shift&&(c+="Shift "),h.cmd&&G.IS_MAC&&(c+="Cmd "),c+h.key}i.normalizeKeystroke=e;function t(s){var c;return G.IS_WIN?c=s.winKeys||s.keys:G.IS_MAC?c=s.macKeys||s.keys:c=s.linuxKeys||s.keys,c.map(e)}i.normalizeKeys=t;function r(s){return typeof s=="string"?c(s):s.map(c).join(", ");function c(h){var p=[],v=G.IS_MAC?" ":"+",l=n(h);return l.ctrl&&p.push("Ctrl"),l.alt&&p.push("Alt"),l.shift&&p.push("Shift"),G.IS_MAC&&l.cmd&&p.push("Cmd"),p.push(l.key),p.map(Se.formatKey).join(v)}}i.formatKeystroke=r;function o(s){var c=He(),h=c.keyForKeydownEvent(s);return c.isModifierKey(h)}i.isModifierKeyPressed=o;function a(s){var c=He(),h=c.keyForKeydownEvent(s);if(!h||c.isModifierKey(h))return"";var p=[];return s.ctrlKey&&p.push("Ctrl"),s.altKey&&p.push("Alt"),s.shiftKey&&p.push("Shift"),s.metaKey&&G.IS_MAC&&p.push("Cmd"),p.push(h),p.join(" ")}i.keystrokeForKeydownEvent=a})(Ne||(Ne={}));(function(i){i.CHORD_TIMEOUT=1e3;function n(b){var S,E;return!b.icon||typeof b.icon=="string"?(E=u(b.iconClass||b.icon,c),S=E):(E=u(b.iconClass,c),S=u(b.icon,d)),{execute:b.execute,describedBy:_t({args:null},b.describedBy),label:u(b.label,c),mnemonic:u(b.mnemonic,h),icon:S,iconClass:E,iconLabel:u(b.iconLabel,c),caption:u(b.caption,c),usage:u(b.usage,c),className:u(b.className,c),dataset:u(b.dataset,l),isEnabled:b.isEnabled||p,isToggled:b.isToggled||v,isToggleable:b.isToggleable||!!b.isToggled,isVisible:b.isVisible||p}}i.createCommand=n;function e(b){return{keys:Ne.normalizeKeys(b),selector:f(b),command:b.command,args:b.args||ne.JSONExt.emptyObject}}i.createKeyBinding=e;function t(b,S,E){for(var D=null,C=!1,L=1/0,_=0,y=0,w=b.length;y<w;++y){var z=b[y],g=m(z.keys,S);if(g!==0){if(g===2){!C&&x(z.selector,E)!==-1&&(C=!0);continue}var I=x(z.selector,E);if(!(I===-1||I>L)){var k=pe.calculateSpecificity(z.selector);(!D||I<L||k>=_)&&(D=z,L=I,_=k)}}}return{exact:D,partial:C}}i.matchKeyBinding=t;function r(b){b.target.dispatchEvent(M(b))}i.replayKeyEvent=r;function o(b){return G.IS_MAC?a.hasOwnProperty(b)?a[b]:b:s.hasOwnProperty(b)?s[b]:b}i.formatKey=o;var a={Backspace:"\u232B",Tab:"\u21E5",Enter:"\u21A9",Shift:"\u21E7",Ctrl:"\u2303",Alt:"\u2325",Escape:"\u238B",PageUp:"\u21DE",PageDown:"\u21DF",End:"\u2198",Home:"\u2196",ArrowLeft:"\u2190",ArrowUp:"\u2191",ArrowRight:"\u2192",ArrowDown:"\u2193",Delete:"\u2326",Cmd:"\u2318"},s={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},c=function(){return""},h=function(){return-1},p=function(){return!0},v=function(){return!1},l=function(){return{}},d=function(){};function u(b,S){return b===void 0?S:typeof b=="function"?b:function(){return b}}function f(b){if(b.selector.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+b.selector);if(!pe.isValid(b.selector))throw new Error("Invalid selector: "+b.selector);return b.selector}function m(b,S){if(b.length<S.length)return 0;for(var E=0,D=S.length;E<D;++E)if(b[E]!==S[E])return 0;return b.length>S.length?2:1}function x(b,S){for(var E=S.target,D=S.currentTarget,C=0;E!==null;E=E.parentElement,++C){if(E.hasAttribute("data-lm-suppress-shortcuts")||E.hasAttribute("data-p-suppress-shortcuts"))return-1;if(pe.matches(E,b))return C;if(E===D)return-1}return-1}function M(b){var S=document.createEvent("Event"),E=b.bubbles||!0,D=b.cancelable||!0;return S.initEvent(b.type||"keydown",E,D),S.key=b.key||"",S.keyCode=b.keyCode||0,S.which=b.keyCode||0,S.ctrlKey=b.ctrlKey||!1,S.altKey=b.altKey||!1,S.shiftKey=b.shiftKey||!1,S.metaKey=b.metaKey||!1,S.view=b.view||window,S}})(Se||(Se={}))});function un(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");bt(i,n);function e(){this.constructor=i}i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function j(i){for(var n={},e,t=[],r=1,o=arguments.length;r<o;++r){var a=arguments[r];typeof a=="string"?t.push(new Je(a)):a instanceof Je||a instanceof et?t.push(a):a instanceof Array?s(t,a):(r===1||r===2)&&a&&typeof a=="object"&&("render"in a?e=a:n=a)}return new et(i,n,t,e);function s(c,h){for(var p=0,v=h;p<v.length;p++){var l=v[p];typeof l=="string"?c.push(new Je(l)):(l instanceof Je||l instanceof et)&&c.push(l)}}}var bt,Je,et,$n,ge,De,Yt=de(()=>{we();bt=function(i,n){return bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},bt(i,n)};Je=function(){function i(n){this.type="text",this.content=n}return i}(),et=function(){function i(n,e,t,r){this.type="element",this.tag=n,this.attrs=e,this.children=t,this.renderer=r}return i}(),$n=function(i){un(n,i);function n(e,t,r){return i.call(this,e,t,[],r||void 0)||this}return n}(et);(function(i){i.a=i.bind(void 0,"a"),i.abbr=i.bind(void 0,"abbr"),i.address=i.bind(void 0,"address"),i.area=i.bind(void 0,"area"),i.article=i.bind(void 0,"article"),i.aside=i.bind(void 0,"aside"),i.audio=i.bind(void 0,"audio"),i.b=i.bind(void 0,"b"),i.bdi=i.bind(void 0,"bdi"),i.bdo=i.bind(void 0,"bdo"),i.blockquote=i.bind(void 0,"blockquote"),i.br=i.bind(void 0,"br"),i.button=i.bind(void 0,"button"),i.canvas=i.bind(void 0,"canvas"),i.caption=i.bind(void 0,"caption"),i.cite=i.bind(void 0,"cite"),i.code=i.bind(void 0,"code"),i.col=i.bind(void 0,"col"),i.colgroup=i.bind(void 0,"colgroup"),i.data=i.bind(void 0,"data"),i.datalist=i.bind(void 0,"datalist"),i.dd=i.bind(void 0,"dd"),i.del=i.bind(void 0,"del"),i.dfn=i.bind(void 0,"dfn"),i.div=i.bind(void 0,"div"),i.dl=i.bind(void 0,"dl"),i.dt=i.bind(void 0,"dt"),i.em=i.bind(void 0,"em"),i.embed=i.bind(void 0,"embed"),i.fieldset=i.bind(void 0,"fieldset"),i.figcaption=i.bind(void 0,"figcaption"),i.figure=i.bind(void 0,"figure"),i.footer=i.bind(void 0,"footer"),i.form=i.bind(void 0,"form"),i.h1=i.bind(void 0,"h1"),i.h2=i.bind(void 0,"h2"),i.h3=i.bind(void 0,"h3"),i.h4=i.bind(void 0,"h4"),i.h5=i.bind(void 0,"h5"),i.h6=i.bind(void 0,"h6"),i.header=i.bind(void 0,"header"),i.hr=i.bind(void 0,"hr"),i.i=i.bind(void 0,"i"),i.iframe=i.bind(void 0,"iframe"),i.img=i.bind(void 0,"img"),i.input=i.bind(void 0,"input"),i.ins=i.bind(void 0,"ins"),i.kbd=i.bind(void 0,"kbd"),i.label=i.bind(void 0,"label"),i.legend=i.bind(void 0,"legend"),i.li=i.bind(void 0,"li"),i.main=i.bind(void 0,"main"),i.map=i.bind(void 0,"map"),i.mark=i.bind(void 0,"mark"),i.meter=i.bind(void 0,"meter"),i.nav=i.bind(void 0,"nav"),i.noscript=i.bind(void 0,"noscript"),i.object=i.bind(void 0,"object"),i.ol=i.bind(void 0,"ol"),i.optgroup=i.bind(void 0,"optgroup"),i.option=i.bind(void 0,"option"),i.output=i.bind(void 0,"output"),i.p=i.bind(void 0,"p"),i.param=i.bind(void 0,"param"),i.pre=i.bind(void 0,"pre"),i.progress=i.bind(void 0,"progress"),i.q=i.bind(void 0,"q"),i.rp=i.bind(void 0,"rp"),i.rt=i.bind(void 0,"rt"),i.ruby=i.bind(void 0,"ruby"),i.s=i.bind(void 0,"s"),i.samp=i.bind(void 0,"samp"),i.section=i.bind(void 0,"section"),i.select=i.bind(void 0,"select"),i.small=i.bind(void 0,"small"),i.source=i.bind(void 0,"source"),i.span=i.bind(void 0,"span"),i.strong=i.bind(void 0,"strong"),i.sub=i.bind(void 0,"sub"),i.summary=i.bind(void 0,"summary"),i.sup=i.bind(void 0,"sup"),i.table=i.bind(void 0,"table"),i.tbody=i.bind(void 0,"tbody"),i.td=i.bind(void 0,"td"),i.textarea=i.bind(void 0,"textarea"),i.tfoot=i.bind(void 0,"tfoot"),i.th=i.bind(void 0,"th"),i.thead=i.bind(void 0,"thead"),i.time=i.bind(void 0,"time"),i.title=i.bind(void 0,"title"),i.tr=i.bind(void 0,"tr"),i.track=i.bind(void 0,"track"),i.u=i.bind(void 0,"u"),i.ul=i.bind(void 0,"ul"),i.var_=i.bind(void 0,"var"),i.video=i.bind(void 0,"video"),i.wbr=i.bind(void 0,"wbr")})(j||(j={}));(function(i){function n(t){return De.createDOMNode(t)}i.realize=n;function e(t,r){var o=De.hostMap.get(r)||[],a=De.asContentArray(t);De.hostMap.set(r,a),De.updateContent(r,o,a)}i.render=e})(ge||(ge={}));(function(i){i.hostMap=new WeakMap;function n(d){return d?d instanceof Array?d:[d]:[]}i.asContentArray=n;function e(d){var u=arguments[1]||null,f=arguments[2]||null;if(u)u.insertBefore(e(d),f);else{if(d.type==="text")return document.createTextNode(d.content);if(u=document.createElement(d.tag),a(u,d.attrs),d.renderer)return d.renderer.render(u,{attrs:d.attrs,children:d.children}),u;for(var m=0,x=d.children.length;m<x;++m)e(d.children[m],u)}return u}i.createDOMNode=e;function t(d,u,f){if(u!==f){for(var m=l(d,u),x=u.slice(),M=d.firstChild,b=f.length,S=0;S<b;++S){if(S>=x.length){e(f[S],d);continue}var E=x[S],D=f[S];if(E===D){M=M.nextSibling;continue}if(E.type==="text"&&D.type==="text"){M.textContent!==D.content&&(M.textContent=D.content),M=M.nextSibling;continue}if(E.type==="text"||D.type==="text"){A.insert(x,S,D),e(D,d,M);continue}if(!E.renderer!=!D.renderer){A.insert(x,S,D),e(D,d,M);continue}var C=D.attrs.key;if(C&&C in m){var L=m[C];L.vNode!==E&&(A.move(x,x.indexOf(L.vNode,S+1),S),d.insertBefore(L.element,M),E=L.vNode,M=L.element)}if(E===D){M=M.nextSibling;continue}var _=E.attrs.key;if(_&&_!==C){A.insert(x,S,D),e(D,d,M);continue}if(E.tag!==D.tag){A.insert(x,S,D),e(D,d,M);continue}s(M,E.attrs,D.attrs),D.renderer?D.renderer.render(M,{attrs:D.attrs,children:D.children}):t(M,E.children,D.children),M=M.nextSibling}r(d,x,b,!0)}}i.updateContent=t;function r(d,u,f,m){for(var x=u.length-1;x>=f;--x){var M=u[x],b=m?d.lastChild:d.childNodes[x];M.type==="text"||(M.renderer&&M.renderer.unrender?M.renderer.unrender(b,{attrs:M.attrs,children:M.children}):r(b,M.children,0,!1)),m&&d.removeChild(b)}}var o={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function a(d,u){for(var f in u)f in o||(f.substr(0,2)==="on"?d[f]=u[f]:d.setAttribute(f,u[f]));u.className!==void 0&&d.setAttribute("class",u.className),u.htmlFor!==void 0&&d.setAttribute("for",u.htmlFor),u.dataset&&c(d,u.dataset),u.style&&p(d,u.style)}function s(d,u,f){if(u!==f){var m;for(m in u)m in o||m in f||(m.substr(0,2)==="on"?d[m]=null:d.removeAttribute(m));for(m in f)m in o||u[m]===f[m]||(m.substr(0,2)==="on"?d[m]=f[m]:d.setAttribute(m,f[m]));u.className!==f.className&&(f.className!==void 0?d.setAttribute("class",f.className):d.removeAttribute("class")),u.htmlFor!==f.htmlFor&&(f.htmlFor!==void 0?d.setAttribute("for",f.htmlFor):d.removeAttribute("for")),u.dataset!==f.dataset&&h(d,u.dataset||{},f.dataset||{}),u.style!==f.style&&v(d,u.style||{},f.style||{})}}function c(d,u){for(var f in u)d.setAttribute("data-"+f,u[f])}function h(d,u,f){for(var m in u)m in f||d.removeAttribute("data-"+m);for(var x in f)u[x]!==f[x]&&d.setAttribute("data-"+x,f[x])}function p(d,u){var f=d.style,m;for(m in u)f[m]=u[m]}function v(d,u,f){var m=d.style,x;for(x in u)x in f||(m[x]="");for(x in f)u[x]!==f[x]&&(m[x]=f[x])}function l(d,u){for(var f=d.firstChild,m=Object.create(null),x=0,M=u;x<M.length;x++){var b=M[x];b.type==="element"&&b.attrs.key&&(m[b.attrs.key]={vNode:b,element:f}),f=f.nextSibling}return m}})(De||(De={}))});function K(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");xt(i,n);function e(){this.constructor=i}i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function cn(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(i);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(i,t[r])&&(e[t[r]]=i[t[r]]);return e}function dn(){for(var i=0,n=0,e=arguments.length;n<e;n++)i+=arguments[n].length;for(var t=Array(i),r=0,n=0;n<e;n++)for(var o=arguments[n],a=0,s=o.length;a<s;a++,r++)t[r]=o[a];return t}var Te,xt,$,Le,ce,Mt,O,tt,Ee,Xe,je,at,Ue,Ve,Oe,_e,hn,nt,At,wt,Ye,Ct,It,St,me,ke,Xt,Lt,Gt,ye,Fe,ie,ui,it,qe,he,ln,Y,$t,U,ci,Et,X,Zt,rt,di,ot,hi,fn,pn,zt,li,We,mn=de(()=>{we();dt();Wt();lt();$e();Kt();Te=Dt(mt());Vt();Yt();Ze();yt();xt=function(i,n){return xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},xt(i,n)};$=function(){return $=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},$.apply(this,arguments)};Le=function(){function i(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return i}();(function(i){function n(o,a){var s=o.length;if(s===0)return a;for(var c=0,h=0,p=0,v=0,l=0,d=0;d<s;++d){var u=o[d],f=u.minSize,m=u.maxSize,x=u.sizeHint;u.done=!1,u.size=Math.max(f,Math.min(x,m)),p+=u.size,c+=f,h+=m,u.stretch>0&&(v+=u.stretch,l++)}if(a===p)return 0;if(a<=c){for(var d=0;d<s;++d){var u=o[d];u.size=u.minSize}return a-c}if(a>=h){for(var d=0;d<s;++d){var u=o[d];u.size=u.maxSize}return a-h}var M=.01,b=s;if(a<p){for(var S=p-a;l>0&&S>M;)for(var E=S,D=v,d=0;d<s;++d){var u=o[d];if(!(u.done||u.stretch===0)){var C=u.stretch*E/D;u.size-C<=u.minSize?(S-=u.size-u.minSize,v-=u.stretch,u.size=u.minSize,u.done=!0,b--,l--):(S-=C,u.size-=C)}}for(;b>0&&S>M;)for(var C=S/b,d=0;d<s;++d){var u=o[d];u.done||(u.size-C<=u.minSize?(S-=u.size-u.minSize,u.size=u.minSize,u.done=!0,b--):(S-=C,u.size-=C))}}else{for(var S=a-p;l>0&&S>M;)for(var E=S,D=v,d=0;d<s;++d){var u=o[d];if(!(u.done||u.stretch===0)){var C=u.stretch*E/D;u.size+C>=u.maxSize?(S-=u.maxSize-u.size,v-=u.stretch,u.size=u.maxSize,u.done=!0,b--,l--):(S-=C,u.size+=C)}}for(;b>0&&S>M;)for(var C=S/b,d=0;d<s;++d){var u=o[d];u.done||(u.size+C>=u.maxSize?(S-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,b--):(S-=C,u.size+=C))}}return 0}i.calc=n;function e(o,a,s){o.length===0||s===0||(s>0?t(o,a,s):r(o,a,-s))}i.adjust=e;function t(o,a,s){for(var c=0,h=0;h<=a;++h){var p=o[h];c+=p.maxSize-p.size}for(var v=0,h=a+1,l=o.length;h<l;++h){var p=o[h];v+=p.size-p.minSize}s=Math.min(s,c,v);for(var d=s,h=a;h>=0&&d>0;--h){var p=o[h],u=p.maxSize-p.size;u>=d?(p.sizeHint=p.size+d,d=0):(p.sizeHint=p.size+u,d-=u)}for(var f=s,h=a+1,l=o.length;h<l&&f>0;++h){var p=o[h],u=p.size-p.minSize;u>=f?(p.sizeHint=p.size-f,f=0):(p.sizeHint=p.size-u,f-=u)}}function r(o,a,s){for(var c=0,h=a+1,p=o.length;h<p;++h){var v=o[h];c+=v.maxSize-v.size}for(var l=0,h=0;h<=a;++h){var v=o[h];l+=v.size-v.minSize}s=Math.min(s,c,l);for(var d=s,h=a+1,p=o.length;h<p&&d>0;++h){var v=o[h],u=v.maxSize-v.size;u>=d?(v.sizeHint=v.size+d,d=0):(v.sizeHint=v.size+u,d-=u)}for(var f=s,h=a;h>=0&&f>0;--h){var v=o[h],u=v.size-v.minSize;u>=f?(v.sizeHint=v.size-f,f=0):(v.sizeHint=v.size-u,f-=u)}}})(ce||(ce={}));Mt=function(){function i(n){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new H(this),this._isDisposed=!1,this.owner=n.owner,n.label!==void 0&&(this._label=n.label),n.mnemonic!==void 0&&(this._mnemonic=n.mnemonic),n.icon!==void 0?typeof n.icon=="string"?(this._icon=null,this._iconClass=n.icon):this._icon=n.icon:this._icon=null,n.iconClass!==void 0&&(this._iconClass=n.iconClass),n.iconLabel!==void 0&&(this._iconLabel=n.iconLabel),n.iconRenderer!==void 0&&(this._icon=n.iconRenderer),n.caption!==void 0&&(this._caption=n.caption),n.className!==void 0&&(this._className=n.className),n.closable!==void 0&&(this._closable=n.closable),this._dataset=n.dataset||{}}return Object.defineProperty(i.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(n){this._label!==n&&(this._label=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(n){this._mnemonic!==n&&(this._mnemonic=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"icon",{get:function(){return this._icon===null?this.iconClass:this._icon},set:function(n){if(typeof n=="string")this._icon=null,this.iconClass=n;else{if(this._icon===n)return;this._icon=n,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconClass",{get:function(){return this._iconClass},set:function(n){this._iconClass!==n&&(this._iconClass=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(n){this._iconLabel!==n&&(this._iconLabel=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(n){this.icon=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"caption",{get:function(){return this._caption},set:function(n){this._caption!==n&&(this._caption=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){return this._className},set:function(n){this._className!==n&&(this._className=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closable",{get:function(){return this._closable},set:function(n){this._closable!==n&&(this._closable=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataset",{get:function(){return this._dataset},set:function(n){this._dataset!==n&&(this._dataset=n,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,H.clearData(this))},i}(),O=function(){function i(n){n===void 0&&(n={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new H(this),this._hiddenMode=i.HiddenMode.Display,this.node=tt.createNode(n),this.addClass("lm-Widget"),this.addClass("p-Widget")}return i.prototype.dispose=function(){this.isDisposed||(this.setFlag(i.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&i.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),H.clearData(this),T.clearData(this),te.clearData(this))},Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this.testFlag(i.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAttached",{get:function(){return this.testFlag(i.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isHidden",{get:function(){return this.testFlag(i.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.testFlag(i.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return tt.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.node.id},set:function(n){this.node.id=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(n){this._hiddenMode!==n&&(this.isHidden&&this._toggleHidden(!1),n==i.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=n,this.isHidden&&this._toggleHidden(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},set:function(n){if(this._parent!==n){if(n&&this.contains(n))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var e=new i.ChildMessage("child-removed",this);T.sendMessage(this._parent,e)}if(this._parent=n,this._parent&&!this._parent.isDisposed){var e=new i.ChildMessage("child-added",this);T.sendMessage(this._parent,e)}this.isDisposed||T.sendMessage(this,i.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){return this._layout},set:function(n){if(this._layout!==n){if(this.testFlag(i.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(n.parent)throw new Error("Cannot change layout parent.");this._layout=n,n.parent=this}},enumerable:!0,configurable:!0}),i.prototype.children=function(){return this._layout?this._layout.iter():se()},i.prototype.contains=function(n){for(var e=n;e;e=e._parent)if(e===this)return!0;return!1},i.prototype.hasClass=function(n){return this.node.classList.contains(n)},i.prototype.addClass=function(n){this.node.classList.add(n)},i.prototype.removeClass=function(n){this.node.classList.remove(n)},i.prototype.toggleClass=function(n,e){return e===!0?(this.node.classList.add(n),!0):e===!1?(this.node.classList.remove(n),!1):this.node.classList.toggle(n)},i.prototype.update=function(){T.postMessage(this,i.Msg.UpdateRequest)},i.prototype.fit=function(){T.postMessage(this,i.Msg.FitRequest)},i.prototype.activate=function(){T.postMessage(this,i.Msg.ActivateRequest)},i.prototype.close=function(){T.sendMessage(this,i.Msg.CloseRequest)},i.prototype.show=function(){if(this.testFlag(i.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&T.sendMessage(this,i.Msg.BeforeShow),this.clearFlag(i.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&T.sendMessage(this,i.Msg.AfterShow),this.parent)){var n=new i.ChildMessage("child-shown",this);T.sendMessage(this.parent,n)}},i.prototype.hide=function(){if(!this.testFlag(i.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&T.sendMessage(this,i.Msg.BeforeHide),this.setFlag(i.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&T.sendMessage(this,i.Msg.AfterHide),this.parent)){var n=new i.ChildMessage("child-hidden",this);T.sendMessage(this.parent,n)}},i.prototype.setHidden=function(n){n?this.hide():this.show()},i.prototype.testFlag=function(n){return(this._flags&n)!==0},i.prototype.setFlag=function(n){this._flags|=n},i.prototype.clearFlag=function(n){this._flags&=~n},i.prototype.processMessage=function(n){switch(n.type){case"resize":this.notifyLayout(n),this.onResize(n);break;case"update-request":this.notifyLayout(n),this.onUpdateRequest(n);break;case"fit-request":this.notifyLayout(n),this.onFitRequest(n);break;case"before-show":this.notifyLayout(n),this.onBeforeShow(n);break;case"after-show":this.setFlag(i.Flag.IsVisible),this.notifyLayout(n),this.onAfterShow(n);break;case"before-hide":this.notifyLayout(n),this.onBeforeHide(n);break;case"after-hide":this.clearFlag(i.Flag.IsVisible),this.notifyLayout(n),this.onAfterHide(n);break;case"before-attach":this.notifyLayout(n),this.onBeforeAttach(n);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(i.Flag.IsVisible),this.setFlag(i.Flag.IsAttached),this.notifyLayout(n),this.onAfterAttach(n);break;case"before-detach":this.notifyLayout(n),this.onBeforeDetach(n);break;case"after-detach":this.clearFlag(i.Flag.IsVisible),this.clearFlag(i.Flag.IsAttached),this.notifyLayout(n),this.onAfterDetach(n);break;case"activate-request":this.notifyLayout(n),this.onActivateRequest(n);break;case"close-request":this.notifyLayout(n),this.onCloseRequest(n);break;case"child-added":this.notifyLayout(n),this.onChildAdded(n);break;case"child-removed":this.notifyLayout(n),this.onChildRemoved(n);break;default:this.notifyLayout(n);break}},i.prototype.notifyLayout=function(n){this._layout&&this._layout.processParentMessage(n)},i.prototype.onCloseRequest=function(n){this.parent?this.parent=null:this.isAttached&&i.detach(this)},i.prototype.onResize=function(n){},i.prototype.onUpdateRequest=function(n){},i.prototype.onFitRequest=function(n){},i.prototype.onActivateRequest=function(n){},i.prototype.onBeforeShow=function(n){},i.prototype.onAfterShow=function(n){},i.prototype.onBeforeHide=function(n){},i.prototype.onAfterHide=function(n){},i.prototype.onBeforeAttach=function(n){},i.prototype.onAfterAttach=function(n){},i.prototype.onBeforeDetach=function(n){},i.prototype.onAfterDetach=function(n){},i.prototype.onChildAdded=function(n){},i.prototype.onChildRemoved=function(n){},i.prototype._toggleHidden=function(n){if(n)switch(this._hiddenMode){case i.HiddenMode.Display:this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden");break;case i.HiddenMode.Scale:this.node.style.transform="scale(0)";break;case i.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case i.HiddenMode.Display:this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden");break;case i.HiddenMode.Scale:this.node.style.transform="";break;case i.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}},i}();(function(i){(function(o){o[o.Display=0]="Display",o[o.Scale=1]="Scale",o[o.ContentVisibility=2]="ContentVisibility"})(i.HiddenMode||(i.HiddenMode={})),function(o){o[o.IsDisposed=1]="IsDisposed",o[o.IsAttached=2]="IsAttached",o[o.IsHidden=4]="IsHidden",o[o.IsVisible=8]="IsVisible",o[o.DisallowLayout=16]="DisallowLayout"}(i.Flag||(i.Flag={})),function(o){o.BeforeShow=new ue("before-show"),o.AfterShow=new ue("after-show"),o.BeforeHide=new ue("before-hide"),o.AfterHide=new ue("after-hide"),o.BeforeAttach=new ue("before-attach"),o.AfterAttach=new ue("after-attach"),o.BeforeDetach=new ue("before-detach"),o.AfterDetach=new ue("after-detach"),o.ParentChanged=new ue("parent-changed"),o.UpdateRequest=new Re("update-request"),o.FitRequest=new Re("fit-request"),o.ActivateRequest=new Re("activate-request"),o.CloseRequest=new Re("close-request")}(i.Msg||(i.Msg={}));var n=function(o){K(a,o);function a(s,c){var h=o.call(this,s)||this;return h.child=c,h}return a}(ue);i.ChildMessage=n;var e=function(o){K(a,o);function a(s,c){var h=o.call(this,"resize")||this;return h.width=s,h.height=c,h}return a}(ue);i.ResizeMessage=e,function(o){o.UnknownSize=new o(-1,-1)}(e=i.ResizeMessage||(i.ResizeMessage={}));function t(o,a,s){if(s===void 0&&(s=null),o.parent)throw new Error("Cannot attach a child widget.");if(o.isAttached||o.node.isConnected)throw new Error("Widget is already attached.");if(!a.isConnected)throw new Error("Host is not attached.");T.sendMessage(o,i.Msg.BeforeAttach),a.insertBefore(o.node,s),T.sendMessage(o,i.Msg.AfterAttach)}i.attach=t;function r(o){if(o.parent)throw new Error("Cannot detach a child widget.");if(!o.isAttached||!o.node.isConnected)throw new Error("Widget is not attached.");T.sendMessage(o,i.Msg.BeforeDetach),o.node.parentNode.removeChild(o.node),T.sendMessage(o,i.Msg.AfterDetach)}i.detach=r})(O||(O={}));(function(i){i.titleProperty=new te({name:"title",create:function(e){return new Mt({owner:e})}});function n(e){return e.node||document.createElement(e.tag||"div")}i.createNode=n})(tt||(tt={}));Ee=function(){function i(n){n===void 0&&(n={}),this._disposed=!1,this._parent=null,this._fitPolicy=n.fitPolicy||"set-min-size"}return i.prototype.dispose=function(){this._parent=null,this._disposed=!0,H.clearData(this),te.clearData(this)},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._parent},set:function(n){if(this._parent!==n){if(this._parent)throw new Error("Cannot change parent widget.");if(n.layout!==this)throw new Error("Invalid parent widget.");this._parent=n,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(n){if(this._fitPolicy!==n&&(this._fitPolicy=n,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),i.prototype.processParentMessage=function(n){switch(n.type){case"resize":this.onResize(n);break;case"update-request":this.onUpdateRequest(n);break;case"fit-request":this.onFitRequest(n);break;case"before-show":this.onBeforeShow(n);break;case"after-show":this.onAfterShow(n);break;case"before-hide":this.onBeforeHide(n);break;case"after-hide":this.onAfterHide(n);break;case"before-attach":this.onBeforeAttach(n);break;case"after-attach":this.onAfterAttach(n);break;case"before-detach":this.onBeforeDetach(n);break;case"after-detach":this.onAfterDetach(n);break;case"child-removed":this.onChildRemoved(n);break;case"child-shown":this.onChildShown(n);break;case"child-hidden":this.onChildHidden(n);break}},i.prototype.init=function(){var n=this;R(this,function(e){e.parent=n.parent})},i.prototype.onResize=function(n){R(this,function(e){T.sendMessage(e,O.ResizeMessage.UnknownSize)})},i.prototype.onUpdateRequest=function(n){R(this,function(e){T.sendMessage(e,O.ResizeMessage.UnknownSize)})},i.prototype.onBeforeAttach=function(n){R(this,function(e){T.sendMessage(e,n)})},i.prototype.onAfterAttach=function(n){R(this,function(e){T.sendMessage(e,n)})},i.prototype.onBeforeDetach=function(n){R(this,function(e){T.sendMessage(e,n)})},i.prototype.onAfterDetach=function(n){R(this,function(e){T.sendMessage(e,n)})},i.prototype.onBeforeShow=function(n){R(this,function(e){e.isHidden||T.sendMessage(e,n)})},i.prototype.onAfterShow=function(n){R(this,function(e){e.isHidden||T.sendMessage(e,n)})},i.prototype.onBeforeHide=function(n){R(this,function(e){e.isHidden||T.sendMessage(e,n)})},i.prototype.onAfterHide=function(n){R(this,function(e){e.isHidden||T.sendMessage(e,n)})},i.prototype.onChildRemoved=function(n){this.removeWidget(n.child)},i.prototype.onFitRequest=function(n){},i.prototype.onChildShown=function(n){},i.prototype.onChildHidden=function(n){},i}();(function(i){function n(o){return je.horizontalAlignmentProperty.get(o)}i.getHorizontalAlignment=n;function e(o,a){je.horizontalAlignmentProperty.set(o,a)}i.setHorizontalAlignment=e;function t(o){return je.verticalAlignmentProperty.get(o)}i.getVerticalAlignment=t;function r(o,a){je.verticalAlignmentProperty.set(o,a)}i.setVerticalAlignment=r})(Ee||(Ee={}));Xe=function(){function i(n){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=n,this.widget.node.style.position="absolute"}return i.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var n=this.widget.node.style;n.position="",n.top="",n.left="",n.width="",n.height=""}},Object.defineProperty(i.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),i.prototype.fit=function(){var n=W.sizeLimits(this.widget.node);this._minWidth=n.minWidth,this._minHeight=n.minHeight,this._maxWidth=n.maxWidth,this._maxHeight=n.maxHeight},i.prototype.update=function(n,e,t,r){var o=Math.max(this._minWidth,Math.min(t,this._maxWidth)),a=Math.max(this._minHeight,Math.min(r,this._maxHeight));if(o<t)switch(Ee.getHorizontalAlignment(this.widget)){case"left":break;case"center":n+=(t-o)/2;break;case"right":n+=t-o;break;default:throw"unreachable"}if(a<r)switch(Ee.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(r-a)/2;break;case"bottom":e+=r-a;break;default:throw"unreachable"}var s=!1,c=this.widget.node.style;if(this._top!==e&&(this._top=e,c.top=e+"px"),this._left!==n&&(this._left=n,c.left=n+"px"),this._width!==o&&(s=!0,this._width=o,c.width=o+"px"),this._height!==a&&(s=!0,this._height=a,c.height=a+"px"),s){var h=new O.ResizeMessage(o,a);T.sendMessage(this.widget,h)}},i}();(function(i){i.horizontalAlignmentProperty=new te({name:"horizontalAlignment",create:function(){return"center"},changed:n}),i.verticalAlignmentProperty=new te({name:"verticalAlignment",create:function(){return"top"},changed:n});function n(e){e.parent&&e.parent.layout&&e.parent.update()}})(je||(je={}));at=function(i){K(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._widgets=[],e}return n.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return ae(this._widgets)},n.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},n.prototype.insertWidget=function(e,t){t.parent=this.parent;var r=this._widgets.indexOf(t),o=Math.max(0,Math.min(e,this._widgets.length));if(r===-1){A.insert(this._widgets,o,t),this.parent&&this.attachWidget(o,t);return}o===this._widgets.length&&o--,r!==o&&(A.move(this._widgets,r,o),this.parent&&this.moveWidget(r,o,t))},n.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},n.prototype.removeWidgetAt=function(e){var t=A.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},n.prototype.init=function(){var e=this;i.prototype.init.call(this),R(this,function(t,r){e.attachWidget(r,t)})},n.prototype.attachWidget=function(e,t){var r=this.parent.node.children[e];this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,r),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterAttach)},n.prototype.moveWidget=function(e,t,r){this.parent.isAttached&&T.sendMessage(r,O.Msg.BeforeDetach),this.parent.node.removeChild(r.node),this.parent.isAttached&&T.sendMessage(r,O.Msg.AfterDetach);var o=this.parent.node.children[t];this.parent.isAttached&&T.sendMessage(r,O.Msg.BeforeAttach),this.parent.node.insertBefore(r.node,o),this.parent.isAttached&&T.sendMessage(r,O.Msg.AfterAttach)},n.prototype.detachWidget=function(e,t){this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterDetach)},n}(Ee);(function(i){function n(e){return Math.max(0,Math.floor(e))}i.clampDimension=n})(Ue||(Ue={}));Ve=Ue,Oe=function(i){K(n,i);function n(e){var t=i.call(this)||this;return t.widgetOffset=0,t._fixed=0,t._spacing=4,t._dirty=!1,t._hasNormedSizes=!1,t._sizers=[],t._items=[],t._handles=[],t._box=null,t._alignment="start",t._orientation="horizontal",t.renderer=e.renderer,e.orientation!==void 0&&(t._orientation=e.orientation),e.alignment!==void 0&&(t._alignment=e.alignment),e.spacing!==void 0&&(t._spacing=Ue.clampDimension(e.spacing)),t}return n.prototype.dispose=function(){R(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Ue.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),n.prototype.absoluteSizes=function(){return this._sizers.map(function(e){return e.size})},n.prototype.relativeSizes=function(){return _e.normalize(this._sizers.map(function(e){return e.size}))},n.prototype.setRelativeSizes=function(e,t){t===void 0&&(t=!0);for(var r=this._sizers.length,o=e.slice(0,r);o.length<r;)o.push(0);for(var a=_e.normalize(o),s=0;s<r;++s){var c=this._sizers[s];c.sizeHint=a[s],c.size=a[s]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()},n.prototype.moveHandle=function(e,t){var r=this._handles[e];if(!(!r||r.classList.contains("lm-mod-hidden"))){var o;if(this._orientation==="horizontal"?o=t-r.offsetLeft:o=t-r.offsetTop,o!==0){for(var a=0,s=this._sizers;a<s.length;a++){var c=s[a];c.size>0&&(c.sizeHint=c.size)}ce.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}},n.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,i.prototype.init.call(this)},n.prototype.attachWidget=function(e,t){var r=new Xe(t),o=_e.createHandle(this.renderer),a=_e.averageSize(this._sizers),s=_e.createSizer(a);A.insert(this._items,e,r),A.insert(this._sizers,e,s),A.insert(this._handles,e,o),this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(o),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,t,r){A.move(this._items,e,t),A.move(this._sizers,e,t),A.move(this._handles,e,t),this.parent.fit()},n.prototype.detachWidget=function(e,t){var r=A.removeAt(this._items,e),o=A.removeAt(this._handles,e);A.removeAt(this._sizers,e),this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(o),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterDetach),r.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){i.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){i.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype.updateItemPosition=function(e,t,r,o,a,s,c){var h=this._items[e];if(!h.isHidden){var p=this._handles[e].style;t?(r+=this.widgetOffset,h.update(r,o,c,a),r+=c,p.top=o+"px",p.left=r+"px",p.width=this._spacing+"px",p.height=a+"px"):(o+=this.widgetOffset,h.update(r,o,s,c),o+=c,p.top=o+"px",p.left=r+"px",p.width=s+"px",p.height=this._spacing+"px")}},n.prototype._fit=function(){for(var e=0,t=-1,r=0,o=this._items.length;r<o;++r)this._items[r].isHidden?(this._handles[r].classList.add("lm-mod-hidden"),this._handles[r].classList.add("p-mod-hidden")):(this._handles[r].classList.remove("lm-mod-hidden"),this._handles[r].classList.remove("p-mod-hidden"),t=r,e++);t!==-1&&(this._handles[t].classList.add("lm-mod-hidden"),this._handles[t].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;for(var a=this._orientation==="horizontal",s=a?this._fixed:0,c=a?0:this._fixed,r=0,o=this._items.length;r<o;++r){var h=this._items[r],p=this._sizers[r];if(p.size>0&&(p.sizeHint=p.size),h.isHidden){p.minSize=0,p.maxSize=0;continue}h.fit(),p.stretch=n.getStretch(h.widget),a?(p.minSize=h.minWidth,p.maxSize=h.maxWidth,s+=h.minWidth,c=Math.max(c,h.minHeight)):(p.minSize=h.minHeight,p.maxSize=h.maxHeight,c+=h.minHeight,s=Math.max(s,h.minWidth))}var v=this._box=W.boxSizing(this.parent.node);s+=v.horizontalSum,c+=v.verticalSum;var l=this.parent.node.style;l.minWidth=s+"px",l.minHeight=c+"px",this._dirty=!0,this.parent.parent&&T.sendMessage(this.parent.parent,O.Msg.FitRequest),this._dirty&&T.sendMessage(this.parent,O.Msg.UpdateRequest)},n.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(!(r===0&&this.widgetOffset===0)){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=W.boxSizing(this.parent.node));var s=this._box.paddingTop,c=this._box.paddingLeft,h=e-this._box.horizontalSum,p=t-this._box.verticalSum,v=0,l=0,d=this._orientation==="horizontal";if(r>0){var u=void 0;if(d?u=Math.max(0,h-this._fixed):u=Math.max(0,p-this._fixed),this._hasNormedSizes){for(var f=0,m=this._sizers;f<m.length;f++){var x=m[f];x.sizeHint*=u}this._hasNormedSizes=!1}var M=ce.calc(this._sizers,u);if(M>0)switch(this._alignment){case"start":break;case"center":v=0,l=M/2;break;case"end":v=0,l=M;break;case"justify":v=M/r,l=0;break;default:throw"unreachable"}}for(var o=0,a=this._items.length;o<a;++o){var b=this._items[o],S=b.isHidden?0:this._sizers[o].size+v;this.updateItemPosition(o,d,d?c+l:c,d?s:s+l,p,h,S);var E=this.widgetOffset+(this._handles[o].classList.contains("lm-mod-hidden")?0:this._spacing);d?c+=S+E:s+=S+E}}},n}(at);(function(i){function n(t){return _e.stretchProperty.get(t)}i.getStretch=n;function e(t,r){_e.stretchProperty.set(t,r)}i.setStretch=e})(Oe||(Oe={}));(function(i){i.stretchProperty=new te({name:"stretch",create:function(){return 0},coerce:function(a,s){return Math.max(0,Math.floor(s))},changed:o});function n(a){var s=new Le;return s.sizeHint=Math.floor(a),s}i.createSizer=n;function e(a){var s=a.createHandle();return s.style.position="absolute",s}i.createHandle=e;function t(a){return a.reduce(function(s,c){return s+c.size},0)/a.length||0}i.averageSize=t;function r(a){var s=a.length;if(s===0)return[];var c=a.reduce(function(h,p){return h+Math.abs(p)},0);return c===0?a.map(function(h){return 1/s}):a.map(function(h){return h/c})}i.normalize=r;function o(a){a.parent&&a.parent.layout instanceof Oe&&a.parent.fit()}})(_e||(_e={}));hn=function(i){K(n,i);function n(e){var t=i.call(this,$($({},e),{orientation:e.orientation||"vertical"}))||this;return t._titles=[],t.titleSpace=e.titleSpace||22,t}return Object.defineProperty(n.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(e){e=Ve.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,i.prototype.dispose.call(this))},n.prototype.updateTitle=function(e,t){var r=this._titles[e],o=r.classList.contains("lm-mod-expanded"),a=nt.createTitle(this.renderer,t.title,o);this._titles[e]=a,this.parent.node.replaceChild(a,r)},n.prototype.attachWidget=function(e,t){var r=nt.createTitle(this.renderer,t.title);A.insert(this._titles,e,r),this.parent.node.appendChild(r),t.node.setAttribute("role","region"),t.node.setAttribute("aria-labelledby",r.id),i.prototype.attachWidget.call(this,e,t)},n.prototype.moveWidget=function(e,t,r){A.move(this._titles,e,t),i.prototype.moveWidget.call(this,e,t,r)},n.prototype.detachWidget=function(e,t){var r=A.removeAt(this._titles,e);this.parent.node.removeChild(r),i.prototype.detachWidget.call(this,e,t)},n.prototype.updateItemPosition=function(e,t,r,o,a,s,c){var h=this._titles[e].style;h.top=o+"px",h.left=r+"px",h.height=this.widgetOffset+"px",t?h.width=a+"px":h.width=s+"px",i.prototype.updateItemPosition.call(this,e,t,r,o,a,s,c)},n}(Oe);(function(i){function n(e,t,r){r===void 0&&(r=!0);var o=e.createSectionTitle(t);return o.style.position="absolute",o.setAttribute("aria-label",t.label+" Section"),o.setAttribute("aria-expanded",r?"true":"false"),o.setAttribute("aria-controls",t.owner.id),r&&o.classList.add("lm-mod-expanded"),o}i.createTitle=n})(nt||(nt={}));At=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;return t.addClass("lm-Panel"),t.addClass("p-Panel"),t.layout=wt.createLayout(e),t}return Object.defineProperty(n.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){this.layout.addWidget(e)},n.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},n}(O);(function(i){function n(e){return e.layout||new at}i.createLayout=n})(wt||(wt={}));Ye=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{layout:Ct.createLayout(e)})||this;return t._handleMoved=new H(t),t._pressData=null,t.addClass("lm-SplitPanel"),t.addClass("p-SplitPanel"),t}return n.prototype.dispose=function(){this._releaseMouse(),i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),n.prototype.relativeSizes=function(){return this.layout.relativeSizes()},n.prototype.setRelativeSizes=function(e,t){t===void 0&&(t=!0),this.layout.setRelativeSizes(e,t)},n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},n.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child"),e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child"),e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},n.prototype._evtKeyDown=function(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()},n.prototype._evtMouseDown=function(e){if(e.button===0){var t=this.layout,r=A.findFirstIndex(t.handles,function(p){return p.contains(e.target)});if(r!==-1){e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var o,a=t.handles[r],s=a.getBoundingClientRect();t.orientation==="horizontal"?o=e.clientX-s.left:o=e.clientY-s.top;var c=window.getComputedStyle(a),h=Ie.overrideCursor(c.cursor);this._pressData={index:r,delta:o,override:h}}}},n.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t,r=this.layout,o=this.node.getBoundingClientRect();r.orientation==="horizontal"?t=e.clientX-o.left-this._pressData.delta:t=e.clientY-o.top-this._pressData.delta,r.moveHandle(this._pressData.index,t)},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},n.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},n}(At);(function(i){var n=function(){function r(){}return r.prototype.createHandle=function(){var o=document.createElement("div");return o.className="lm-SplitPanel-handle",o.classList.add("p-SplitPanel-handle"),o},r}();i.Renderer=n,i.defaultRenderer=new n;function e(r){return Oe.getStretch(r)}i.getStretch=e;function t(r,o){Oe.setStretch(r,o)}i.setStretch=t})(Ye||(Ye={}));(function(i){function n(e){return e.layout||new Oe({renderer:e.renderer||Ye.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}i.createLayout=n})(Ct||(Ct={}));It=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,$($({},e),{layout:St.createLayout(e)}))||this;return t._widgetSizesCache=new WeakMap,t.addClass("lm-AccordionPanel"),t}return Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(e){this.layout.titleSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){i.prototype.addWidget.call(this,e),e.title.changed.connect(this._onTitleChanged,this)},n.prototype.collapse=function(e){var t=this.layout.widgets[e];t&&!t.isHidden&&this._toggleExpansion(e)},n.prototype.expand=function(e){var t=this.layout.widgets[e];t&&t.isHidden&&this._toggleExpansion(e)},n.prototype.insertWidget=function(e,t){i.prototype.insertWidget.call(this,e,t),t.title.changed.connect(this._onTitleChanged,this)},n.prototype.handleEvent=function(e){switch(i.prototype.handleEvent.call(this,e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),i.prototype.onBeforeAttach.call(this,e)},n.prototype.onAfterDetach=function(e){i.prototype.onAfterDetach.call(this,e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},n.prototype._onTitleChanged=function(e){var t=A.findFirstIndex(this.widgets,function(r){return r.contains(e.owner)});t>=0&&(this.layout.updateTitle(t,e.owner),this.update())},n.prototype._computeWidgetSize=function(e){var t=this.layout,r=t.widgets[e];if(r){var o=r.isHidden,a=t.absoluteSizes(),s=(o?-1:1)*this.spacing,c=a.reduce(function(d,u){return d+u}),h=dn(a);if(o){var l=this._widgetSizesCache.get(r);if(!l)return;h[e]+=l;var v=h.map(function(u){return u-l>0}).lastIndexOf(!0);v===-1?h.forEach(function(u,f){f!==e&&(h[f]-=a[f]/c*(l-s))}):h[v]-=l-s}else{var p=a[e];this._widgetSizesCache.set(r,p),h[e]=0;var v=h.map(function(d){return d>0}).lastIndexOf(!0);if(v===-1)return;h[v]=a[v]+p+s}return h.map(function(d){return d/(c+s)})}},n.prototype._evtClick=function(e){var t=e.target;if(t){var r=A.findFirstIndex(this.titles,function(o){return o.contains(t)});r>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(r))}},n.prototype._eventKeyDown=function(e){if(!e.defaultPrevented){var t=e.target,r=!1;if(t){var o=A.findFirstIndex(this.titles,function(p){return p.contains(t)});if(o>=0){var a=e.keyCode.toString();if(e.key.match(/Space|Enter/)||a.match(/13|32/))t.click(),r=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||a.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||a.match(/38|40/)){var s=e.key.match(/ArrowLeft|ArrowUp/)||a.match(/37|38/)?-1:1,c=this.titles.length,h=(o+c+s)%c;this.titles[h].focus(),r=!0}else e.key==="End"||a==="35"?(this.titles[this.titles.length-1].focus(),r=!0):(e.key==="Home"||a==="36")&&(this.titles[0].focus(),r=!0)}r&&e.preventDefault()}}},n.prototype._toggleExpansion=function(e){var t=this.titles[e],r=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),r.isHidden?(t.classList.add("lm-mod-expanded"),t.setAttribute("aria-expanded","true"),r.show()):(t.classList.remove("lm-mod-expanded"),t.setAttribute("aria-expanded","false"),r.hide())},n}(Ye);(function(i){var n=function(e){K(t,e);function t(){var r=e.call(this)||this;return r.titleClassName="lm-AccordionPanel-title",r._titleID=0,r._titleKeys=new WeakMap,r._uuid=++t._nInstance,r}return t.prototype.createCollapseIcon=function(r){return document.createElement("span")},t.prototype.createSectionTitle=function(r){var o=document.createElement("h3");o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.id=this.createTitleKey(r),o.className=this.titleClassName;for(var a in r.dataset)o.dataset[a]=r.dataset[a];var s=o.appendChild(this.createCollapseIcon(r));s.className="lm-AccordionPanel-titleCollapser";var c=o.appendChild(document.createElement("span"));return c.className="lm-AccordionPanel-titleLabel",c.textContent=r.label,c.title=r.caption||r.label,o},t.prototype.createTitleKey=function(r){var o=this._titleKeys.get(r);return o===void 0&&(o="title-key-"+this._uuid+"-"+this._titleID++,this._titleKeys.set(r,o)),o},t._nInstance=0,t}(Ye.Renderer);i.Renderer=n,i.defaultRenderer=new n})(It||(It={}));(function(i){function n(e){return e.layout||new hn({renderer:e.renderer||It.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing,titleSpace:e.titleSpace})}i.createLayout=n})(St||(St={}));me=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;return t._fixed=0,t._spacing=4,t._dirty=!1,t._sizers=[],t._items=[],t._box=null,t._alignment="start",t._direction="top-to-bottom",e.direction!==void 0&&(t._direction=e.direction),e.alignment!==void 0&&(t._alignment=e.alignment),e.spacing!==void 0&&(t._spacing=Ve.clampDimension(e.spacing)),t}return n.prototype.dispose=function(){R(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Ve.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,i.prototype.init.call(this)},n.prototype.attachWidget=function(e,t){A.insert(this._items,e,new Xe(t)),A.insert(this._sizers,e,new Le),this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,t,r){A.move(this._items,e,t),A.move(this._sizers,e,t),this.parent.update()},n.prototype.detachWidget=function(e,t){var r=A.removeAt(this._items,e);A.removeAt(this._sizers,e),this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterDetach),r.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){i.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){i.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,t=0,r=this._items.length;t<r;++t)e+=+!this._items[t].isHidden;this._fixed=this._spacing*Math.max(0,e-1);for(var o=ke.isHorizontal(this._direction),a=o?this._fixed:0,s=o?0:this._fixed,t=0,r=this._items.length;t<r;++t){var c=this._items[t],h=this._sizers[t];if(c.isHidden){h.minSize=0,h.maxSize=0;continue}c.fit(),h.sizeHint=n.getSizeBasis(c.widget),h.stretch=n.getStretch(c.widget),o?(h.minSize=c.minWidth,h.maxSize=c.maxWidth,a+=c.minWidth,s=Math.max(s,c.minHeight)):(h.minSize=c.minHeight,h.maxSize=c.maxHeight,s+=c.minHeight,a=Math.max(a,c.minWidth))}var p=this._box=W.boxSizing(this.parent.node);a+=p.horizontalSum,s+=p.verticalSum;var v=this.parent.node.style;v.minWidth=a+"px",v.minHeight=s+"px",this._dirty=!0,this.parent.parent&&T.sendMessage(this.parent.parent,O.Msg.FitRequest),this._dirty&&T.sendMessage(this.parent,O.Msg.UpdateRequest)},n.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(r!==0){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=W.boxSizing(this.parent.node));var s=this._box.paddingTop,c=this._box.paddingLeft,h=e-this._box.horizontalSum,p=t-this._box.verticalSum,v;switch(this._direction){case"left-to-right":v=ce.calc(this._sizers,Math.max(0,h-this._fixed));break;case"top-to-bottom":v=ce.calc(this._sizers,Math.max(0,p-this._fixed));break;case"right-to-left":v=ce.calc(this._sizers,Math.max(0,h-this._fixed)),c+=h;break;case"bottom-to-top":v=ce.calc(this._sizers,Math.max(0,p-this._fixed)),s+=p;break;default:throw"unreachable"}var l=0,d=0;if(v>0)switch(this._alignment){case"start":break;case"center":l=0,d=v/2;break;case"end":l=0,d=v;break;case"justify":l=v/r,d=0;break;default:throw"unreachable"}for(var o=0,a=this._items.length;o<a;++o){var u=this._items[o];if(!u.isHidden){var f=this._sizers[o].size;switch(this._direction){case"left-to-right":u.update(c+d,s,f+l,p),c+=f+l+this._spacing;break;case"top-to-bottom":u.update(c,s+d,h,f+l),s+=f+l+this._spacing;break;case"right-to-left":u.update(c-d-f-l,s,f+l,p),c-=f+l+this._spacing;break;case"bottom-to-top":u.update(c,s-d-f-l,h,f+l),s-=f+l+this._spacing;break;default:throw"unreachable"}}}}},n}(at);(function(i){function n(o){return ke.stretchProperty.get(o)}i.getStretch=n;function e(o,a){ke.stretchProperty.set(o,a)}i.setStretch=e;function t(o){return ke.sizeBasisProperty.get(o)}i.getSizeBasis=t;function r(o,a){ke.sizeBasisProperty.set(o,a)}i.setSizeBasis=r})(me||(me={}));(function(i){i.stretchProperty=new te({name:"stretch",create:function(){return 0},coerce:function(r,o){return Math.max(0,Math.floor(o))},changed:t}),i.sizeBasisProperty=new te({name:"sizeBasis",create:function(){return 0},coerce:function(r,o){return Math.max(0,Math.floor(o))},changed:t});function n(r){return r==="left-to-right"||r==="right-to-left"}i.isHorizontal=n;function e(r){return Math.max(0,Math.floor(r))}i.clampSpacing=e;function t(r){r.parent&&r.parent.layout instanceof me&&r.parent.fit()}})(ke||(ke={}));Xt=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{layout:Lt.createLayout(e)})||this;return t.addClass("lm-BoxPanel"),t.addClass("p-BoxPanel"),t}return Object.defineProperty(n.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),n.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child"),e.child.addClass("p-BoxPanel-child")},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child"),e.child.removeClass("p-BoxPanel-child")},n}(At);(function(i){function n(o){return me.getStretch(o)}i.getStretch=n;function e(o,a){me.setStretch(o,a)}i.setStretch=e;function t(o){return me.getSizeBasis(o)}i.getSizeBasis=t;function r(o,a){me.setSizeBasis(o,a)}i.setSizeBasis=r})(Xt||(Xt={}));(function(i){function n(e){return e.layout||new me(e)}i.createLayout=n})(Lt||(Lt={}));Gt=function(i){K(n,i);function n(e){var t=i.call(this,{node:ye.createNode()})||this;return t._activeIndex=-1,t._items=[],t._results=null,t.addClass("lm-CommandPalette"),t.addClass("p-CommandPalette"),t.setFlag(O.Flag.DisallowLayout),t.commands=e.commands,t.renderer=e.renderer||n.defaultRenderer,t.commands.commandChanged.connect(t._onGenericChange,t),t.commands.keyBindingChanged.connect(t._onGenericChange,t),t}return n.prototype.dispose=function(){this._items.length=0,this._results=null,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),n.prototype.addItem=function(e){var t=ye.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},n.prototype.addItems=function(e){var t=this,r=e.map(function(o){return ye.createItem(t.commands,o)});return r.forEach(function(o){return t._items.push(o)}),this.refresh(),r},n.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},n.prototype.removeItemAt=function(e){var t=A.removeAt(this._items,e);t&&this.refresh()},n.prototype.clearItems=function(){this._items.length!==0&&(this._items.length=0,this.refresh())},n.prototype.refresh=function(){if(this._results=null,this.inputNode.value!==""){var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()},n.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},n.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},n.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,r=this.contentNode,o=this._results;if(o||(o=this._results=ye.search(this._items,t),this._activeIndex=t?A.findFirstIndex(o,ye.canActivate):-1),!t&&o.length===0){ge.render(null,r);return}if(t&&o.length===0){var a=this.renderer.renderEmptyMessage({query:t});ge.render(a,r);return}for(var s=this.renderer,c=this._activeIndex,h=new Array(o.length),p=0,v=o.length;p<v;++p){var l=o[p];if(l.type==="header"){var d=l.indices,u=l.category;h[p]=s.renderHeader({category:u,indices:d})}else{var f=l.item,d=l.indices,m=p===c;h[p]=s.renderItem({item:f,indices:d,active:m})}}if(ge.render(h,r),c<0||c>=o.length)r.scrollTop=0;else{var x=r.children[c];W.scrollIntoViewIfNeeded(r,x)}},n.prototype._evtClick=function(e){if(e.button===0){if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}var t=A.findFirstIndex(this.contentNode.children,function(r){return r.contains(e.target)});t!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},n.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}},n.prototype._activateNextItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,t=this._results.length,r=e<t-1?e+1:0,o=r===0?t-1:r-1;this._activeIndex=A.findFirstIndex(this._results,ye.canActivate,r,o),this.update()}},n.prototype._activatePreviousItem=function(){if(!(!this._results||this._results.length===0)){var e=this._activeIndex,t=this._results.length,r=e<=0?t-1:e-1,o=r===t-1?0:r+1;this._activeIndex=A.findLastIndex(this._results,ye.canActivate,r,o),this.update()}},n.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if(t.type==="header"){var r=this.inputNode;r.value=t.category.toLowerCase()+" ",r.focus(),this.refresh();return}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},n.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e),this.toggleClass("p-mod-focused",e)},n.prototype._onGenericChange=function(){this.refresh()},n}(O);(function(i){var n=function(){function e(){}return e.prototype.renderHeader=function(t){var r=this.formatHeader(t);return j.li({className:"lm-CommandPalette-header p-CommandPalette-header"},r)},e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t);return t.item.isToggleable?j.li({className:r,dataset:o,role:"checkbox","aria-checked":""+t.item.isToggled},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t)):j.li({className:r,dataset:o},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t))},e.prototype.renderEmptyMessage=function(t){var r=this.formatEmptyMessage(t);return j.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},r)},e.prototype.renderItemIcon=function(t){var r=this.createIconClass(t);return typeof t.item.icon=="string"?j.div({className:r},t.item.iconLabel):j.div({className:r},t.item.icon,t.item.iconLabel)},e.prototype.renderItemContent=function(t){return j.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(t),this.renderItemCaption(t))},e.prototype.renderItemLabel=function(t){var r=this.formatItemLabel(t);return j.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},r)},e.prototype.renderItemCaption=function(t){var r=this.formatItemCaption(t);return j.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},r)},e.prototype.renderItemShortcut=function(t){var r=this.formatItemShortcut(t);return j.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},r)},e.prototype.createItemClass=function(t){var r="lm-CommandPalette-item";r+=" p-CommandPalette-item",t.item.isEnabled||(r+=" lm-mod-disabled",r+=" p-mod-disabled"),t.item.isToggled&&(r+=" lm-mod-toggled",r+=" p-mod-toggled"),t.active&&(r+=" lm-mod-active",r+=" p-mod-active");var o=t.item.className;return o&&(r+=" "+o),r},e.prototype.createItemDataset=function(t){return $($({},t.item.dataset),{command:t.item.command})},e.prototype.createIconClass=function(t){var r="lm-CommandPalette-itemIcon";r+=" p-CommandPalette-itemIcon";var o=t.item.iconClass;return o?r+" "+o:r},e.prototype.formatHeader=function(t){return!t.indices||t.indices.length===0?t.category:Pe.highlight(t.category,t.indices,j.mark)},e.prototype.formatEmptyMessage=function(t){return"No commands found that match '"+t.query+"'"},e.prototype.formatItemShortcut=function(t){var r=t.item.keyBinding;return r?Ne.formatKeystroke(r.keys):null},e.prototype.formatItemLabel=function(t){return!t.indices||t.indices.length===0?t.item.label:Pe.highlight(t.item.label,t.indices,j.mark)},e.prototype.formatItemCaption=function(t){return t.item.caption},e}();i.Renderer=n,i.defaultRenderer=new n})(Gt||(Gt={}));(function(i){function n(){var l=document.createElement("div"),d=document.createElement("div"),u=document.createElement("div"),f=document.createElement("input"),m=document.createElement("ul"),x=document.createElement("button");return d.className="lm-CommandPalette-search",u.className="lm-CommandPalette-wrapper",f.className="lm-CommandPalette-input",x.className="lm-close-icon",m.className="lm-CommandPalette-content",d.classList.add("p-CommandPalette-search"),u.classList.add("p-CommandPalette-wrapper"),f.classList.add("p-CommandPalette-input"),m.classList.add("p-CommandPalette-content"),f.spellcheck=!1,u.appendChild(f),u.appendChild(x),d.appendChild(u),l.appendChild(d),l.appendChild(m),l}i.createNode=n;function e(l,d){return new v(l,d)}i.createItem=e;function t(l,d){var u=s(l,d);return u.sort(h),p(u)}i.search=t;function r(l){return l.type==="item"&&l.item.isEnabled}i.canActivate=r;function o(l){return l.trim().replace(/\s+/g," ")}function a(l){return l.replace(/\s+/g,"").toLowerCase()}function s(l,d){d=a(d);for(var u=[],f=0,m=l.length;f<m;++f){var x=l[f];if(x.isVisible){if(!d){u.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:x});continue}var M=c(x,d);M&&(x.isEnabled||(M.score+=1e3),u.push(M))}}return u}function c(l,d){for(var u=l.category.toLowerCase(),f=l.label.toLowerCase(),m=u+" "+f,x=1/0,M=null,b=/\b\w/g;;){var S=b.exec(m);if(!S)break;var E=Pe.matchSumOfDeltas(m,d,S.index);if(!E)break;E&&E.score<=x&&(x=E.score,M=E.indices)}if(!M||x===1/0)return null;for(var D=u.length+1,C=A.lowerBound(M,D,function(z,g){return z-g}),L=M.slice(0,C),_=M.slice(C),y=0,w=_.length;y<w;++y)_[y]-=D;return L.length===0?{matchType:0,categoryIndices:null,labelIndices:_,score:x,item:l}:_.length===0?{matchType:1,categoryIndices:L,labelIndices:null,score:x,item:l}:{matchType:2,categoryIndices:L,labelIndices:_,score:x,item:l}}function h(l,d){var u=l.matchType-d.matchType;if(u!==0)return u;var f=l.score-d.score;if(f!==0)return f;var m=0,x=0;switch(l.matchType){case 0:m=l.labelIndices[0],x=d.labelIndices[0];break;case 1:case 2:m=l.categoryIndices[0],x=d.categoryIndices[0];break}if(m!==x)return m-x;var M=l.item.category.localeCompare(d.item.category);if(M!==0)return M;var b=l.item.rank,S=d.item.rank;return b!==S?b<S?-1:1:l.item.label.localeCompare(d.item.label)}function p(l){var d=new Array(l.length);A.fill(d,!1);for(var u=[],f=0,m=l.length;f<m;++f)if(!d[f]){var x=l[f],M=x.item,b=x.categoryIndices,S=M.category;u.push({type:"header",category:S,indices:b});for(var E=f;E<m;++E)if(!d[E]){var D=l[E],C=D.item,L=D.labelIndices;C.category===S&&(u.push({type:"item",item:C,indices:L}),d[E]=!0)}}return u}var v=function(){function l(d,u){this._commands=d,this.category=o(u.category),this.command=u.command,this.args=u.args||Te.JSONExt.emptyObject,this.rank=u.rank!==void 0?u.rank:1/0}return Object.defineProperty(l.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"keyBinding",{get:function(){var d=this,u=d.command,f=d.args;return A.findLastValue(this._commands.keyBindings,function(m){return m.command===u&&Te.JSONExt.deepEqual(m.args,f)})||null},enumerable:!0,configurable:!0}),l}()})(ye||(ye={}));Fe=function(i){K(n,i);function n(e){var t=i.call(this,{node:ie.createNode()})||this;return t._childIndex=-1,t._activeIndex=-1,t._openTimerID=0,t._closeTimerID=0,t._items=[],t._childMenu=null,t._parentMenu=null,t._aboutToClose=new H(t),t._menuRequested=new H(t),t.addClass("lm-Menu"),t.addClass("p-Menu"),t.setFlag(O.Flag.DisallowLayout),t.commands=e.commands,t.renderer=e.renderer||n.defaultRenderer,t}return n.prototype.dispose=function(){this.close(),this._items.length=0,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!ie.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),n.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,r=t<e-1?t+1:0,o=r===0?e-1:r-1;this.activeIndex=A.findFirstIndex(this._items,ie.canActivate,r,o)},n.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,r=t<=0?e-1:t-1,o=r===e-1?0:r+1;this.activeIndex=A.findLastIndex(this._items,ie.canActivate,r,o)},n.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e){if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();var t=e.command,r=e.args;this.commands.isEnabled(t,r)?this.commands.execute(t,r):console.log("Command '"+t+"' is disabled.")}}},n.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},n.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var r=Math.max(0,Math.min(e,this._items.length)),o=ie.createItem(this,t);return A.insert(this._items,r,o),this.update(),o},n.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},n.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1;var t=A.removeAt(this._items,e);t&&this.update()},n.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())},n.prototype.open=function(e,t,r){if(r===void 0&&(r={}),!this.isAttached){var o=r.forceX||!1,a=r.forceY||!1;ie.openRootMenu(this,e,t,o,a),this.activate()}},n.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},n.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},n.prototype.onUpdateRequest=function(e){for(var t=this,r=this._items,o=this.renderer,a=this._activeIndex,s=ie.computeCollapsed(r),c=new Array(r.length),h=function(l,d){var u=r[l],f=l===a,m=s[l];c[l]=o.renderItem({item:u,active:f,collapsed:m,onfocus:function(){t.activeIndex=l}})},p=0,v=r.length;p<v;++p)h(p);ge.render(c,this.contentNode)},n.prototype.onCloseRequest=function(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var t=this._childMenu;t&&(this._childIndex=-1,this._childMenu=null,t._parentMenu=null,t.close());var r=this._parentMenu;r&&(this._parentMenu=null,r._childIndex=-1,r._childMenu=null,r.activate()),this.isAttached&&this._aboutToClose.emit(void 0),i.prototype.onCloseRequest.call(this,e)},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(t===13){this.triggerActiveItem();return}if(t===27){this.close();return}if(t===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(t===38){this.activatePreviousItem();return}if(t===39){var r=this.activeItem;r&&r.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(t===40){this.activateNextItem();return}var o=He().keyForKeydownEvent(e);if(o){var a=this._activeIndex+1,s=ie.findMnemonic(this._items,o,a);s.index!==-1&&!s.multiple?(this.activeIndex=s.index,this.triggerActiveItem()):s.index!==-1?this.activeIndex=s.index:s.auto!==-1&&(this.activeIndex=s.auto)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},n.prototype._evtMouseMove=function(e){var t=A.findFirstIndex(this.contentNode.children,function(o){return W.hitTest(o,e.clientX,e.clientY)});if(t!==this._activeIndex){if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();var r=this.activeItem;!r||r.type!=="submenu"||!r.submenu||this._startOpenTimer()}},n.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},n.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}var t=e.clientX,r=e.clientY;if(W.hitTest(this._childMenu.node,t,r)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()},n.prototype._evtMouseDown=function(e){this._parentMenu||(ie.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},n.prototype._openChildMenu=function(e){e===void 0&&(e=!1);var t=this.activeItem;if(!t||t.type!=="submenu"||!t.submenu){this._closeChildMenu();return}var r=t.submenu;if(r!==this._childMenu){n.saveWindowData(),this._closeChildMenu(),this._childMenu=r,this._childIndex=this._activeIndex,r._parentMenu=this,T.sendMessage(this,O.Msg.UpdateRequest);var o=this.contentNode.children[this._activeIndex];ie.openSubmenu(r,o),e&&(r.activeIndex=-1,r.activateNextItem()),r.activate()}},n.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},n.prototype._startOpenTimer=function(){var e=this;this._openTimerID===0&&(this._openTimerID=window.setTimeout(function(){e._openTimerID=0,e._openChildMenu()},ie.TIMER_DELAY))},n.prototype._startCloseTimer=function(){var e=this;this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(function(){e._closeTimerID=0,e._closeChildMenu()},ie.TIMER_DELAY))},n.prototype._cancelOpenTimer=function(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)},n.prototype._cancelCloseTimer=function(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},n.saveWindowData=function(){ie.saveWindowData()},n}(O);(function(i){var n=function(){function e(){}return e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t),a=this.createItemARIA(t);return j.li($({className:r,dataset:o,tabindex:"0",onfocus:t.onfocus},a),this.renderIcon(t),this.renderLabel(t),this.renderShortcut(t),this.renderSubmenu(t))},e.prototype.renderIcon=function(t){var r=this.createIconClass(t);return typeof t.item.icon=="string"?j.div({className:r},t.item.iconLabel):j.div({className:r},t.item.icon,t.item.iconLabel)},e.prototype.renderLabel=function(t){var r=this.formatLabel(t);return j.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},r)},e.prototype.renderShortcut=function(t){var r=this.formatShortcut(t);return j.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},r)},e.prototype.renderSubmenu=function(t){return j.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(t){var r="lm-Menu-item";r+=" p-Menu-item",t.item.isEnabled||(r+=" lm-mod-disabled",r+=" p-mod-disabled"),t.item.isToggled&&(r+=" lm-mod-toggled",r+=" p-mod-toggled"),t.item.isVisible||(r+=" lm-mod-hidden",r+=" p-mod-hidden"),t.active&&(r+=" lm-mod-active",r+=" p-mod-active"),t.collapsed&&(r+=" lm-mod-collapsed",r+=" p-mod-collapsed");var o=t.item.className;return o&&(r+=" "+o),r},e.prototype.createItemDataset=function(t){var r,o=t.item,a=o.type,s=o.command,c=o.dataset;return a==="command"?r=$($({},c),{type:a,command:s}):r=$($({},c),{type:a}),r},e.prototype.createIconClass=function(t){var r="lm-Menu-itemIcon";r+=" p-Menu-itemIcon";var o=t.item.iconClass;return o?r+" "+o:r},e.prototype.createItemARIA=function(t){var r={};switch(t.item.type){case"separator":r.role="presentation";break;case"submenu":r["aria-haspopup"]="true",t.item.isEnabled||(r["aria-disabled"]="true");break;default:t.item.isEnabled||(r["aria-disabled"]="true"),r.role="menuitem"}return r},e.prototype.formatLabel=function(t){var r=t.item,o=r.label,a=r.mnemonic;if(a<0||a>=o.length)return o;var s=o.slice(0,a),c=o.slice(a+1),h=o[a],p=j.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},h);return[s,p,c]},e.prototype.formatShortcut=function(t){var r=t.item.keyBinding;return r?Ne.formatKeystroke(r.keys):null},e}();i.Renderer=n,i.defaultRenderer=new n})(Fe||(Fe={}));(function(i){i.TIMER_DELAY=300,i.SUBMENU_OVERLAP=3;var n=null,e=0;function t(){return e>0?(e--,n):p()}function r(){n=p(),e++}i.saveWindowData=r;function o(){var f=document.createElement("div"),m=document.createElement("ul");return m.className="lm-Menu-content",m.classList.add("p-Menu-content"),f.appendChild(m),m.setAttribute("role","menu"),f.tabIndex=0,f}i.createNode=o;function a(f){return f.type!=="separator"&&f.isEnabled&&f.isVisible}i.canActivate=a;function s(f,m){return new u(f.commands,m)}i.createItem=s;function c(f,m,x){for(var M=f;M;M=M.childMenu)if(W.hitTest(M.node,m,x))return!0;return!1}i.hitTestMenus=c;function h(f){var m=new Array(f.length);A.fill(m,!1);for(var x=0,M=f.length;x<M;++x){var b=f[x];if(b.isVisible){if(b.type!=="separator")break;m[x]=!0}}for(var S=M-1;S>=0;--S){var b=f[S];if(b.isVisible){if(b.type!=="separator")break;m[S]=!0}}for(var E=!1;++x<S;){var b=f[x];b.isVisible&&(b.type!=="separator"?E=!1:E?m[x]=!0:E=!0)}return m}i.computeCollapsed=h;function p(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function v(f,m,x,M,b){var S=t(),E=S.pageXOffset,D=S.pageYOffset,C=S.clientWidth,L=S.clientHeight;T.sendMessage(f,O.Msg.UpdateRequest);var _=L-(b?x:0),y=f.node,w=y.style;w.opacity="0",w.maxHeight=_+"px",O.attach(f,document.body);var z=y.getBoundingClientRect(),g=z.width,I=z.height;!M&&m+g>E+C&&(m=E+C-g),!b&&x+I>D+L&&(x>D+L?x=D+L-I:x=x-I),w.transform="translate("+Math.max(0,m)+"px, "+Math.max(0,x)+"px",w.opacity="1"}i.openRootMenu=v;function l(f,m){var x=t(),M=x.pageXOffset,b=x.pageYOffset,S=x.clientWidth,E=x.clientHeight;T.sendMessage(f,O.Msg.UpdateRequest);var D=E,C=f.node,L=C.style;L.opacity="0",L.maxHeight=D+"px",O.attach(f,document.body);var _=C.getBoundingClientRect(),y=_.width,w=_.height,z=W.boxSizing(f.node),g=m.getBoundingClientRect(),I=g.right-i.SUBMENU_OVERLAP;I+y>M+S&&(I=g.left+i.SUBMENU_OVERLAP-y);var k=g.top-z.borderTop-z.paddingTop;k+w>b+E&&(k=g.bottom+z.borderBottom+z.paddingBottom-w),L.transform="translate("+Math.max(0,I)+"px, "+Math.max(0,k)+"px",L.opacity="1"}i.openSubmenu=l;function d(f,m,x){for(var M=-1,b=-1,S=!1,E=m.toUpperCase(),D=0,C=f.length;D<C;++D){var L=(D+x)%C,_=f[L];if(a(_)){var y=_.label;if(y.length!==0){var w=_.mnemonic;if(w>=0&&w<y.length){y[w].toUpperCase()===E&&(M===-1?M=L:S=!0);continue}b===-1&&y[0].toUpperCase()===E&&(b=L)}}}return{index:M,multiple:S,auto:b}}i.findMnemonic=d;var u=function(){function f(m,x){this._commands=m,this.type=x.type||"command",this.command=x.command||"",this.args=x.args||Te.JSONExt.emptyObject,this.submenu=x.submenu||null}return Object.defineProperty(f.prototype,"label",{get:function(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"mnemonic",{get:function(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"icon",{get:function(){return this.type==="command"?this._commands.icon(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconClass",{get:function(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"iconLabel",{get:function(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"caption",{get:function(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataset",{get:function(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isEnabled",{get:function(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isToggled",{get:function(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"keyBinding",{get:function(){if(this.type==="command"){var m=this,x=m.command,M=m.args;return A.findLastValue(this._commands.keyBindings,function(b){return b.command===x&&Te.JSONExt.deepEqual(b.args,M)})||null}return null},enumerable:!0,configurable:!0}),f}()})(ie||(ie={}));ui=function(){function i(n){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var e=n.groupByTarget,t=n.sortBySelector,r=cn(n,["groupByTarget","sortBySelector"]);this.menu=new Fe(r),this._groupByTarget=e!==!1,this._sortBySelector=t!==!1}return i.prototype.addItem=function(n){var e=this,t=it.createItem(n,this._idTick++);return this._items.push(t),new Ce(function(){A.removeFirstOf(e._items,t)})},i.prototype.open=function(n){var e=this;if(Fe.saveWindowData(),this.menu.clearItems(),this._items.length===0)return!1;var t=it.matchItems(this._items,n,this._groupByTarget,this._sortBySelector);return!t||t.length===0?!1:(R(t,function(r){e.menu.addItem(r)}),this.menu.open(n.clientX,n.clientY),!0)},i}();(function(i){function n(a,s){var c=t(a.selector),h=a.rank!==void 0?a.rank:1/0;return $($({},a),{selector:c,rank:h,id:s})}i.createItem=n;function e(a,s,c,h){var p=s.target;if(!p)return null;var v=s.currentTarget;if(!v||!v.contains(p)&&(p=document.elementFromPoint(s.clientX,s.clientY),!p||!v.contains(p)))return null;for(var l=[],d=a.slice();p!==null;){for(var u=[],f=0,m=d.length;f<m;++f){var x=d[f];x&&pe.matches(p,x.selector)&&(u.push(x),d[f]=null)}if(u.length!==0&&(c&&u.sort(h?o:r),l.push.apply(l,u)),p===v)break;p=p.parentElement}return c||l.sort(h?o:r),l}i.matchItems=e;function t(a){if(a.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+a);if(!pe.isValid(a))throw new Error("Invalid selector: "+a);return a}function r(a,s){var c=a.rank,h=s.rank;return c!==h?c<h?-1:1:a.id-s.id}function o(a,s){var c=pe.calculateSpecificity(a.selector),h=pe.calculateSpecificity(s.selector);return c!==h?h-c:r(a,s)}})(it||(it={}));qe=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{node:he.createNode()})||this;return t._currentIndex=-1,t._titles=[],t._titlesEditable=!1,t._previousTitle=null,t._dragData=null,t._addButtonEnabled=!1,t._tabMoved=new H(t),t._currentChanged=new H(t),t._addRequested=new H(t),t._tabCloseRequested=new H(t),t._tabDetachRequested=new H(t),t._tabActivateRequested=new H(t),t.addClass("lm-TabBar"),t.addClass("p-TabBar"),t.contentNode.setAttribute("role","tablist"),t.setFlag(O.Flag.DisallowLayout),t._document=e.document||document,t.tabsMovable=e.tabsMovable||!1,t.titlesEditable=e.titlesEditable||!1,t.allowDeselect=e.allowDeselect||!1,t.addButtonEnabled=e.addButtonEnabled||!1,t.insertBehavior=e.insertBehavior||"select-tab-if-needed",t.name=e.name||"",t.orientation=e.orientation||"horizontal",t.removeBehavior=e.removeBehavior||"select-tab-after",t.renderer=e.renderer||n.defaultRenderer,t}return n.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,r=this._titles[t]||null,o=e,a=this._titles[o]||null;this._currentIndex=o,this._previousTitle=r,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:r,currentIndex:o,currentTitle:a})}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),n.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},n.prototype.insertTab=function(e,t){this._releaseMouse();var r=he.asTitle(t),o=this._titles.indexOf(r),a=Math.max(0,Math.min(e,this._titles.length));return o===-1?(A.insert(this._titles,a,r),r.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(a,r),r):(a===this._titles.length&&a--,o===a||(A.move(this._titles,o,a),this.update(),this._adjustCurrentForMove(o,a)),r)},n.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},n.prototype.removeTabAt=function(e){this._releaseMouse();var t=A.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},n.prototype.clearTabs=function(){if(this._titles.length!==0){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){var r=t[e];r.changed.disconnect(this._onTitleChanged,this)}var o=this.currentIndex,a=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),o!==-1&&this._currentChanged.emit({previousIndex:o,previousTitle:a,currentIndex:-1,currentTitle:null})}},n.prototype.releaseMouse=function(){this._releaseMouse()},n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},n.prototype.onUpdateRequest=function(e){for(var t=this._titles,r=this.renderer,o=this.currentTitle,a=new Array(t.length),s=0,c=t.length;s<c;++s){var h=t[s],p=h===o,v=p?c:c-s-1;a[s]=r.renderTab({title:h,current:p,zIndex:v})}ge.render(a,this.contentNode)},n.prototype._evtDblClick=function(e){if(this.titlesEditable){var t=this.contentNode.children,r=A.findFirstIndex(t,function(v){return W.hitTest(v,e.clientX,e.clientY)});if(r!==-1){var o=this.titles[r],a=t[r].querySelector(".lm-TabBar-tabLabel");if(a&&a.contains(e.target)){var s=o.label||"",c=a.innerHTML;a.innerHTML="";var h=document.createElement("input");h.classList.add("lm-TabBar-tabInput"),h.value=s,a.appendChild(h);var p=function(){h.removeEventListener("blur",p),a.innerHTML=c};h.addEventListener("dblclick",function(v){return v.stopPropagation()}),h.addEventListener("blur",p),h.addEventListener("keydown",function(v){v.key==="Enter"?(h.value!==""&&(o.label=o.caption=h.value),p()):v.key==="Escape"&&p()}),h.select(),h.focus(),a.children.length>0&&a.children[0].focus()}}}},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this._releaseMouse()},n.prototype._evtMouseDown=function(e){if(!(e.button!==0&&e.button!==1)&&!this._dragData){var t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),r=this.contentNode.children,o=A.findFirstIndex(r,function(s){return W.hitTest(s,e.clientX,e.clientY)});if(!(o===-1&&!t)&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:r[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),!(e.button===1||t))){var a=r[o].querySelector(this.renderer.closeIconSelector);a&&a.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},n.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var r=this.contentNode.children;if(!(!t.dragActive&&!he.dragExceeded(t,e))){if(!t.dragActive){var o=t.tab.getBoundingClientRect();this._orientation==="horizontal"?(t.tabPos=t.tab.offsetLeft,t.tabSize=o.width,t.tabPressPos=t.pressX-o.left):(t.tabPos=t.tab.offsetTop,t.tabSize=o.height,t.tabPressPos=t.pressY-o.top),t.tabLayout=he.snapTabLayout(r,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=Ie.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&he.detachExceeded(t,e)){t.detachRequested=!0;var a=t.index,s=e.clientX,c=e.clientY,h=r[a],p=this._titles[a];if(this._tabDetachRequested.emit({index:a,title:p,tab:h,clientX:s,clientY:c}),t.dragAborted)return}he.layoutTabs(r,t,e,this._orientation)}}},n.prototype._evtMouseUp=function(e){var t=this;if(!(e.button!==0&&e.button!==1)){var r=this._dragData;if(r){if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!r.dragActive){this._dragData=null;var o=this.addButtonEnabled&&this.addButtonNode.contains(e.target);if(o){this._addRequested.emit(void 0);return}var a=this.contentNode.children,s=A.findFirstIndex(a,function(v){return W.hitTest(v,e.clientX,e.clientY)});if(s!==r.index)return;var c=this._titles[s];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:s,title:c});return}var h=a[s].querySelector(this.renderer.closeIconSelector);if(h&&h.contains(e.target)){this._tabCloseRequested.emit({index:s,title:c});return}return}if(e.button===0){he.finalizeTabPosition(r,this._orientation),r.tab.classList.remove("lm-mod-dragging"),r.tab.classList.remove("p-mod-dragging");var p=he.parseTransitionDuration(r.tab);setTimeout(function(){if(!r.dragAborted){t._dragData=null,he.resetTabPositions(t.contentNode.children,t._orientation),r.override.dispose(),t.removeClass("lm-mod-dragging"),t.removeClass("p-mod-dragging");var v=r.index,l=r.targetIndex;l===-1||v===l||(A.move(t._titles,v,l),t._adjustCurrentForMove(v,l),t._tabMoved.emit({fromIndex:v,toIndex:l,title:t._titles[l]}),T.sendMessage(t,O.Msg.UpdateRequest))}},p)}}}},n.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(he.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},n.prototype._adjustCurrentForInsert=function(e,t){var r=this.currentTitle,o=this._currentIndex,a=this.insertBehavior;if(a==="select-tab"||a==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=r,this._currentChanged.emit({previousIndex:o,previousTitle:r,currentIndex:e,currentTitle:t});return}o>=e&&this._currentIndex++},n.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},n.prototype._adjustCurrentForRemove=function(e,t){var r=this._currentIndex,o=this.removeBehavior;if(r!==e){r>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})},n.prototype._onTitleChanged=function(e){this.update()},n}(O);(function(i){var n=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}return e.prototype.renderTab=function(t){var r=t.title.caption,o=this.createTabKey(t),a=o,s=this.createTabStyle(t),c=this.createTabClass(t),h=this.createTabDataset(t),p=this.createTabARIA(t);return t.title.closable?j.li($({id:a,key:o,className:c,title:r,style:s,dataset:h},p),this.renderIcon(t),this.renderLabel(t),this.renderCloseIcon(t)):j.li($({id:a,key:o,className:c,title:r,style:s,dataset:h},p),this.renderIcon(t),this.renderLabel(t))},e.prototype.renderIcon=function(t){var r=t.title,o=this.createIconClass(t);return typeof r.icon=="string"?j.div({className:o},r.iconLabel):j.div({className:o},r.icon,r.iconLabel)},e.prototype.renderLabel=function(t){return j.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},t.title.label)},e.prototype.renderCloseIcon=function(t){return j.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(t){var r=this._tabKeys.get(t.title);return r===void 0&&(r="tab-key-"+this._uuid+"-"+this._tabID++,this._tabKeys.set(t.title,r)),r},e.prototype.createTabStyle=function(t){return{zIndex:""+t.zIndex}},e.prototype.createTabClass=function(t){var r="lm-TabBar-tab";return r+=" p-TabBar-tab",t.title.className&&(r+=" "+t.title.className),t.title.closable&&(r+=" lm-mod-closable",r+=" p-mod-closable"),t.current&&(r+=" lm-mod-current",r+=" p-mod-current"),r},e.prototype.createTabDataset=function(t){return t.title.dataset},e.prototype.createTabARIA=function(t){return{role:"tab","aria-selected":t.current.toString()}},e.prototype.createIconClass=function(t){var r="lm-TabBar-tabIcon";r+=" p-TabBar-tabIcon";var o=t.title.iconClass;return o?r+" "+o:r},e._nInstance=0,e}();i.Renderer=n,i.defaultRenderer=new n,i.addButtonSelector=".lm-TabBar-addButton"})(qe||(qe={}));(function(i){i.DRAG_THRESHOLD=5,i.DETACH_THRESHOLD=20;function n(){var p=document.createElement("div"),v=document.createElement("ul");v.setAttribute("role","tablist"),v.className="lm-TabBar-content",v.classList.add("p-TabBar-content"),p.appendChild(v);var l=document.createElement("div");return l.className="lm-TabBar-addButton lm-mod-hidden",p.appendChild(l),p}i.createNode=n;function e(p){return p instanceof Mt?p:new Mt(p)}i.asTitle=e;function t(p){var v=window.getComputedStyle(p);return 1e3*(parseFloat(v.transitionDuration)||0)}i.parseTransitionDuration=t;function r(p,v){for(var l=new Array(p.length),d=0,u=p.length;d<u;++d){var f=p[d],m=window.getComputedStyle(f);v==="horizontal"?l[d]={pos:f.offsetLeft,size:f.offsetWidth,margin:parseFloat(m.marginLeft)||0}:l[d]={pos:f.offsetTop,size:f.offsetHeight,margin:parseFloat(m.marginTop)||0}}return l}i.snapTabLayout=r;function o(p,v){var l=Math.abs(v.clientX-p.pressX),d=Math.abs(v.clientY-p.pressY);return l>=i.DRAG_THRESHOLD||d>=i.DRAG_THRESHOLD}i.dragExceeded=o;function a(p,v){var l=p.contentRect;return v.clientX<l.left-i.DETACH_THRESHOLD||v.clientX>=l.right+i.DETACH_THRESHOLD||v.clientY<l.top-i.DETACH_THRESHOLD||v.clientY>=l.bottom+i.DETACH_THRESHOLD}i.detachExceeded=a;function s(p,v,l,d){var u,f,m,x;d==="horizontal"?(u=v.pressX,f=l.clientX-v.contentRect.left,m=l.clientX,x=v.contentRect.width):(u=v.pressY,f=l.clientY-v.contentRect.top,m=l.clientY,x=v.contentRect.height);for(var M=v.index,b=f-v.tabPressPos,S=b+v.tabSize,E=0,D=p.length;E<D;++E){var C=void 0,L=v.tabLayout[E],_=L.pos+(L.size>>1);if(E<v.index&&b<_)C=v.tabSize+v.tabLayout[E+1].margin+"px",M=Math.min(M,E);else if(E>v.index&&S>_)C=-v.tabSize-L.margin+"px",M=Math.max(M,E);else if(E===v.index){var y=m-u,w=x-(v.tabPos+v.tabSize);C=Math.max(-v.tabPos,Math.min(y,w))+"px"}else C="";d==="horizontal"?p[E].style.left=C:p[E].style.top=C}v.targetIndex=M}i.layoutTabs=s;function c(p,v){var l;v==="horizontal"?l=p.contentRect.width:l=p.contentRect.height;var d;if(p.targetIndex===p.index)d=0;else if(p.targetIndex>p.index){var u=p.tabLayout[p.targetIndex];d=u.pos+u.size-p.tabSize-p.tabPos}else{var u=p.tabLayout[p.targetIndex];d=u.pos-p.tabPos}var f=l-(p.tabPos+p.tabSize),m=Math.max(-p.tabPos,Math.min(d,f));v==="horizontal"?p.tab.style.left=m+"px":p.tab.style.top=m+"px"}i.finalizeTabPosition=c;function h(p,v){R(p,function(l){v==="horizontal"?l.style.left="":l.style.top=""})}i.resetTabPositions=h})(he||(he={}));ln=function(i){K(n,i);function n(e){var t=i.call(this)||this;return t._spacing=4,t._dirty=!1,t._root=null,t._box=null,t._items=new Map,t.renderer=e.renderer,e.spacing!==void 0&&(t._spacing=Ve.clampDimension(e.spacing)),t._document=e.document||document,t._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:O.HiddenMode.Display,t}return n.prototype.dispose=function(){var e=this.iter();this._items.forEach(function(t){t.dispose()}),this._box=null,this._root=null,this._items.clear(),R(e,function(t){t.dispose()}),i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,R(this.tabBars(),function(r){r.titles.length>1&&r.titles.forEach(function(o){o.owner.hiddenMode=t._hiddenMode})}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Ve.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return this._root?this._root.iterAllWidgets():se()},n.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():se()},n.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():se()},n.prototype.tabBars=function(){return this._root?this._root.iterTabBars():se()},n.prototype.handles=function(){return this._root?this._root.iterHandles():se()},n.prototype.moveHandle=function(e,t,r){var o=e.classList.contains("lm-mod-hidden");if(o=o||e.classList.contains("p-mod-hidden"),!(!this._root||o)){var a=this._root.findSplitNode(e);if(a){var s;a.node.orientation==="horizontal"?s=t-e.offsetLeft:s=r-e.offsetTop,s!==0&&(a.node.holdSizes(),ce.adjust(a.node.sizers,a.index,s),this.parent&&this.parent.update())}}},n.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},n.prototype.restoreLayout=function(e){var t=this,r=new Set,o;e.main?o=Y.normalizeAreaConfig(e.main,r):o=null;var a=this.widgets(),s=this.tabBars(),c=this.handles();this._root=null,R(a,function(h){r.has(h)||(h.parent=null)}),R(s,function(h){h.dispose()}),R(c,function(h){h.parentNode&&h.parentNode.removeChild(h)}),r.forEach(function(h){h.parent=t.parent}),o?this._root=Y.realizeAreaConfig(o,{createTabBar:function(h){return t._createTabBar()},createHandle:function(){return t._createHandle()}},this._document):this._root=null,this.parent&&(r.forEach(function(h){t.attachWidget(h)}),this.parent.fit())},n.prototype.addWidget=function(e,t){t===void 0&&(t={});var r=t.ref||null,o=t.mode||"tab-after",a=null;if(this._root&&r&&(a=this._root.findTabNode(r)),r&&!a)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,r,a,!0);break;case"tab-before":this._insertTab(e,r,a,!1);break;case"split-top":this._insertSplit(e,r,a,"vertical",!1);break;case"split-left":this._insertSplit(e,r,a,"horizontal",!1);break;case"split-right":this._insertSplit(e,r,a,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,r,a,"vertical",!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())},n.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},n.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=W.boxSizing(this.parent.node));var r=this.parent.node.getBoundingClientRect(),o=e-r.left-this._box.borderLeft,a=t-r.top-this._box.borderTop,s=this._root.hitTestTabNodes(o,a);if(!s)return null;var c=s.tabBar,h=s.top,p=s.left,v=s.width,l=s.height,d=this._box.borderLeft+this._box.borderRight,u=this._box.borderTop+this._box.borderBottom,f=r.width-d-(p+v),m=r.height-u-(h+l);return{tabBar:c,x:o,y:a,top:h,left:p,right:f,bottom:m,width:v,height:l}},n.prototype.init=function(){var e=this;i.prototype.init.call(this),R(this,function(t){e.attachWidget(t)}),R(this.handles(),function(t){e.parent.node.appendChild(t)}),this.parent.fit()},n.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Xe(e)),this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterAttach))},n.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},n.prototype.onBeforeShow=function(e){i.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){i.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t){if(Y.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===O.HiddenMode.Scale&&t.tabBar.titles.length==1){var r=t.tabBar.titles[0].owner;r.hiddenMode=O.HiddenMode.Display}return}if(t.tabBar.dispose(),this._root===t){this._root=null;return}this._root.holdAllSizes();var o=t.parent;t.parent=null;var a=A.removeFirstOf(o.children,t),s=A.removeAt(o.handles,a);if(A.removeAt(o.sizers,a),s.parentNode&&s.parentNode.removeChild(s),o.children.length>1){o.syncHandles();return}var c=o.parent;o.parent=null;var h=o.children[0],p=o.handles[0];if(o.children.length=0,o.handles.length=0,o.sizers.length=0,p.parentNode&&p.parentNode.removeChild(p),this._root===o){h.parent=null,this._root=h;return}var v=c,l=v.children.indexOf(o);if(h instanceof Y.TabLayoutNode){h.parent=v,v.children[l]=h;return}var d=A.removeAt(v.handles,l);A.removeAt(v.children,l),A.removeAt(v.sizers,l),d.parentNode&&d.parentNode.removeChild(d);for(var u=0,f=h.children.length;u<f;++u){var m=h.children[u],x=h.handles[u],M=h.sizers[u];A.insert(v.children,l+u,m),A.insert(v.handles,l+u,x),A.insert(v.sizers,l+u,M),m.parent=v}h.children.length=0,h.handles.length=0,h.sizers.length=0,h.parent=null,v.syncHandles()}}},n.prototype._insertTab=function(e,t,r,o){if(e!==t){if(!this._root){var a=new Y.TabLayoutNode(this._createTabBar());a.tabBar.addTab(e.title),this._root=a,Y.addAria(e,a.tabBar);return}r||(r=this._root.findFirstTabNode()),r.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());var s;if(t?s=r.tabBar.titles.indexOf(t.title):s=r.tabBar.currentIndex,this._hiddenMode===O.HiddenMode.Scale)if(r.tabBar.titles.length===0)e.hiddenMode=O.HiddenMode.Display;else if(r.tabBar.titles.length==1){var c=r.tabBar.titles[0].owner;c.hiddenMode=O.HiddenMode.Scale}else e.hiddenMode=O.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;r.tabBar.insertTab(s+(o?1:0),e.title),Y.addAria(e,r.tabBar)}},n.prototype._insertSplit=function(e,t,r,o,a){if(!(e===t&&r&&r.tabBar.titles.length===1)){this._removeWidget(e);var s=new Y.TabLayoutNode(this._createTabBar());if(s.tabBar.addTab(e.title),Y.addAria(e,s.tabBar),!this._root){this._root=s;return}if(!r||!r.parent){var c=this._splitRoot(o),h=a?c.children.length:0;c.normalizeSizes();var p=Y.createSizer(r?1:Y.GOLDEN_RATIO);A.insert(c.children,h,s),A.insert(c.sizers,h,p),A.insert(c.handles,h,this._createHandle()),s.parent=c,c.normalizeSizes(),c.syncHandles();return}var v=r.parent;if(v.orientation===o){var l=v.children.indexOf(r);v.normalizeSizes();var d=v.sizers[l].sizeHint/=2,u=l+(a?1:0);A.insert(v.children,u,s),A.insert(v.sizers,u,Y.createSizer(d)),A.insert(v.handles,u,this._createHandle()),s.parent=v,v.syncHandles();return}var f=A.removeFirstOf(v.children,r),m=new Y.SplitLayoutNode(o);m.normalized=!0,m.children.push(r),m.sizers.push(Y.createSizer(.5)),m.handles.push(this._createHandle()),r.parent=m;var x=a?1:0;A.insert(m.children,x,s),A.insert(m.sizers,x,Y.createSizer(.5)),A.insert(m.handles,x,this._createHandle()),s.parent=m,m.syncHandles(),A.insert(v.children,f,m),m.parent=v}},n.prototype._splitRoot=function(e){var t=this._root;if(t instanceof Y.SplitLayoutNode&&t.orientation===e)return t;var r=this._root=new Y.SplitLayoutNode(e);return t&&(r.children.push(t),r.sizers.push(Y.createSizer(0)),r.handles.push(this._createHandle()),t.parent=r),r},n.prototype._fit=function(){var e=0,t=0;if(this._root){var r=this._root.fit(this._spacing,this._items);e=r.minWidth,t=r.minHeight}var o=this._box=W.boxSizing(this.parent.node);e+=o.horizontalSum,t+=o.verticalSum;var a=this.parent.node.style;a.minWidth=e+"px",a.minHeight=t+"px",this._dirty=!0,this.parent.parent&&T.sendMessage(this.parent.parent,O.Msg.FitRequest),this._dirty&&T.sendMessage(this.parent,O.Msg.UpdateRequest)},n.prototype._update=function(e,t){if(this._dirty=!1,!!this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=W.boxSizing(this.parent.node));var r=this._box.paddingTop,o=this._box.paddingLeft,a=e-this._box.horizontalSum,s=t-this._box.verticalSum;this._root.update(r,o,a,s,this._spacing,this._items)}},n.prototype._createTabBar=function(){var e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},n.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},n}(Ee);(function(i){i.GOLDEN_RATIO=.618;function n(l){var d=new Le;return d.sizeHint=l,d.size=l,d}i.createSizer=n;function e(l,d){var u;return l.type==="tab-area"?u=c(l,d):u=h(l,d),u}i.normalizeAreaConfig=e;function t(l,d,u){var f;return l.type==="tab-area"?f=p(l,d,u):f=v(l,d,u),f}i.realizeAreaConfig=t;var r=function(){function l(d){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var u=new Le,f=new Le;u.stretch=0,f.stretch=1,this.tabBar=d,this.sizers=[u,f]}return Object.defineProperty(l.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.iterAllWidgets=function(){return ut(Ke(this.tabBar),this.iterUserWidgets())},l.prototype.iterUserWidgets=function(){return Me(this.tabBar.titles,function(d){return d.owner})},l.prototype.iterSelectedWidgets=function(){var d=this.tabBar.currentTitle;return d?Ke(d.owner):se()},l.prototype.iterTabBars=function(){return Ke(this.tabBar)},l.prototype.iterHandles=function(){return se()},l.prototype.findTabNode=function(d){return this.tabBar.titles.indexOf(d.title)!==-1?this:null},l.prototype.findSplitNode=function(d){return null},l.prototype.findFirstTabNode=function(){return this},l.prototype.hitTestTabNodes=function(d,u){return d<this._left||d>=this._left+this._width||u<this._top||u>=this._top+this._height?null:this},l.prototype.createConfig=function(){var d=this.tabBar.titles.map(function(f){return f.owner}),u=this.tabBar.currentIndex;return{type:"tab-area",widgets:d,currentIndex:u}},l.prototype.holdAllSizes=function(){},l.prototype.fit=function(d,u){var f=0,m=0,x=1/0,M=1/0,b=u.get(this.tabBar),S=this.tabBar.currentTitle,E=S?u.get(S.owner):void 0,D=this.sizers,C=D[0],L=D[1];return b&&b.fit(),E&&E.fit(),b&&!b.isHidden?(f=Math.max(f,b.minWidth),m+=b.minHeight,C.minSize=b.minHeight,C.maxSize=b.maxHeight):(C.minSize=0,C.maxSize=0),E&&!E.isHidden?(f=Math.max(f,E.minWidth),m+=E.minHeight,L.minSize=E.minHeight,L.maxSize=1/0):(L.minSize=0,L.maxSize=1/0),{minWidth:f,minHeight:m,maxWidth:x,maxHeight:M}},l.prototype.update=function(d,u,f,m,x,M){this._top=u,this._left=d,this._width=f,this._height=m;var b=M.get(this.tabBar),S=this.tabBar.currentTitle,E=S?M.get(S.owner):void 0;if(ce.calc(this.sizers,m),b&&!b.isHidden){var D=this.sizers[0].size;b.update(d,u,f,D),u+=D}if(E&&!E.isHidden){var D=this.sizers[1].size;E.update(d,u,f,D)}},l}();i.TabLayoutNode=r;var o=function(){function l(d){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=d}return l.prototype.iterAllWidgets=function(){var d=Me(this.children,function(u){return u.iterAllWidgets()});return new ze(d)},l.prototype.iterUserWidgets=function(){var d=Me(this.children,function(u){return u.iterUserWidgets()});return new ze(d)},l.prototype.iterSelectedWidgets=function(){var d=Me(this.children,function(u){return u.iterSelectedWidgets()});return new ze(d)},l.prototype.iterTabBars=function(){var d=Me(this.children,function(u){return u.iterTabBars()});return new ze(d)},l.prototype.iterHandles=function(){var d=Me(this.children,function(u){return u.iterHandles()});return ut(this.handles,new ze(d))},l.prototype.findTabNode=function(d){for(var u=0,f=this.children.length;u<f;++u){var m=this.children[u].findTabNode(d);if(m)return m}return null},l.prototype.findSplitNode=function(d){var u=this.handles.indexOf(d);if(u!==-1)return{index:u,node:this};for(var f=0,m=this.children.length;f<m;++f){var x=this.children[f].findSplitNode(d);if(x)return x}return null},l.prototype.findFirstTabNode=function(){return this.children.length===0?null:this.children[0].findFirstTabNode()},l.prototype.hitTestTabNodes=function(d,u){for(var f=0,m=this.children.length;f<m;++f){var x=this.children[f].hitTestTabNodes(d,u);if(x)return x}return null},l.prototype.createConfig=function(){var d=this.orientation,u=this.createNormalizedSizes(),f=this.children.map(function(m){return m.createConfig()});return{type:"split-area",orientation:d,children:f,sizes:u}},l.prototype.syncHandles=function(){var d=this;R(this.handles,function(u,f){u.setAttribute("data-orientation",d.orientation),f===d.handles.length-1?(u.classList.add("lm-mod-hidden"),u.classList.add("p-mod-hidden")):(u.classList.remove("lm-mod-hidden"),u.classList.remove("p-mod-hidden"))})},l.prototype.holdSizes=function(){R(this.sizers,function(d){d.sizeHint=d.size})},l.prototype.holdAllSizes=function(){R(this.children,function(d){return d.holdAllSizes()}),this.holdSizes()},l.prototype.normalizeSizes=function(){var d=this.sizers.length;if(d!==0){this.holdSizes();var u=ct(this.sizers,function(f,m){return f+m.sizeHint},0);u===0?R(this.sizers,function(f){f.size=f.sizeHint=1/d}):R(this.sizers,function(f){f.size=f.sizeHint/=u}),this.normalized=!0}},l.prototype.createNormalizedSizes=function(){var d=this.sizers.length;if(d===0)return[];var u=this.sizers.map(function(m){return m.size}),f=ct(u,function(m,x){return m+x},0);return f===0?R(u,function(m,x){u[x]=1/d}):R(u,function(m,x){u[x]=m/f}),u},l.prototype.fit=function(d,u){for(var f=this.orientation==="horizontal",m=Math.max(0,this.children.length-1)*d,x=f?m:0,M=f?0:m,b=1/0,S=1/0,E=0,D=this.children.length;E<D;++E){var C=this.children[E].fit(d,u);f?(M=Math.max(M,C.minHeight),x+=C.minWidth,this.sizers[E].minSize=C.minWidth):(x=Math.max(x,C.minWidth),M+=C.minHeight,this.sizers[E].minSize=C.minHeight)}return{minWidth:x,minHeight:M,maxWidth:b,maxHeight:S}},l.prototype.update=function(d,u,f,m,x,M){var b=this.orientation==="horizontal",S=Math.max(0,this.children.length-1)*x,E=Math.max(0,(b?f:m)-S);this.normalized&&(R(this.sizers,function(w){w.sizeHint*=E}),this.normalized=!1),ce.calc(this.sizers,E);for(var D=0,C=this.children.length;D<C;++D){var L=this.children[D],_=this.sizers[D].size,y=this.handles[D].style;b?(L.update(d,u,_,m,x,M),d+=_,y.top=u+"px",y.left=d+"px",y.width=x+"px",y.height=m+"px",d+=x):(L.update(d,u,f,_,x,M),u+=_,y.top=u+"px",y.left=d+"px",y.width=f+"px",y.height=x+"px",u+=x)}},l}();i.SplitLayoutNode=o;function a(l,d){l.node.setAttribute("role","tabpanel");var u=d.renderer;if(u instanceof qe.Renderer){var f=u.createTabKey({title:l.title,current:!1,zIndex:0});l.node.setAttribute("aria-labelledby",f)}}i.addAria=a;function s(l){l.node.removeAttribute("role"),l.node.removeAttribute("aria-labelledby")}i.removeAria=s;function c(l,d){if(l.widgets.length===0)return null;var u=[];if(R(l.widgets,function(m){d.has(m)||(d.add(m),u.push(m))}),u.length===0)return null;var f=l.currentIndex;return f!==-1&&(f<0||f>=u.length)&&(f=0),{type:"tab-area",widgets:u,currentIndex:f}}function h(l,d){for(var u=l.orientation,f=[],m=[],x=0,M=l.children.length;x<M;++x){var b=e(l.children[x],d);b&&(b.type==="tab-area"||b.orientation!==u?(f.push(b),m.push(Math.abs(l.sizes[x]||0))):(f.push.apply(f,b.children),m.push.apply(m,b.sizes)))}return f.length===0?null:f.length===1?f[0]:{type:"split-area",orientation:u,children:f,sizes:m}}function p(l,d,u){var f=d.createTabBar(u);return R(l.widgets,function(m){m.hide(),f.addTab(m.title),i.addAria(m,f)}),f.currentIndex=l.currentIndex,new r(f)}function v(l,d,u){var f=new o(l.orientation);return R(l.children,function(m,x){var M=t(m,d,u),b=n(l.sizes[x]),S=d.createHandle();f.children.push(M),f.handles.push(S),f.sizers.push(b),M.parent=f}),f.syncHandles(),f.normalizeSizes(),f}})(Y||(Y={}));$t=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;t._drag=null,t._tabsMovable=!0,t._tabsConstrained=!1,t._addButtonEnabled=!1,t._pressData=null,t._layoutModified=new H(t),t._addRequested=new H(t),t.addClass("lm-DockPanel"),t.addClass("p-DockPanel"),t._document=e.document||document,t._mode=e.mode||"multiple-document",t._renderer=e.renderer||n.defaultRenderer,t._edges=e.edges||U.DEFAULT_EDGES,e.tabsMovable!==void 0&&(t._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(t._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(t._addButtonEnabled=e.addButtonEnabled),t.dataset.mode=t._mode;var r={createTabBar:function(){return t._createTabBar()},createHandle:function(){return t._createHandle()}};return t.layout=new ln({document:t._document,renderer:r,spacing:e.spacing,hiddenMode:e.hiddenMode}),t.overlay=e.overlay||new n.Overlay,t.node.appendChild(t.overlay.node),t}return n.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var t=this.layout;switch(e){case"multiple-document":R(t.tabBars(),function(r){r.show()});break;case"single-document":t.restoreLayout(U.createSingleDocumentConfig(this));break;default:throw"unreachable"}T.postMessage(this,U.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e,R(this.tabBars(),function(t){t.tabsMovable=e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled=e,R(this.tabBars(),function(t){t.addButtonEnabled=e})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),n.prototype.widgets=function(){return this.layout.widgets()},n.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},n.prototype.tabBars=function(){return this.layout.tabBars()},n.prototype.handles=function(){return this.layout.handles()},n.prototype.selectWidget=function(e){var t=Be(this.tabBars(),function(r){return r.titles.indexOf(e.title)!==-1});if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},n.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},n.prototype.saveLayout=function(){return this.layout.saveLayout()},n.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(G.IS_EDGE||G.IS_IE)&&T.flush(),T.postMessage(this,U.LayoutModified)},n.prototype.addWidget=function(e,t){t===void 0&&(t={}),this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,t),T.postMessage(this,U.LayoutModified)},n.prototype.processMessage=function(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):i.prototype.processMessage.call(this,e)},n.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},n.prototype.onChildAdded=function(e){U.isGeneratedTabBarProperty.get(e.child)||(e.child.addClass("lm-DockPanel-widget"),e.child.addClass("p-DockPanel-widget"))},n.prototype.onChildRemoved=function(e){U.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),e.child.removeClass("p-DockPanel-widget"),T.postMessage(this,U.LayoutModified))},n.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())},n.prototype._evtDragLeave=function(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))},n.prototype._evtDragOver=function(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)},n.prototype._evtDrop=function(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}var t=e.clientX,r=e.clientY,o=U.findDropTarget(this,t,r,this._edges),a=o.zone,s=o.target;if(this._tabsConstrained&&e.source!==this||a==="invalid"){e.dropAction="none";return}var c=e.mimeData,h=c.getData("application/vnd.lumino.widget-factory");if(typeof h!="function"){e.dropAction="none";return}var p=h();if(!(p instanceof O)){e.dropAction="none";return}if(p.contains(this)){e.dropAction="none";return}var v=s?U.getDropRef(s.tabBar):null;switch(a){case"root-all":this.addWidget(p);break;case"root-top":this.addWidget(p,{mode:"split-top"});break;case"root-left":this.addWidget(p,{mode:"split-left"});break;case"root-right":this.addWidget(p,{mode:"split-right"});break;case"root-bottom":this.addWidget(p,{mode:"split-bottom"});break;case"widget-all":this.addWidget(p,{mode:"tab-after",ref:v});break;case"widget-top":this.addWidget(p,{mode:"split-top",ref:v});break;case"widget-left":this.addWidget(p,{mode:"split-left",ref:v});break;case"widget-right":this.addWidget(p,{mode:"split-right",ref:v});break;case"widget-bottom":this.addWidget(p,{mode:"split-bottom",ref:v});break;case"widget-tab":this.addWidget(p,{mode:"tab-after",ref:v});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(p)},n.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),T.postMessage(this,U.LayoutModified))},n.prototype._evtMouseDown=function(e){if(e.button===0){var t=this.layout,r=e.target,o=Be(t.handles(),function(v){return v.contains(r)});if(o){e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var a=o.getBoundingClientRect(),s=e.clientX-a.left,c=e.clientY-a.top,h=window.getComputedStyle(o),p=Ie.overrideCursor(h.cursor,this._document);this._pressData={handle:o,deltaX:s,deltaY:c,override:p}}}},n.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),r=e.clientX-t.left-this._pressData.deltaX,o=e.clientY-t.top-this._pressData.deltaY,a=this.layout;a.moveHandle(this._pressData.handle,r,o)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),T.postMessage(this,U.LayoutModified))},n.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},n.prototype._showOverlay=function(e,t){var r=U.findDropTarget(this,e,t,this._edges),o=r.zone,a=r.target;if(o==="invalid")return this.overlay.hide(100),o;var s,c,h,p,v=W.boxSizing(this.node),l=this.node.getBoundingClientRect();switch(o){case"root-all":s=v.paddingTop,c=v.paddingLeft,h=v.paddingRight,p=v.paddingBottom;break;case"root-top":s=v.paddingTop,c=v.paddingLeft,h=v.paddingRight,p=l.height*U.GOLDEN_RATIO;break;case"root-left":s=v.paddingTop,c=v.paddingLeft,h=l.width*U.GOLDEN_RATIO,p=v.paddingBottom;break;case"root-right":s=v.paddingTop,c=l.width*U.GOLDEN_RATIO,h=v.paddingRight,p=v.paddingBottom;break;case"root-bottom":s=l.height*U.GOLDEN_RATIO,c=v.paddingLeft,h=v.paddingRight,p=v.paddingBottom;break;case"widget-all":s=a.top,c=a.left,h=a.right,p=a.bottom;break;case"widget-top":s=a.top,c=a.left,h=a.right,p=a.bottom+a.height/2;break;case"widget-left":s=a.top,c=a.left,h=a.right+a.width/2,p=a.bottom;break;case"widget-right":s=a.top,c=a.left+a.width/2,h=a.right,p=a.bottom;break;case"widget-bottom":s=a.top+a.height/2,c=a.left,h=a.right,p=a.bottom;break;case"widget-tab":var d=a.tabBar.node.getBoundingClientRect().height;s=a.top,c=a.left,h=a.right,p=a.bottom+a.height-d;break;default:throw"unreachable"}return this.overlay.show({top:s,left:c,right:h,bottom:p}),o},n.prototype._createTabBar=function(){var e=this._renderer.createTabBar(this._document);return U.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e},n.prototype._createHandle=function(){return this._renderer.createHandle()},n.prototype._onTabMoved=function(){T.postMessage(this,U.LayoutModified)},n.prototype._onCurrentChanged=function(e,t){var r=t.previousTitle,o=t.currentTitle;r&&r.owner.hide(),o&&o.owner.show(),(G.IS_EDGE||G.IS_IE)&&T.flush(),T.postMessage(this,U.LayoutModified)},n.prototype._onTabAddRequested=function(e){this._addRequested.emit(e)},n.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},n.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},n.prototype._onTabDetachRequested=function(e,t){var r=this;if(!this._drag){e.releaseMouse();var o=t.title,a=t.tab,s=t.clientX,c=t.clientY,h=new Te.MimeData,p=function(){return o.owner};h.setData("application/vnd.lumino.widget-factory",p);var v=a.cloneNode(!0);this._drag=new Ie({document:this._document,mimeData:h,dragImage:v,proposedAction:"move",supportedActions:"move",source:this}),a.classList.add("lm-mod-hidden"),a.classList.add("p-mod-hidden");var l=function(){r._drag=null,a.classList.remove("lm-mod-hidden"),a.classList.remove("p-mod-hidden")};this._drag.start(s,c).then(l)}},n}(O);(function(i){var n=function(){function t(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return t.prototype.show=function(r){var o=this.node.style;o.top=r.top+"px",o.left=r.left+"px",o.right=r.right+"px",o.bottom=r.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},t.prototype.hide=function(r){var o=this;if(!this._hidden){if(r<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(function(){o._timer=-1,o._hidden=!0,o.node.classList.add("lm-mod-hidden"),o.node.classList.add("p-mod-hidden")},r))}},t}();i.Overlay=n;var e=function(){function t(){}return t.prototype.createTabBar=function(r){var o=new qe({document:r});return o.addClass("lm-DockPanel-tabBar"),o.addClass("p-DockPanel-tabBar"),o},t.prototype.createHandle=function(){var r=document.createElement("div");return r.className="lm-DockPanel-handle",r.classList.add("p-DockPanel-handle"),r},t}();i.Renderer=e,i.defaultRenderer=new e})($t||($t={}));(function(i){i.GOLDEN_RATIO=.618,i.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},i.LayoutModified=new Re("layout-modified"),i.isGeneratedTabBarProperty=new te({name:"isGeneratedTabBar",create:function(){return!1}});function n(r){if(r.isEmpty)return{main:null};var o=Ot(r.widgets()),a=r.selectedWidgets().next(),s=a?o.indexOf(a):-1;return{main:{type:"tab-area",widgets:o,currentIndex:s}}}i.createSingleDocumentConfig=n;function e(r,o,a,s){if(!W.hitTest(r.node,o,a))return{zone:"invalid",target:null};var c=r.layout;if(c.isEmpty)return{zone:"root-all",target:null};if(r.mode==="multiple-document"){var h=r.node.getBoundingClientRect(),p=o-h.left+1,v=a-h.top+1,l=h.right-o,d=h.bottom-a,u=Math.min(v,l,d,p);switch(u){case v:if(v<s.top)return{zone:"root-top",target:null};break;case l:if(l<s.right)return{zone:"root-right",target:null};break;case d:if(d<s.bottom)return{zone:"root-bottom",target:null};break;case p:if(p<s.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var f=c.hitTestTabAreas(o,a);if(!f)return{zone:"invalid",target:null};if(r.mode==="single-document")return{zone:"widget-all",target:f};var m=f.x-f.left+1,x=f.y-f.top+1,M=f.left+f.width-f.x,b=f.top+f.height-f.y,S=f.tabBar.node.getBoundingClientRect().height;if(x<S)return{zone:"widget-tab",target:f};var E=Math.round(f.width/3),D=Math.round(f.height/3);if(m>E&&M>E&&x>D&&b>D)return{zone:"widget-all",target:f};m/=E,x/=D,M/=E,b/=D;var C=Math.min(m,x,M,b),L;switch(C){case m:L="widget-left";break;case x:L="widget-top";break;case M:L="widget-right";break;case b:L="widget-bottom";break;default:throw"unreachable"}return{zone:L,target:f}}i.findDropTarget=e;function t(r){return r.titles.length===0?null:r.currentTitle?r.currentTitle.owner:r.titles[r.titles.length-1].owner}i.getDropRef=t})(U||(U={}));ci=function(){function i(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new H(this),this._currentChanged=new H(this)}return i.prototype.dispose=function(){var n=this;this._counter<0||(this._counter=-1,H.clearData(this),R(this._widgets,function(e){e.node.removeEventListener("focus",n,!0),e.node.removeEventListener("blur",n,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(i.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),i.prototype.focusNumber=function(n){var e=this._numbers.get(n);return e===void 0?-1:e},i.prototype.has=function(n){return this._numbers.has(n)},i.prototype.add=function(n){if(!this._numbers.has(n)){var e=n.node.contains(document.activeElement),t=e?this._counter++:-1;this._widgets.push(n),this._numbers.set(n,t),this._nodes.set(n.node,n),n.node.addEventListener("focus",this,!0),n.node.addEventListener("blur",this,!0),n.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(n,n)}},i.prototype.remove=function(n){var e=this;if(this._numbers.has(n)&&(n.disposed.disconnect(this._onWidgetDisposed,this),n.node.removeEventListener("focus",this,!0),n.node.removeEventListener("blur",this,!0),A.removeFirstOf(this._widgets,n),this._nodes.delete(n.node),this._numbers.delete(n),this._currentWidget===n)){var t=Pt(this._widgets,function(o){return e._numbers.get(o)!==-1}),r=Bt(t,function(o,a){var s=e._numbers.get(o),c=e._numbers.get(a);return s-c})||null;this._setWidgets(r,null)}},i.prototype.handleEvent=function(n){switch(n.type){case"focus":this._evtFocus(n);break;case"blur":this._evtBlur(n);break}},i.prototype._setWidgets=function(n,e){var t=this._currentWidget;this._currentWidget=n;var r=this._activeWidget;this._activeWidget=e,t!==n&&this._currentChanged.emit({oldValue:t,newValue:n}),r!==e&&this._activeChanged.emit({oldValue:r,newValue:e})},i.prototype._evtFocus=function(n){var e=this._nodes.get(n.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},i.prototype._evtBlur=function(n){var e=this._nodes.get(n.currentTarget),t=n.relatedTarget;if(!t){this._setWidgets(this._currentWidget,null);return}if(!e.node.contains(t)&&!Be(this._widgets,function(r){return r.node.contains(t)})){this._setWidgets(this._currentWidget,null);return}},i.prototype._onWidgetDisposed=function(n){this.remove(n)},i}(),Et=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return t._dirty=!1,t._rowSpacing=4,t._columnSpacing=4,t._items=[],t._rowStarts=[],t._columnStarts=[],t._rowSizers=[new Le],t._columnSizers=[new Le],t._box=null,e.rowCount!==void 0&&X.reallocSizers(t._rowSizers,e.rowCount),e.columnCount!==void 0&&X.reallocSizers(t._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(t._rowSpacing=X.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(t._columnSpacing=X.clampValue(e.columnSpacing)),t}return n.prototype.dispose=function(){R(this._items,function(e){var t=e.widget;e.dispose(),t.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(X.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(X.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=X.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=X.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),n.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},n.prototype.setRowStretch=function(e,t){var r=this._rowSizers[e];r&&(t=X.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))},n.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},n.prototype.setColumnStretch=function(e,t){var r=this._columnSizers[e];r&&(t=X.clampValue(t),r.stretch!==t&&(r.stretch=t,this.parent&&this.parent.update()))},n.prototype.iter=function(){return Me(this._items,function(e){return e.widget})},n.prototype.addWidget=function(e){var t=A.findFirstIndex(this._items,function(r){return r.widget===e});t===-1&&(this._items.push(new Xe(e)),this.parent&&this.attachWidget(e))},n.prototype.removeWidget=function(e){var t=A.findFirstIndex(this._items,function(o){return o.widget===e});if(t!==-1){var r=A.removeAt(this._items,t);this.parent&&this.detachWidget(e),r.dispose()}},n.prototype.init=function(){var e=this;i.prototype.init.call(this),R(this,function(t){e.attachWidget(t)})},n.prototype.attachWidget=function(e){this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterAttach),this.parent.fit()},n.prototype.detachWidget=function(e){this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterDetach),this.parent.fit()},n.prototype.onBeforeShow=function(e){i.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){i.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,t=this.rowCount;e<t;++e)this._rowSizers[e].minSize=0;for(var e=0,t=this.columnCount;e<t;++e)this._columnSizers[e].minSize=0;for(var r=this._items.filter(function(x){return!x.isHidden}),e=0,t=r.length;e<t;++e)r[e].fit();var o=this.rowCount-1,a=this.columnCount-1;r.sort(X.rowSpanCmp);for(var e=0,t=r.length;e<t;++e){var s=r[e],c=n.getCellConfig(s.widget),h=Math.min(c.row,o),p=Math.min(c.row+c.rowSpan-1,o);X.distributeMin(this._rowSizers,h,p,s.minHeight)}r.sort(X.columnSpanCmp);for(var e=0,t=r.length;e<t;++e){var s=r[e],c=n.getCellConfig(s.widget),v=Math.min(c.column,a),l=Math.min(c.column+c.columnSpan-1,a);X.distributeMin(this._columnSizers,v,l,s.minWidth)}if(this.fitPolicy==="set-no-constraint"){T.sendMessage(this.parent,O.Msg.UpdateRequest);return}for(var d=o*this._rowSpacing,u=a*this._columnSpacing,e=0,t=this.rowCount;e<t;++e)d+=this._rowSizers[e].minSize;for(var e=0,t=this.columnCount;e<t;++e)u+=this._columnSizers[e].minSize;var f=this._box=W.boxSizing(this.parent.node);u+=f.horizontalSum,d+=f.verticalSum;var m=this.parent.node.style;m.minWidth=u+"px",m.minHeight=d+"px",this._dirty=!0,this.parent.parent&&T.sendMessage(this.parent.parent,O.Msg.FitRequest),this._dirty&&T.sendMessage(this.parent,O.Msg.UpdateRequest)},n.prototype._update=function(e,t){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=W.boxSizing(this.parent.node));var r=this._box.paddingTop,o=this._box.paddingLeft,a=e-this._box.horizontalSum,s=t-this._box.verticalSum,c=this.rowCount-1,h=this.columnCount-1,p=c*this._rowSpacing,v=h*this._columnSpacing;ce.calc(this._rowSizers,Math.max(0,s-p)),ce.calc(this._columnSizers,Math.max(0,a-v));for(var l=0,d=r,u=this.rowCount;l<u;++l)this._rowStarts[l]=d,d+=this._rowSizers[l].size+this._rowSpacing;for(var l=0,d=o,u=this.columnCount;l<u;++l)this._columnStarts[l]=d,d+=this._columnSizers[l].size+this._columnSpacing;for(var l=0,u=this._items.length;l<u;++l){var f=this._items[l];if(!f.isHidden){var m=n.getCellConfig(f.widget),x=Math.min(m.row,c),M=Math.min(m.column,h),b=Math.min(m.row+m.rowSpan-1,c),S=Math.min(m.column+m.columnSpan-1,h),E=this._columnStarts[M],D=this._rowStarts[x],C=this._columnStarts[S]+this._columnSizers[S].size-E,L=this._rowStarts[b]+this._rowSizers[b].size-D;f.update(E,D,C,L)}}},n}(Ee);(function(i){function n(t){return X.cellConfigProperty.get(t)}i.getCellConfig=n;function e(t,r){X.cellConfigProperty.set(t,X.normalizeConfig(r))}i.setCellConfig=e})(Et||(Et={}));(function(i){i.cellConfigProperty=new te({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:s});function n(c){var h=Math.max(0,Math.floor(c.row||0)),p=Math.max(0,Math.floor(c.column||0)),v=Math.max(1,Math.floor(c.rowSpan||0)),l=Math.max(1,Math.floor(c.columnSpan||0));return{row:h,column:p,rowSpan:v,columnSpan:l}}i.normalizeConfig=n;function e(c){return Math.max(0,Math.floor(c))}i.clampValue=e;function t(c,h){var p=i.cellConfigProperty.get(c.widget),v=i.cellConfigProperty.get(h.widget);return p.rowSpan-v.rowSpan}i.rowSpanCmp=t;function r(c,h){var p=i.cellConfigProperty.get(c.widget),v=i.cellConfigProperty.get(h.widget);return p.columnSpan-v.columnSpan}i.columnSpanCmp=r;function o(c,h){for(h=Math.max(1,Math.floor(h));c.length<h;)c.push(new Le);c.length>h&&(c.length=h)}i.reallocSizers=o;function a(c,h,p,v){if(!(p<h)){if(h===p){var l=c[h];l.minSize=Math.max(l.minSize,v);return}for(var d=0,u=h;u<=p;++u)d+=c[u].minSize;if(!(d>=v))for(var f=(v-d)/(p-h+1),u=h;u<=p;++u)c[u].minSize+=f}}i.distributeMin=a;function s(c){c.parent&&c.parent.layout instanceof Et&&c.parent.fit()}})(X||(X={}));Zt=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{node:rt.createNode()})||this;return t._activeIndex=-1,t._tabFocusIndex=0,t._menus=[],t._childMenu=null,t.addClass("lm-MenuBar"),t.addClass("p-MenuBar"),t.setFlag(O.Flag.DisallowLayout),t.renderer=e.renderer||n.defaultRenderer,t._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},t}return n.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,e!==-1&&(this._tabFocusIndex=e),this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),n.prototype.openActiveMenu=function(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},n.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},n.prototype.insertMenu=function(e,t){this._closeChildMenu();var r=this._menus.indexOf(t),o=Math.max(0,Math.min(e,this._menus.length));if(r===-1){A.insert(this._menus,o,t),t.addClass("lm-MenuBar-menu"),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),this.update();return}o===this._menus.length&&o--,r!==o&&(A.move(this._menus,r,o),this.update())},n.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},n.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=A.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("lm-MenuBar-menu"),t.removeClass("p-MenuBar-menu"),this.update())},n.prototype.clearMenus=function(){if(this._menus.length!==0){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var r=t[e];r.aboutToClose.disconnect(this._onMenuAboutToClose,this),r.menuRequested.disconnect(this._onMenuMenuRequested,this),r.title.changed.disconnect(this._onTitleChanged,this),r.removeClass("lm-MenuBar-menu"),r.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},n.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},n.prototype.onActivateRequest=function(e){this.isAttached&&(this.activeIndex=0)},n.prototype.onUpdateRequest=function(e){for(var t=this,r=this._menus,o=this.renderer,a=this._activeIndex,s=this._tabFocusIndex>=0&&this._tabFocusIndex<r.length?this._tabFocusIndex:0,c=new Array(r.length),h=function(l,d){var u=r[l].title,f=l===a;f&&r[l].items.length==0&&(f=!1),c[l]=o.renderItem({title:u,active:f,tabbable:l===s,onfocus:function(){t.activeIndex=l}})},p=0,v=r.length;p<v;++p)h(p);ge.render(c,this.contentNode)},n.prototype._evtKeyDown=function(e){var t=e.keyCode;if(t===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),t===13||t===32||t===38||t===40){this.openActiveMenu();return}if(t===27){this._closeChildMenu(),this.activeIndex=-1,this.node.blur();return}if(t===37){var r=this._activeIndex,o=this._menus.length;this.activeIndex=r===0?o-1:r-1;return}if(t===39){var r=this._activeIndex,o=this._menus.length;this.activeIndex=r===o-1?0:r+1;return}var a=He().keyForKeydownEvent(e);if(a){var s=this._activeIndex+1,c=rt.findMnemonic(this._menus,a,s);c.index!==-1&&!c.multiple?(this.activeIndex=c.index,this.openActiveMenu()):c.index!==-1?this.activeIndex=c.index:c.auto!==-1&&(this.activeIndex=c.auto)}},n.prototype._evtMouseDown=function(e){if(W.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=A.findFirstIndex(this.contentNode.children,function(o){return W.hitTest(o,e.clientX,e.clientY)});if(t===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=t;else{var r=this._positionForMenu(t);Fe.saveWindowData(),this.activeIndex=t,this._openChildMenu(r)}}},n.prototype._evtMouseMove=function(e){var t=A.findFirstIndex(this.contentNode.children,function(o){return W.hitTest(o,e.clientX,e.clientY)});if(t!==this._activeIndex&&!(t===-1&&this._childMenu)){var r=this._positionForMenu(t);Fe.saveWindowData(),this.activeIndex=t,this._childMenu&&this._openChildMenu(r)}},n.prototype._positionForMenu=function(e){var t=this.contentNode.children[e],r=t.getBoundingClientRect(),o=r.left,a=r.bottom;return{top:a,left:o}},n.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},n.prototype._openChildMenu=function(e){var t;e===void 0&&(e={});var r=this.activeMenu;if(!r){this._closeChildMenu();return}var o=this._childMenu;if(o!==r){this._childMenu=r,o?o.close():document.addEventListener("mousedown",this,!0),T.sendMessage(this,O.Msg.UpdateRequest);var a=e.left,s=e.top;(typeof a>"u"||typeof s>"u")&&(t=this._positionForMenu(this._activeIndex),a=t.left,s=t.top),o||(this.addClass("lm-mod-active"),this.addClass("p-mod-active")),r.items.length>0&&r.open(a,s,this._forceItemsPosition)}},n.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},n.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},n.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var r=this._activeIndex,o=this._menus.length;switch(t){case"next":this.activeIndex=r===o-1?0:r+1;break;case"previous":this.activeIndex=r===0?o-1:r-1;break}this.openActiveMenu()}},n.prototype._onTitleChanged=function(){this.update()},n}(O);(function(i){var n=function(){function e(){}return e.prototype.renderItem=function(t){var r=this.createItemClass(t),o=this.createItemDataset(t),a=this.createItemARIA(t);return j.li($({className:r,dataset:o,tabindex:t.tabbable?"0":"-1",onfocus:t.onfocus},a),this.renderIcon(t),this.renderLabel(t))},e.prototype.renderIcon=function(t){var r=this.createIconClass(t);return typeof t.title.icon=="string"?j.div({className:r},t.title.iconLabel):j.div({className:r},t.title.icon,t.title.iconLabel)},e.prototype.renderLabel=function(t){var r=this.formatLabel(t);return j.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},r)},e.prototype.createItemClass=function(t){var r="lm-MenuBar-item";return r+=" p-MenuBar-item",t.title.className&&(r+=" "+t.title.className),t.active&&(r+=" lm-mod-active",r+=" p-mod-active"),r},e.prototype.createItemDataset=function(t){return t.title.dataset},e.prototype.createItemARIA=function(t){return{role:"menuitem","aria-haspopup":"true"}},e.prototype.createIconClass=function(t){var r="lm-MenuBar-itemIcon";r+=" p-MenuBar-itemIcon";var o=t.title.iconClass;return o?r+" "+o:r},e.prototype.formatLabel=function(t){var r=t.title,o=r.label,a=r.mnemonic;if(a<0||a>=o.length)return o;var s=o.slice(0,a),c=o.slice(a+1),h=o[a],p=j.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},h);return[s,p,c]},e}();i.Renderer=n,i.defaultRenderer=new n})(Zt||(Zt={}));(function(i){function n(){var t=document.createElement("div"),r=document.createElement("ul");return r.className="lm-MenuBar-content",r.classList.add("p-MenuBar-content"),t.appendChild(r),r.setAttribute("role","menubar"),t}i.createNode=n;function e(t,r,o){for(var a=-1,s=-1,c=!1,h=r.toUpperCase(),p=0,v=t.length;p<v;++p){var l=(p+o)%v,d=t[l].title;if(d.label.length!==0){var u=d.mnemonic;if(u>=0&&u<d.label.length){d.label[u].toUpperCase()===h&&(a===-1?a=l:c=!0);continue}s===-1&&d.label[0].toUpperCase()===h&&(s=l)}}return{index:a,multiple:c,auto:s}}i.findMnemonic=e})(rt||(rt={}));di=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{node:ot.createNode()})||this;return t._onRepeat=function(){if(t._repeatTimer=-1,!!t._pressData){var r=t._pressData.part;if(r!=="thumb"){t._repeatTimer=window.setTimeout(t._onRepeat,20);var o=t._pressData.mouseX,a=t._pressData.mouseY;if(r==="decrement"){if(!W.hitTest(t.decrementNode,o,a))return;t._stepRequested.emit("decrement");return}if(r==="increment"){if(!W.hitTest(t.incrementNode,o,a))return;t._stepRequested.emit("increment");return}if(r==="track"){if(!W.hitTest(t.trackNode,o,a))return;var s=t.thumbNode;if(W.hitTest(s,o,a))return;var c=s.getBoundingClientRect(),h=void 0;t._orientation==="horizontal"?h=o<c.left?"decrement":"increment":h=a<c.top?"decrement":"increment",t._pageRequested.emit(h);return}}}},t._value=0,t._page=10,t._maximum=100,t._repeatTimer=-1,t._pressData=null,t._thumbMoved=new H(t),t._stepRequested=new H(t),t._pageRequested=new H(t),t.addClass("lm-ScrollBar"),t.addClass("p-ScrollBar"),t.setFlag(O.Flag.DisallowLayout),t._orientation=e.orientation||"vertical",t.dataset.orientation=t._orientation,e.maximum!==void 0&&(t._maximum=Math.max(0,e.maximum)),e.page!==void 0&&(t._page=Math.max(0,e.page)),e.value!==void 0&&(t._value=Math.max(0,Math.min(e.value,t._maximum))),t}return Object.defineProperty(n.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),n.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},n.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},n.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},n.prototype.onUpdateRequest=function(e){var t=this._value*100/this._maximum,r=this._page*100/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),r=Math.max(0,Math.min(r,100));var o=this.thumbNode.style;this._orientation==="horizontal"?(o.top="",o.height="",o.left=t+"%",o.width=r+"%",o.transform="translate("+-t+"%, 0%)"):(o.left="",o.width="",o.top=t+"%",o.height=r+"%",o.transform="translate(0%, "+-t+"%)")},n.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),e.keyCode===27){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),t!==-1&&this._moveThumb(t)}},n.prototype._evtMouseDown=function(e){if(e.button===0&&(this.activate(),!this._pressData)){var t=ot.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var r=Ie.overrideCursor("default");if(this._pressData={part:t,override:r,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),t==="thumb"){var o=this.thumbNode,a=o.getBoundingClientRect();this._orientation==="horizontal"?this._pressData.delta=e.clientX-a.left:this._pressData.delta=e.clientY-a.top,o.classList.add("lm-mod-active"),o.classList.add("p-mod-active"),this._pressData.value=this._value;return}if(t==="track"){var a=this.thumbNode.getBoundingClientRect(),s=void 0;this._orientation==="horizontal"?s=e.clientX<a.left?"decrement":"increment":s=e.clientY<a.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),this._pageRequested.emit(s);return}if(t==="decrement"){this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("decrement");return}if(t==="increment"){this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("increment");return}}}},n.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,this._pressData.part==="thumb")){var t=this.thumbNode.getBoundingClientRect(),r=this.trackNode.getBoundingClientRect(),o,a;this._orientation==="horizontal"?(o=e.clientX-r.left-this._pressData.delta,a=r.width-t.width):(o=e.clientY-r.top-this._pressData.delta,a=r.height-t.height);var s=a===0?0:o*this._maximum/a;this._moveThumb(s)}},n.prototype._evtMouseUp=function(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},n.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},n.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))},n}(O);(function(i){function n(){var t=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div");return r.className="lm-ScrollBar-button",o.className="lm-ScrollBar-button",r.dataset.action="decrement",o.dataset.action="increment",a.className="lm-ScrollBar-track",s.className="lm-ScrollBar-thumb",r.classList.add("p-ScrollBar-button"),o.classList.add("p-ScrollBar-button"),a.classList.add("p-ScrollBar-track"),s.classList.add("p-ScrollBar-thumb"),a.appendChild(s),t.appendChild(r),t.appendChild(a),t.appendChild(o),t}i.createNode=n;function e(t,r){return t.thumbNode.contains(r)?"thumb":t.trackNode.contains(r)?"track":t.decrementNode.contains(r)?"decrement":t.incrementNode.contains(r)?"increment":null}i.findPart=e})(ot||(ot={}));hi=function(i){K(n,i);function n(){var e=i!==null&&i.apply(this,arguments)||this;return e._widget=null,e}return n.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}i.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"widget",{get:function(){return this._widget},set:function(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))},enumerable:!0,configurable:!0}),n.prototype.iter=function(){return this._widget?Ke(this._widget):se()},n.prototype.removeWidget=function(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))},n.prototype.init=function(){var e=this;i.prototype.init.call(this),R(this,function(t){e.attachWidget(t)})},n.prototype.attachWidget=function(e){this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterAttach)},n.prototype.detachWidget=function(e){this.parent.isAttached&&T.sendMessage(e,O.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&T.sendMessage(e,O.Msg.AfterDetach)},n}(Ee),fn=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,e)||this;return t._dirty=!1,t._items=[],t._box=null,t._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:O.HiddenMode.Display,t}return Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(function(r){r.hiddenMode=t._hiddenMode}))},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){R(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,i.prototype.dispose.call(this)},n.prototype.attachWidget=function(e,t){this._hiddenMode===O.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=O.HiddenMode.Scale),t.hiddenMode=O.HiddenMode.Scale):t.hiddenMode=O.HiddenMode.Display,A.insert(this._items,e,new Xe(t)),this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterAttach),this.parent.fit()},n.prototype.moveWidget=function(e,t,r){A.move(this._items,e,t),this.parent.update()},n.prototype.detachWidget=function(e,t){var r=A.removeAt(this._items,e);this.parent.isAttached&&T.sendMessage(t,O.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&T.sendMessage(t,O.Msg.AfterDetach),r.widget.node.style.zIndex="",this._hiddenMode===O.HiddenMode.Scale&&(t.hiddenMode=O.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=O.HiddenMode.Display)),r.dispose(),this.parent.fit()},n.prototype.onBeforeShow=function(e){i.prototype.onBeforeShow.call(this,e),this.parent.update()},n.prototype.onBeforeAttach=function(e){i.prototype.onBeforeAttach.call(this,e),this.parent.fit()},n.prototype.onChildShown=function(e){this.parent.fit()},n.prototype.onChildHidden=function(e){this.parent.fit()},n.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},n.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},n.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},n.prototype._fit=function(){for(var e=0,t=0,r=0,o=this._items.length;r<o;++r){var a=this._items[r];a.isHidden||(a.fit(),e=Math.max(e,a.minWidth),t=Math.max(t,a.minHeight))}var s=this._box=W.boxSizing(this.parent.node);e+=s.horizontalSum,t+=s.verticalSum;var c=this.parent.node.style;c.minWidth=e+"px",c.minHeight=t+"px",this._dirty=!0,this.parent.parent&&T.sendMessage(this.parent.parent,O.Msg.FitRequest),this._dirty&&T.sendMessage(this.parent,O.Msg.UpdateRequest)},n.prototype._update=function(e,t){this._dirty=!1;for(var r=0,o=0,a=this._items.length;o<a;++o)r+=+!this._items[o].isHidden;if(r!==0){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=W.boxSizing(this.parent.node));for(var s=this._box.paddingTop,c=this._box.paddingLeft,h=e-this._box.horizontalSum,p=t-this._box.verticalSum,o=0,a=this._items.length;o<a;++o){var v=this._items[o];v.isHidden||(v.widget.node.style.zIndex=""+o,v.update(c,s,h,p))}}},n}(at),pn=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this,{layout:zt.createLayout(e)})||this;return t._widgetRemoved=new H(t),t.addClass("lm-StackedPanel"),t.addClass("p-StackedPanel"),t}return Object.defineProperty(n.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),n.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child"),e.child.addClass("p-StackedPanel-child")},n.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child"),e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},n}(At);(function(i){function n(e){return e.layout||new fn}i.createLayout=n})(zt||(zt={}));li=function(i){K(n,i);function n(e){e===void 0&&(e={});var t=i.call(this)||this;t._currentChanged=new H(t),t._addRequested=new H(t),t.addClass("lm-TabPanel"),t.addClass("p-TabPanel"),t.tabBar=new qe(e),t.tabBar.addClass("lm-TabPanel-tabBar"),t.stackedPanel=new pn,t.stackedPanel.addClass("lm-TabPanel-stackedPanel"),t.tabBar.addClass("p-TabPanel-tabBar"),t.stackedPanel.addClass("p-TabPanel-stackedPanel"),t.tabBar.tabMoved.connect(t._onTabMoved,t),t.tabBar.currentChanged.connect(t._onCurrentChanged,t),t.tabBar.tabCloseRequested.connect(t._onTabCloseRequested,t),t.tabBar.tabActivateRequested.connect(t._onTabActivateRequested,t),t.tabBar.addRequested.connect(t._onTabAddRequested,t),t.stackedPanel.widgetRemoved.connect(t._onWidgetRemoved,t),t._tabPlacement=e.tabPlacement||"top";var r=We.directionFromPlacement(t._tabPlacement),o=We.orientationFromPlacement(t._tabPlacement);t.tabBar.orientation=o,t.tabBar.dataset.placement=t._tabPlacement;var a=new me({direction:r,spacing:0});return me.setStretch(t.tabBar,0),me.setStretch(t.stackedPanel,1),a.addWidget(t.tabBar),a.addWidget(t.stackedPanel),t.layout=a,t}return Object.defineProperty(n.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(e){this.tabBar.addButtonEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=We.directionFromPlacement(e),r=We.orientationFromPlacement(e);this.tabBar.orientation=r,this.tabBar.dataset.placement=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),n.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},n.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title),t.node.setAttribute("role","tabpanel");var r=this.tabBar.renderer;if(r instanceof qe.Renderer){var o=r.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",o)}},n.prototype._onCurrentChanged=function(e,t){var r=t.previousIndex,o=t.previousTitle,a=t.currentIndex,s=t.currentTitle,c=o?o.owner:null,h=s?s.owner:null;c&&c.hide(),h&&h.show(),this._currentChanged.emit({previousIndex:r,previousWidget:c,currentIndex:a,currentWidget:h}),(G.IS_EDGE||G.IS_IE)&&T.flush()},n.prototype._onTabAddRequested=function(e,t){this._addRequested.emit(e)},n.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},n.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},n.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},n.prototype._onWidgetRemoved=function(e,t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(t.title)},n}(O);(function(i){function n(o){return t[o]}i.orientationFromPlacement=n;function e(o){return r[o]}i.directionFromPlacement=e;var t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},r={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(We||(We={}))});export{A as a,R as b,we as c,G as d,dt as e,T as f,Wt as g,O as h,at as i,At as j,qe as k,mn as l};
/*! Bundled license information:

@lumino/messaging/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/disposable/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/commands/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/virtualdom/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@lumino/widgets/dist/index.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
