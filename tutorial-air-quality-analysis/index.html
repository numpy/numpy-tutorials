<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Analyzing the impact of the lockdown on air quality in Delhi, India - Numpy Tutorials</title><meta property="og:title" content="Analyzing the impact of the lockdown on air quality in Delhi, India - Numpy Tutorials"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg"/><meta property="og:image" content="/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg"/><link rel="stylesheet" href="/numpy-tutorials/build/_assets/app-MOQGDXHO.css"/><link rel="stylesheet" href="/numpy-tutorials/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/numpy-tutorials/favicon.ico"/><link rel="stylesheet" href="/numpy-tutorials/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/numpy-tutorials/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="/numpy-tutorials/build/numpylogo-568bd065177ae2f83ea5fd26b529d177.svg" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 dark:text-gray-300 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Numpy Tutorials" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/numpy-tutorials/">Numpy Tutorials</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Applications" class="block break-words rounded py-2 grow cursor-pointer">Applications</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Features" class="block break-words rounded py-2 grow cursor-pointer">Features</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Contributing" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/numpy-tutorials/contributing">Contributing</a><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/numpy/numpy-tutorials" title="GitHub Repository: numpy/numpy-tutorials" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/numpy/numpy-tutorials/edit/main/content/tutorial-air-quality-analysis.md" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Analyzing the impact of the lockdown on air quality in Delhi, India</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78ucp:" data-state="closed"><span class="myst-fm-author-name">Numpy Community</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><img id="WnEMkom2sM" style="margin-left:auto;margin-right:auto" src="/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg" alt="A grid showing the India Gate in smog above and clear air below" data-canonical-url="_static/11-delhi-aqi.jpg" class=""/><h2 id="what-youll-do" class="relative group"><span class="heading-text">What you’ll do</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-youll-do" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Calculate Air Quality Indices (AQI) and perform paired Student’s t-test on them.</p><h2 id="what-youll-learn" class="relative group"><span class="heading-text">What you’ll learn</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-youll-learn" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p>You’ll learn the concept of moving averages</p></li><li><p>You’ll learn how to calculate Air Quality Index (AQI)</p></li><li><p>You’ll learn how to perform a paired Student’s t-test and find the <code>t</code> and <code>p</code> values</p></li><li><p>You’ll learn how to interpret these values</p></li></ul><h2 id="what-youll-need" class="relative group"><span class="heading-text">What you’ll need</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-youll-need" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p><a target="_blank" rel="noreferrer" href="https://scipy.org/install/" class="link">SciPy<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> installed in your environment</p></li><li><p>Basic understanding of statistical terms like population, sample, mean, standard deviation etc.</p></li></ul><hr class="py-2 my-5 translate-y-2"/><h2 id="the-problem-of-air-pollution" class="relative group"><span class="heading-text">The problem of air pollution</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#the-problem-of-air-pollution" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Air pollution is one of the most prominent types of pollution we face that has an immediate effect on our daily lives. The
COVID-19 pandemic resulted in lockdowns in different parts of the world; offering a rare opportunity to study the effect of
human activity (or lack thereof) on air pollution. In this tutorial, we will study the air quality in Delhi, one of the
worst affected cities by air pollution, before and during the lockdown from March to June 2020. For this, we will first compute
the Air Quality Index for each hour from the collected pollutant measurements. Next, we will sample these indices and perform
a <a href="https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">paired Student’s t-test</a> on them. It will statistically show us that the air quality improved due to the lockdown, supporting our intuition.</p><p>Let’s start by importing the necessary libraries into our environment.</p><div id="t2sE9qyGp6" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import numpy as np
from numpy.random import default_rng
from scipy import stats</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="VDQ_OJ0huM7soRQYq7PpV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><h2 id="building-the-dataset" class="relative group"><span class="heading-text">Building the dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#building-the-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will use a condensed version of the <a target="_blank" rel="noreferrer" href="https://www.kaggle.com/rohanrao/air-quality-data-in-india" class="link">Air Quality Data in India<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> dataset. This dataset contains air quality data and AQI (Air Quality Index) at hourly and daily level of various stations across multiple cities in India. The condensed version available with this tutorial contains hourly pollutant measurements for Delhi
from May 31, 2019 to June 30, 2020. It has measurements of the standard pollutants that are required for Air Quality Index calculation and a few other important ones:
Particulate Matter (PM 2.5 and PM 10), nitrogen dioxide (NO2), ammonia (NH3), sulfur dioxide (SO2), carbon monoxide (CO), ozone (O3), oxides of nitrogen (NOx), nitric oxide (NO), benzene, toluene, and xylene.</p><p>Let’s print out the first few rows to have a glimpse of our dataset.</p><div id="NtcCePupVN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">! head air-quality-data.csv</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="LNCUJFgnlrsMkym6AKzEY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Datetime,PM2.5,PM10,NO2,NH3,SO2,CO,O3,NOx,NO,Benzene,Toluene,Xylene
2019-05-31 00:00:00,103.26,305.46,94.71,31.43,30.16,3.0,18.06,178.31,152.73,13.65,83.47,2.54
2019-05-31 01:00:00,104.47,309.14,74.66,34.08,27.02,1.69,18.65,106.5,79.98,11.35,76.79,2.91
2019-05-31 02:00:00,90.0,314.02,48.11,32.6,18.12,0.83,28.27,48.45,25.27,5.66,32.91,1.59
2019-05-31 03:00:00,78.01,356.14,45.45,30.21,16.78,0.79,27.47,44.22,21.5,3.6,21.41,0.78
2019-05-31 04:00:00,80.19,372.9,45.23,28.68,16.41,0.76,26.92,44.06,22.15,4.5,23.39,0.62
2019-05-31 05:00:00,83.59,389.97,39.49,27.71,17.42,0.76,28.71,39.33,21.04,3.25,23.59,0.56
2019-05-31 06:00:00,79.04,371.64,39.61,26.87,16.91,0.84,29.26,43.11,24.37,3.12,15.27,0.46
2019-05-31 07:00:00,77.32,361.88,42.63,27.26,17.86,0.96,27.07,48.22,28.81,3.32,14.42,0.41
2019-05-31 08:00:00,84.3,377.77,42.49,28.41,20.19,0.98,33.05,48.22,27.76,3.4,14.53,0.4
</span></code></pre></div></div></div></div><p>For the purpose of this tutorial, we are only concerned with standard pollutants required for calculating the AQI, viz., PM 2.5, PM 10, NO2, NH3, SO2, CO, and O3. So, we will only import these particular columns with <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.loadtxt.html" class="link">np.loadtxt<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. We’ll then <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/glossary.html#term-0" class="link">slice<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> and create two sets: <code>pollutants_A</code> with PM 2.5, PM 10, NO2, NH3, and SO2, and <code>pollutants_B</code> with CO and O3. The
two sets will be processed slightly differently, as we’ll see later on.</p><div id="XYk2EijS9j" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pollutant_data = np.loadtxt(&quot;air-quality-data.csv&quot;, dtype=float, delimiter=&quot;,&quot;,
                            skiprows=1, usecols=range(1, 8))
pollutants_A = pollutant_data[:, 0:5]
pollutants_B = pollutant_data[:, 5:]

print(pollutants_A.shape)
print(pollutants_B.shape)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XQukRMgq-HrKQAU-7Calq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>(9528, 5)
(9528, 2)
</span></code></pre></div></div></div></div><p>Our dataset might contain missing values, denoted by <code>NaN</code>, so let’s do a quick check with <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.isfinite.html" class="link">np.isfinite<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p><div id="FYaufvFXs0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">np.all(np.isfinite(pollutant_data))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MLV5xKQmYNTcDBic0tcI1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>np.True_</span></code></div></div></div><p>With this, we have successfully imported the data and checked that it is complete. Let’s move on to the AQI calculations!</p><h2 id="calculating-the-air-quality-index" class="relative group"><span class="heading-text">Calculating the Air Quality Index</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calculating-the-air-quality-index" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will calculate the AQI using <a target="_blank" rel="noreferrer" href="https://app.cpcbccr.com/ccr_docs/FINAL-REPORT_AQI_.pdf" class="link">the method<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> adopted by the <a target="_blank" rel="noreferrer" href="https://www.cpcb.nic.in/national-air-quality-index/" class="link">Central Pollution Control Board<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> of India.  To summarize the steps:</p><ul><li><p>Collect 24-hourly average concentration values for the standard pollutants; 8-hourly in case of CO and O3.</p></li><li><p>Calculate the sub-indices for these pollutants with the formula:</p><div id="nFa6wFql6d" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>p</mi><mo>=</mo><mfrac><mtext>IHi – ILo</mtext><mtext>BPHi – BPLo</mtext></mfrac><mo>⋅</mo><mtext>Cp – BPLo</mtext><mo>+</mo><mtext>ILo</mtext></mrow><annotation encoding="application/x-tex">Ip = \dfrac{\text{IHi – ILo}}{\text{BPHi – BPLo}}\cdot{\text{Cp – BPLo}} + \text{ILo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">BPHi – BPLo</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">IHi – ILo</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord text"><span class="mord">Cp – BPLo</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">ILo</span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#nFa6wFql6d" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->1<!-- -->)</a></div></div><p>Where,</p><p><code>Ip</code> = sub-index of pollutant <code>p</code><br/><code>Cp</code> = averaged concentration of pollutant <code>p</code><br/><code>BPHi</code> = concentration breakpoint i.e. greater than or equal to <code>Cp</code><br/><code>BPLo</code> = concentration breakpoint i.e. less than or equal to <code>Cp</code><br/><code>IHi</code> = AQI value corresponding to <code>BPHi</code><br/><code>ILo</code> = AQI value corresponding to <code>BPLo</code></p></li><li><p>The maximum sub-index at any given time is the Air Quality Index.</p></li></ul><p>The Air Quality Index is calculated with the help of breakpoint ranges as shown in the chart below.</p><img id="wRfly8GDgw" style="margin-left:auto;margin-right:auto" src="/numpy-tutorials/build/11-breakpoints-3702d58cdc4b83ce33727ac3cf3be49f.png" alt="Chart of the breakpoint ranges" data-canonical-url="_static/11-breakpoints.png" class=""/><p>Let’s create two arrays to store the AQI ranges and breakpoints so that we can use them later for our calculations.</p><div id="BUSjO3R6Tc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">AQI = np.array([0, 51, 101, 201, 301, 401, 501])

breakpoints = {
    &#x27;PM2.5&#x27;: np.array([0, 31, 61, 91, 121, 251]),
    &#x27;PM10&#x27;: np.array([0, 51, 101, 251, 351, 431]),
    &#x27;NO2&#x27;: np.array([0, 41, 81, 181, 281, 401]),
    &#x27;NH3&#x27;: np.array([0, 201, 401, 801, 1201, 1801]),
    &#x27;SO2&#x27;: np.array([0, 41, 81, 381, 801, 1601]),
    &#x27;CO&#x27;: np.array([0, 1.1, 2.1, 10.1, 17.1, 35]),
    &#x27;O3&#x27;: np.array([0, 51, 101, 169, 209, 749])
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="yUT6qTzgI-SuSwqlNKYrd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><h3 id="moving-averages" class="relative group"><span class="heading-text">Moving averages</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#moving-averages" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>For the first step, we have to compute <a href="https://en.wikipedia.org/wiki/Moving_average" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">moving averages</a> for <code>pollutants_A</code> over a window of 24 hours and <code>pollutants_B</code> over a
window of 8 hours. We will write a simple function <code>moving_mean</code> using <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.cumsum.html" class="link">np.cumsum<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> and <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/user/basics.indexing.html#slicing-and-striding" class="link">sliced indexing<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to achieve this.</p><p>To make sure both the sets are of the same length, we will truncate the <code>pollutants_B_8hr_avg</code> according to the length of
<code>pollutants_A_24hr_avg</code>. This will also ensure we have concentrations for all the pollutants over the same period of time.</p><div id="PIfsAfNRah" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def moving_mean(a, n):
    ret = np.cumsum(a, dtype=float, axis=0)
    ret[n:] = ret[n:] - ret[:-n]
    return ret[n - 1:] / n

pollutants_A_24hr_avg = moving_mean(pollutants_A, 24)
pollutants_B_8hr_avg = moving_mean(pollutants_B, 8)[-(pollutants_A_24hr_avg.shape[0]):]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="7JQAduZrYXwgudaorc4Vp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>Now, we can join both sets with <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.concatenate.html" class="link">np.concatenate<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to form a single data set of all the averaged concentrations. Note that we have to join our arrays column-wise so we pass the
<code>axis=1</code> parameter.</p><div id="tGhBJ86764" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pollutants = np.concatenate((pollutants_A_24hr_avg, pollutants_B_8hr_avg), axis=1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="UCDAxKS1SCg2E75Bx3lk3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><h3 id="sub-indices" class="relative group"><span class="heading-text">Sub-indices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#sub-indices" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The subindices for each pollutant are calculated according to the linear relationship between the AQI and standard breakpoint ranges with the formula as above:</p><div id="rvEfijLG7r" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>p</mi><mo>=</mo><mfrac><mtext>IHi – ILo</mtext><mtext>BPHi – BPLo</mtext></mfrac><mo>⋅</mo><mtext>Cp – BPLo</mtext><mo>+</mo><mtext>ILo</mtext></mrow><annotation encoding="application/x-tex">Ip = \dfrac{\text{IHi – ILo}}{\text{BPHi – BPLo}}\cdot{\text{Cp – BPLo}} + \text{ILo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">BPHi – BPLo</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">IHi – ILo</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord text"><span class="mord">Cp – BPLo</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">ILo</span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#rvEfijLG7r" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->2<!-- -->)</a></div></div><p>The <code>compute_indices</code> function first fetches the correct upper and lower bounds of AQI categories and breakpoint concentrations for the input concentration and pollutant with the help of arrays <code>AQI</code> and <code>breakpoints</code> we created above. Then, it feeds these values into the formula to calculate the sub-index.</p><div id="jiw6tFenwO" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def compute_indices(pol, con):
    bp = breakpoints[pol]
    
    if pol == &#x27;CO&#x27;:
        inc = 0.1
    else:
        inc = 1
    
    if bp[0] &lt;= con &lt; bp[1]:
        Bl = bp[0]
        Bh = bp[1] - inc
        Ih = AQI[1] - inc
        Il = AQI[0]

    elif bp[1] &lt;= con &lt; bp[2]:
        Bl = bp[1]
        Bh = bp[2] - inc
        Ih = AQI[2] - inc
        Il = AQI[1]

    elif bp[2] &lt;= con &lt; bp[3]:
        Bl = bp[2]
        Bh = bp[3] - inc
        Ih = AQI[3] - inc
        Il = AQI[2]

    elif bp[3] &lt;= con &lt; bp[4]:
        Bl = bp[3]
        Bh = bp[4] - inc
        Ih = AQI[4] - inc
        Il = AQI[3]

    elif bp[4] &lt;= con &lt; bp[5]:
        Bl = bp[4]
        Bh = bp[5] - inc
        Ih = AQI[5] - inc
        Il = AQI[4]

    elif bp[5] &lt;= con:
        Bl = bp[5]
        Bh = bp[5] + bp[4] - (2 * inc)
        Ih = AQI[6]
        Il = AQI[5]

    else:
        print(&quot;Concentration out of range!&quot;)
        
    return ((Ih - Il) / (Bh - Bl)) * (con - Bl) + Il</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="IWgsFmqMWdqH0SaShIfih" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>We will use <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.vectorize.html" class="link">np.vectorize<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to utilize the concept of vectorization. This simply means we don’t have loop over each element of the pollutant array ourselves. <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/user/whatisnumpy.html#why-is-numpy-fast" class="link">Vectorization<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> is one of the key advantages of NumPy.</p><div id="bhgmUkHXd9" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">vcompute_indices = np.vectorize(compute_indices)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Et-b_s3f4Q6DmCV-piR2c" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>By calling our vectorized function <code>vcompute_indices</code> for each pollutant, we get the sub-indices. To get back an array with the original shape, we use <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.stack.html" class="link">np.stack<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p><div id="IVPok4z6tX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">sub_indices = np.stack((vcompute_indices(&#x27;PM2.5&#x27;, pollutants[..., 0]),
                        vcompute_indices(&#x27;PM10&#x27;, pollutants[..., 1]),
                        vcompute_indices(&#x27;NO2&#x27;, pollutants[..., 2]),
                        vcompute_indices(&#x27;NH3&#x27;, pollutants[..., 3]),
                        vcompute_indices(&#x27;SO2&#x27;, pollutants[..., 4]),
                        vcompute_indices(&#x27;CO&#x27;, pollutants[..., 5]),
                        vcompute_indices(&#x27;O3&#x27;, pollutants[..., 6])), axis=1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="OhMvasmmPPy1S1aHmtESL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><h3 id="air-quality-indices" class="relative group"><span class="heading-text">Air quality indices</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#air-quality-indices" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Using <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/generated/numpy.maximum.html" class="link">np.max<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>, we find out the maximum sub-index for each period, which is our Air Quality Index!</p><div id="yqhBPFWXKH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aqi_array = np.max(sub_indices, axis=1)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EkqJIjYEp3PDPcAx-MrJX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>With this, we have the AQI for every hour from June 1, 2019 to June 30, 2020. Note that even though we started out with
the data from 31st May, we truncated that during the moving averages step.</p><h2 id="paired-students-t-test-on-the-aqis" class="relative group"><span class="heading-text">Paired Student’s t-test on the AQIs</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#paired-students-t-test-on-the-aqis" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Hypothesis testing is a form of descriptive statistics used to help us make decisions with the data. From the calculated AQI data, we want to find out if there was a statistically significant difference in average AQI before and after the lockdown was imposed. We will use the left-tailed, <a href="https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">paired Student’s t-test</a> to compute two test statistics- the <a href="https://en.wikipedia.org/wiki/T-statistic" class="hover-link" target="_blank" rel="noreferrer" data-state="closed"><code>t statistic</code></a> and the <a href="https://en.wikipedia.org/wiki/P-value" class="hover-link" target="_blank" rel="noreferrer" data-state="closed"><code>p value</code></a>. We will then compare these with the corresponding critical values to make a decision.</p><img id="xz6fNAO3fX" style="margin-left:auto;margin-right:auto" src="/numpy-tutorials/build/11-one-tailed-test-5b63330d05668563b320ffaa46eb23ef.svg" alt="Normal distribution plot showing area of rejection in one-tailed test (left tailed)" data-canonical-url="_static/11-one-tailed-test.svg" class=""/><h3 id="sampling" class="relative group"><span class="heading-text">Sampling</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#sampling" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will now import the <code>datetime</code> column from our original dataset into a <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/arrays.scalars.html" class="link"><em>datetime64</em> dtype<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> array. We will use this array to index the AQI array and obtain subsets of the dataset.</p><div id="LId2zdpjPx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">datetime = np.loadtxt(&quot;air-quality-data.csv&quot;, dtype=&#x27;M8[h]&#x27;, delimiter=&quot;,&quot;,
                         skiprows=1, usecols=(0, ))[-(pollutants_A_24hr_avg.shape[0]):]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="qm_NY6-sPslTp6AYGgSKB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>Since total lockdown commenced in Delhi from March 24, 2020, the after-lockdown subset is of the period March 24, 2020 to June 30, 2020. The before-lockdown subset is for the same length of time before 24th March.</p><div id="U8Z0rnglhW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">after_lock = aqi_array[np.where(datetime &gt;= np.datetime64(&#x27;2020-03-24T00&#x27;))]

before_lock = aqi_array[np.where(datetime &lt;= np.datetime64(&#x27;2020-03-21T00&#x27;))][-(after_lock.shape[0]):]

print(after_lock.shape)
print(before_lock.shape)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="OZHFXT8Qz8y-Tcdgksbkx" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>(2376,)
(2376,)
</span></code></pre></div></div></div></div><p>To make sure our samples are <em>approximately</em> normally distributed, we take samples of size <code>n = 30</code>. <code>before_sample</code> and <code>after_sample</code> are the set of random observations drawn before and after the total lockdown. We use <a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/reference/random/generated/numpy.random.Generator.choice.html" class="link">random<wbr/>.Generator<wbr/>.choice<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to generate the samples.</p><div id="E5vWxb7qaz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">rng = default_rng()

before_sample = rng.choice(before_lock, size=30, replace=False)
after_sample = rng.choice(after_lock, size=30, replace=False)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="kHtuVwcmPy6dd0vgsA-UG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><h3 id="defining-the-hypothesis" class="relative group"><span class="heading-text">Defining the hypothesis</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#defining-the-hypothesis" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let us assume that there is no significant difference between the sample means before and after the lockdown. This will be the null hypothesis. The alternative hypothesis would be that there <em>is</em> a significant difference between the means and the AQI <em>improved</em>. Mathematically,</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><msub><mi>μ</mi><mtext>after-before</mtext></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">H_{0}: \mu_\text{after-before} = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">after-before</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span> <br/><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>a</mi></msub><mo>:</mo><msub><mi>μ</mi><mtext>after-before</mtext></msub><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">H_{a}: \mu_\text{after-before} &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">after-before</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><h3 id="calculating-the-test-statistics" class="relative group"><span class="heading-text">Calculating the test statistics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calculating-the-test-statistics" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will use the <code>t</code> statistic to evaluate our hypothesis and even calculate the <code>p value</code> from it. The formula for the <code>t</code> statistic is:</p><div id="sUFvKYYBlw" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>t</mi><mo>=</mo><mfrac><msub><mi>μ</mi><mtext>after-before</mtext></msub><msqrt><mrow><msup><mi>σ</mi><mn>2</mn></msup><mi mathvariant="normal">/</mi><mi>n</mi></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">t = \frac{\mu_\text{after-before}}{\sqrt{\sigma^{2}/n}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2376em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">n</span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">after-before</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#sUFvKYYBlw" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->3<!-- -->)</a></div></div><p>where,</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>μ</mi><mtext>after-before</mtext></msub></mrow><annotation encoding="application/x-tex">\mu_\text{after-before}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">after-before</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> = mean differences of samples <br/><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sigma^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span> = variance of mean differences <br/><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> = sample size</p><div id="yP9ziCo5BV" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def t_test(x, y):
    diff = y - x
    var = np.var(diff, ddof=1)
    num = np.mean(diff)
    denom = np.sqrt(var / len(x))
    return np.divide(num, denom)

t_value = t_test(before_sample, after_sample)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="JEZUL3tt4lr7cZ0euF95E" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><p>For the <code>p</code> value, we will use SciPy’s <code>stats.distributions.t.cdf()</code> function. It takes two arguments- the <code>t statistic</code> and the degrees of freedom (<code>dof</code>). The formula for <code>dof</code> is <code>n - 1</code>.</p><div id="jZKeIU3b3x" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dof = len(before_sample) - 1

p_value = stats.distributions.t.cdf(t_value, dof)

print(&quot;The t value is {} and the p value is {}.&quot;.format(t_value, p_value))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ENPOi2bVmQSMBa6p7jqUW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>The t value is -6.971170036935036 and the p value is 5.7752755342191344e-08.
</span></code></pre></div></div></div></div><h2 id="what-do-the-t-and-p-values-mean" class="relative group"><span class="heading-text">What do the <code>t</code> and <code>p</code> values mean?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-do-the-t-and-p-values-mean" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will now compare the calculated test statistics with the critical test statistics. The critical <code>t</code> value is calculated by looking up the <a href="https://en.wikipedia.org/wiki/Student%27s_t-distribution#Table_of_selected_values" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">t-distribution table</a>.</p><img id="d9DkGckxma" style="margin-left:auto;margin-right:auto" src="/numpy-tutorials/build/11-t-table-5f3e6b9f87ad80975f593a85fb2f9d53.png" alt="Table of selected t values at different confidence levels. T value for 29 dof at 95% confidence level is highlighted with a yellow square" data-canonical-url="_static/11-t-table.png" class=""/><p>From the table above, the critical value is 1.699 for 29 <code>dof</code> at a confidence level of 95%. Since we are using the left tailed test, our critical value is -1.699. Clearly, the calculated <code>t</code> value is less than the critical value so we can safely reject the null hypothesis.</p><p>The critical <code>p</code> value, denoted by <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span></span>, is usually chosen to be 0.05, corresponding to a confidence level of 95%. If the calculated <code>p</code> value is less than <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span></span>, then the null hypothesis can be safely rejected. Clearly, our <code>p</code> value is much less than <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span></span>, so we can reject the null hypothesis.</p><p>Note that this does not mean we can accept the alternative hypothesis. It only tells us that there is not enough evidence to reject <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">H_{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>. In other words, we fail to reject the alternative hypothesis so, it <em>may</em> be true.</p><hr class="py-2 my-5 translate-y-2"/><h2 id="in-practice" class="relative group"><span class="heading-text">In practice...</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#in-practice" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p>The <a target="_blank" rel="noreferrer" href="https://pandas.pydata.org/" class="link">pandas<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> library is preferable to use for time-series data analysis.</p></li><li><p>The SciPy stats module provides the <a target="_blank" rel="noreferrer" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html" class="link">stats.ttest_rel<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> function which can be used to get the <code>t statistic</code> and <code>p value</code>.</p></li><li><p>In real life, data are generally not normally distributed. There are tests for such non-normal data like the <a href="https://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">Wilcoxon test</a>.</p></li></ul><h2 id="further-reading" class="relative group"><span class="heading-text">Further reading</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#further-reading" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ul><li><p>There are a host of statistical tests you can choose according to the characteristics of the given data. Read more about them at
<a target="_blank" rel="noreferrer" href="https://machinelearningmastery.com/statistical-data-distributions/" class="link">A Gentle Introduction to Statistical Data Distributions<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p></li><li><p>There are various versions of the <a href="https://en.wikipedia.org/wiki/Student%27s_t-test" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">Student’s t-test</a> that you can adopt according to your needs.</p></li></ul><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/numpy-tutorials/tutorial-plotting-fractals"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Applications</div>Plotting Fractals</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/numpy-tutorials/tutorial-svd"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Features</div>Linear Algebra on n-D arrays</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/numpy-tutorials/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-CH4FVTDV.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/numpy-tutorials/build/root-SIO6LUTY.js"/><link rel="modulepreload" href="/numpy-tutorials/build/_shared/chunk-FAHZZXAC.js"/><link rel="modulepreload" href="/numpy-tutorials/build/routes/$-PRP77N34.js"/><script>window.__remixContext = {"url":"/tutorial-air-quality-analysis","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.0","options":{"favicon":"/numpy-tutorials/build/favicon-06c56c58f0f471b351f2eeec60ac405b.png","logo":"/numpy-tutorials/build/numpylogo-568bd065177ae2f83ea5fd26b529d177.svg"},"nav":[],"actions":[],"projects":[{"title":"Numpy Tutorials","authors":[{"id":"Numpy Community","name":"Numpy Community"}],"github":"https://github.com/numpy/numpy-tutorials","toc":[{"file":"site/index.md"},{"children":[{"file":"content/mooreslaw-tutorial.md"},{"file":"content/tutorial-deep-learning-on-mnist.md"},{"file":"content/tutorial-x-ray-image-processing.md"},{"file":"content/tutorial-static_equilibrium.md"},{"file":"content/tutorial-plotting-fractals.md"},{"file":"content/tutorial-air-quality-analysis.md"}],"title":"Applications"},{"children":[{"file":"content/tutorial-svd.md"},{"file":"content/save-load-arrays.md"},{"file":"content/tutorial-ma.md"}],"title":"Features"},{"children":[{"file":"content/tutorial-style-guide.md"}],"file":"site/contributing.md","title":"Contributing"}],"thumbnail":"/numpy-tutorials/build/b77199e99a54e59b2e3c037c2cc90f21.svg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Applications"},{"slug":"mooreslaw-tutorial","title":"Determining Moore’s Law with real data in NumPy","short_title":"Moore's Law","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-mooreslaw-tutoria-6c2067dbdf3b7ab694d3ad260bf10ac0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-deep-learning-on-mnist","title":"Deep learning on MNIST","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-deep-learni-ffa864453d379e479361945eabb443bf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-x-ray-image-processing","title":"X-ray image processing","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-x-ray-image-2063a9ed9ba3f8b4b4e903042c6a9a76.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-static-equilibrium","title":"Determining Static Equilibrium in NumPy","short_title":"Static Equilibrium","description":"","date":"","thumbnail":"/numpy-tutorials/build/static_eqbm-fig01-77a32cfb6ff72fecd5110e69120ca12c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-plotting-fractals","title":"Plotting Fractals","description":"","date":"","thumbnail":"/numpy-tutorials/build/fractal-920ae902842dd7fb645972d3399fac72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-air-quality-analysis","title":"Analyzing the impact of the lockdown on air quality in Delhi, India","short_title":"Analyzing Air Quality","description":"","date":"","thumbnail":"/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Features"},{"slug":"tutorial-svd","title":"Linear algebra on n-dimensional arrays","short_title":"Linear Algebra on n-D arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"save-load-arrays","title":"Saving and sharing your NumPy arrays","short_title":"Sharing Array Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-ma","title":"Masked Arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","short_title":"Contributing","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-fork-da6d6338b49819d37f666f89968ce3e8.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"tutorial-style-guide","title":"Learn to write a NumPy tutorial","short_title":"Style Guide","description":"","date":"","thumbnail":"/numpy-tutorials/build/56554e3d11983df8f484e8d7b2c2bdae.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/numpy-tutorials"},"routes/$":{"config":{"version":3,"myst":"1.8.0","options":{"favicon":"/numpy-tutorials/build/favicon-06c56c58f0f471b351f2eeec60ac405b.png","logo":"/numpy-tutorials/build/numpylogo-568bd065177ae2f83ea5fd26b529d177.svg"},"nav":[],"actions":[],"projects":[{"title":"Numpy Tutorials","authors":[{"id":"Numpy Community","name":"Numpy Community"}],"github":"https://github.com/numpy/numpy-tutorials","toc":[{"file":"site/index.md"},{"children":[{"file":"content/mooreslaw-tutorial.md"},{"file":"content/tutorial-deep-learning-on-mnist.md"},{"file":"content/tutorial-x-ray-image-processing.md"},{"file":"content/tutorial-static_equilibrium.md"},{"file":"content/tutorial-plotting-fractals.md"},{"file":"content/tutorial-air-quality-analysis.md"}],"title":"Applications"},{"children":[{"file":"content/tutorial-svd.md"},{"file":"content/save-load-arrays.md"},{"file":"content/tutorial-ma.md"}],"title":"Features"},{"children":[{"file":"content/tutorial-style-guide.md"}],"file":"site/contributing.md","title":"Contributing"}],"thumbnail":"/numpy-tutorials/build/b77199e99a54e59b2e3c037c2cc90f21.svg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Applications"},{"slug":"mooreslaw-tutorial","title":"Determining Moore’s Law with real data in NumPy","short_title":"Moore's Law","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-mooreslaw-tutoria-6c2067dbdf3b7ab694d3ad260bf10ac0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-deep-learning-on-mnist","title":"Deep learning on MNIST","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-deep-learni-ffa864453d379e479361945eabb443bf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-x-ray-image-processing","title":"X-ray image processing","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-x-ray-image-2063a9ed9ba3f8b4b4e903042c6a9a76.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-static-equilibrium","title":"Determining Static Equilibrium in NumPy","short_title":"Static Equilibrium","description":"","date":"","thumbnail":"/numpy-tutorials/build/static_eqbm-fig01-77a32cfb6ff72fecd5110e69120ca12c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-plotting-fractals","title":"Plotting Fractals","description":"","date":"","thumbnail":"/numpy-tutorials/build/fractal-920ae902842dd7fb645972d3399fac72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-air-quality-analysis","title":"Analyzing the impact of the lockdown on air quality in Delhi, India","short_title":"Analyzing Air Quality","description":"","date":"","thumbnail":"/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Features"},{"slug":"tutorial-svd","title":"Linear algebra on n-dimensional arrays","short_title":"Linear Algebra on n-D arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"save-load-arrays","title":"Saving and sharing your NumPy arrays","short_title":"Sharing Array Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-ma","title":"Masked Arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","short_title":"Contributing","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-fork-da6d6338b49819d37f666f89968ce3e8.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"tutorial-style-guide","title":"Learn to write a NumPy tutorial","short_title":"Style Guide","description":"","date":"","thumbnail":"/numpy-tutorials/build/56554e3d11983df8f484e8d7b2c2bdae.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"c48b67b0056584220b63c554b87e049c34f71cc334df9576520c03526c30936b","slug":"tutorial-air-quality-analysis","location":"/content/tutorial-air-quality-analysis.md","dependencies":[],"frontmatter":{"title":"Analyzing the impact of the lockdown on air quality in Delhi, India","short_title":"Analyzing Air Quality","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"formats":"ipynb,md:myst","text_representation":{"extension":".md","format_name":"myst","format_version":"0.13","jupytext_version":"1.11.5"}},"content_includes_title":false,"authors":[{"id":"Numpy Community","name":"Numpy Community"}],"github":"https://github.com/numpy/numpy-tutorials","numbering":{"title":{"offset":1}},"source_url":"https://github.com/numpy/numpy-tutorials/blob/main/content/tutorial-air-quality-analysis.md","edit_url":"https://github.com/numpy/numpy-tutorials/edit/main/content/tutorial-air-quality-analysis.md","thumbnail":"/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg","exports":[{"format":"md","filename":"tutorial-air-quality-analysis.md","url":"/numpy-tutorials/build/tutorial-air-quality-97a95229b138940a5902d39f39b49442.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg","alt":"A grid showing the India Gate in smog above and clear air below","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"WnEMkom2sM","urlSource":"_static/11-delhi-aqi.jpg"},{"type":"heading","depth":2,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"What you’ll do","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"nve8pmhrPu"}],"identifier":"what-youll-do","label":"What you’ll do","html_id":"what-youll-do","implicit":true,"key":"m1cJ3ZUoah"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Calculate Air Quality Indices (AQI) and perform paired Student’s t-test on them.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"JpbJWaXmmI"}],"key":"xaE1eIKXC1"},{"type":"heading","depth":2,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"What you’ll learn","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"mttElruTOQ"}],"identifier":"what-youll-learn","label":"What you’ll learn","html_id":"what-youll-learn","implicit":true,"key":"i4gpKClNT6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":26,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"You’ll learn the concept of moving averages","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"wRHqqnE5yZ"}],"key":"Rp2t3Ssirp"}],"key":"ctOi7Wr46s"},{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"You’ll learn how to calculate Air Quality Index (AQI)","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ueiOOocmIZ"}],"key":"f9ozU1Ru3Z"}],"key":"ZdWs74Fvn7"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"You’ll learn how to perform a paired Student’s t-test and find the ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"ghXA06N4s7"},{"type":"inlineCode","value":"t","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"MUhOLJRihT"},{"type":"text","value":" and ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"OVo9PxNARS"},{"type":"inlineCode","value":"p","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"YereTnUGEH"},{"type":"text","value":" values","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"DKkNIsQhxd"}],"key":"L1VOCTiUj0"}],"key":"N4oB7jr1W9"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"You’ll learn how to interpret these values","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"qqQqBUSAV9"}],"key":"ReSUEjVE3t"}],"key":"WpMDy93yI9"}],"key":"wPT7wz7GAl"},{"type":"heading","depth":2,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"What you’ll need","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"CevmQbEQWj"}],"identifier":"what-youll-need","label":"What you’ll need","html_id":"what-youll-need","implicit":true,"key":"SK65lQFgkt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"link","url":"https://scipy.org/install/","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"SciPy","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"wLcggaDMP0"}],"urlSource":"https://scipy.org/install/","key":"vC25cL3LW2"},{"type":"text","value":" installed in your environment","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"Jkhyut7xJc"}],"key":"VwD02G1dHl"}],"key":"xXYHzV5n2Z"},{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Basic understanding of statistical terms like population, sample, mean, standard deviation etc.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"IcWv1Px2g0"}],"key":"CaR1E2Xfjc"}],"key":"pBKqYHBX7w"}],"key":"mgRIipSFAz"},{"type":"thematicBreak","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"baXDd0dwcu"}],"key":"lo6lczYLWI"},{"type":"block","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"The problem of air pollution","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"laq6KMiGrf"}],"identifier":"the-problem-of-air-pollution","label":"The problem of air pollution","html_id":"the-problem-of-air-pollution","implicit":true,"key":"yshmUuc3wC"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"Air pollution is one of the most prominent types of pollution we face that has an immediate effect on our daily lives. The\nCOVID-19 pandemic resulted in lockdowns in different parts of the world; offering a rare opportunity to study the effect of\nhuman activity (or lack thereof) on air pollution. In this tutorial, we will study the air quality in Delhi, one of the\nworst affected cities by air pollution, before and during the lockdown from March to June 2020. For this, we will first compute\nthe Air Quality Index for each hour from the collected pollutant measurements. Next, we will sample these indices and perform\na ","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"g5nqvu8r5G"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"paired Student’s t-test","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"nuFpW0gkb0"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","data":{"page":"Student%27s_t-test#Dependent_t-test_for_paired_samples","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"ff8iqKgLH4"},{"type":"text","value":" on them. It will statistically show us that the air quality improved due to the lockdown, supporting our intuition.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"qXiCmCxqHu"}],"key":"Ql34m75TB5"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"Let’s start by importing the necessary libraries into our environment.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"gXUX2q2DJH"}],"key":"C7RNvdX5sy"}],"key":"kXG9GMppBq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nfrom numpy.random import default_rng\nfrom scipy import stats","key":"wnI1urjLQp"},{"type":"outputs","id":"VDQ_OJ0huM7soRQYq7PpV","children":[],"key":"SSjtFDwrVt"}],"key":"t2sE9qyGp6"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"Building the dataset","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"aASGg8rC9y"}],"identifier":"building-the-dataset","label":"Building the dataset","html_id":"building-the-dataset","implicit":true,"key":"OOxmfZyQac"},{"type":"paragraph","position":{"start":{"line":65,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"We will use a condensed version of the ","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"qRlUXBBs9f"},{"type":"link","url":"https://www.kaggle.com/rohanrao/air-quality-data-in-india","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"text","value":"Air Quality Data in India","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"g5za1ZNsa9"}],"urlSource":"https://www.kaggle.com/rohanrao/air-quality-data-in-india","key":"y2u20sp3Bh"},{"type":"text","value":" dataset. This dataset contains air quality data and AQI (Air Quality Index) at hourly and daily level of various stations across multiple cities in India. The condensed version available with this tutorial contains hourly pollutant measurements for Delhi\nfrom May 31, 2019 to June 30, 2020. It has measurements of the standard pollutants that are required for Air Quality Index calculation and a few other important ones:\nParticulate Matter (PM 2.5 and PM 10), nitrogen dioxide (NO2), ammonia (NH3), sulfur dioxide (SO2), carbon monoxide (CO), ozone (O3), oxides of nitrogen (NOx), nitric oxide (NO), benzene, toluene, and xylene.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"getRXsjaJN"}],"key":"hUWDezul7k"},{"type":"paragraph","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Let’s print out the first few rows to have a glimpse of our dataset.","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"KFgCtagS5m"}],"key":"vcj1JOzIYK"}],"key":"w3mtK8fsjr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"! head air-quality-data.csv","key":"xoc2MfpBsK"},{"type":"outputs","id":"LNCUJFgnlrsMkym6AKzEY","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Datetime,PM2.5,PM10,NO2,NH3,SO2,CO,O3,NOx,NO,Benzene,Toluene,Xylene\r\n2019-05-31 00:00:00,103.26,305.46,94.71,31.43,30.16,3.0,18.06,178.31,152.73,13.65,83.47,2.54\r\n2019-05-31 01:00:00,104.47,309.14,74.66,34.08,27.02,1.69,18.65,106.5,79.98,11.35,76.79,2.91\r\n2019-05-31 02:00:00,90.0,314.02,48.11,32.6,18.12,0.83,28.27,48.45,25.27,5.66,32.91,1.59\r\n2019-05-31 03:00:00,78.01,356.14,45.45,30.21,16.78,0.79,27.47,44.22,21.5,3.6,21.41,0.78\r\n2019-05-31 04:00:00,80.19,372.9,45.23,28.68,16.41,0.76,26.92,44.06,22.15,4.5,23.39,0.62\r\n2019-05-31 05:00:00,83.59,389.97,39.49,27.71,17.42,0.76,28.71,39.33,21.04,3.25,23.59,0.56\r\n2019-05-31 06:00:00,79.04,371.64,39.61,26.87,16.91,0.84,29.26,43.11,24.37,3.12,15.27,0.46\r\n2019-05-31 07:00:00,77.32,361.88,42.63,27.26,17.86,0.96,27.07,48.22,28.81,3.32,14.42,0.41\r\n2019-05-31 08:00:00,84.3,377.77,42.49,28.41,20.19,0.98,33.05,48.22,27.76,3.4,14.53,0.4\r\n"},"key":"WeaKnkmI6S"}],"key":"n1VBN8uWlH"}],"key":"NtcCePupVN"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"For the purpose of this tutorial, we are only concerned with standard pollutants required for calculating the AQI, viz., PM 2.5, PM 10, NO2, NH3, SO2, CO, and O3. So, we will only import these particular columns with ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"dknL1AggLF"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.loadtxt.html","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"np.loadtxt","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"SkOFhyEMFD"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.loadtxt.html","key":"bi8MhAi0Sd"},{"type":"text","value":". We’ll then ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"K4Jyox7DYW"},{"type":"link","url":"https://numpy.org/devdocs/glossary.html#term-0","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"slice","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"x4qsjdFOP2"}],"urlSource":"https://numpy.org/devdocs/glossary.html#term-0","key":"RMnMy2G9nH"},{"type":"text","value":" and create two sets: ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"IyP22cbsfR"},{"type":"inlineCode","value":"pollutants_A","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"h0PgTNKEvW"},{"type":"text","value":" with PM 2.5, PM 10, NO2, NH3, and SO2, and ","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"IAUOw5TKjP"},{"type":"inlineCode","value":"pollutants_B","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"MV2yH22nmq"},{"type":"text","value":" with CO and O3. The\ntwo sets will be processed slightly differently, as we’ll see later on.","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"C3eHj8orCz"}],"key":"ORRdcJMpln"}],"key":"ISbqKbC8aH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pollutant_data = np.loadtxt(\"air-quality-data.csv\", dtype=float, delimiter=\",\",\n                            skiprows=1, usecols=range(1, 8))\npollutants_A = pollutant_data[:, 0:5]\npollutants_B = pollutant_data[:, 5:]\n\nprint(pollutants_A.shape)\nprint(pollutants_B.shape)","key":"Gq2dyu8lXt"},{"type":"outputs","id":"XQukRMgq-HrKQAU-7Calq","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"(9528, 5)\n(9528, 2)\n"},"key":"rU7kdYGuaF"}],"key":"virsz7SPgj"}],"key":"XYk2EijS9j"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"Our dataset might contain missing values, denoted by ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"o5XY2cUvDW"},{"type":"inlineCode","value":"NaN","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"pBMKSX5WN8"},{"type":"text","value":", so let’s do a quick check with ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"DeTcCWGwIU"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.isfinite.html","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"np.isfinite","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"fp4LreUarp"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.isfinite.html","key":"gcBNx25P7v"},{"type":"text","value":".","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"l7zQLz9WBc"}],"key":"QiZn7yqTdk"}],"key":"TdVqLTCuKr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"np.all(np.isfinite(pollutant_data))","key":"VxnasWqyBE"},{"type":"outputs","id":"MLV5xKQmYNTcDBic0tcI1","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"np.True_","content_type":"text/plain"}}},"key":"ODLQ2YwEe5"}],"key":"f1VtkAKHPV"}],"key":"FYaufvFXs0"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"With this, we have successfully imported the data and checked that it is complete. Let’s move on to the AQI calculations!","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"HgTbXw68nm"}],"key":"n3Zx0hUFiq"}],"key":"fHU7ctQHZF"},{"type":"block","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Calculating the Air Quality Index","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"K0exFQNtxg"}],"identifier":"calculating-the-air-quality-index","label":"Calculating the Air Quality Index","html_id":"calculating-the-air-quality-index","implicit":true,"key":"gxZOruG3hR"},{"type":"paragraph","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"We will calculate the AQI using ","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"X7mUpiRYZb"},{"type":"link","url":"https://app.cpcbccr.com/ccr_docs/FINAL-REPORT_AQI_.pdf","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"the method","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"O5zwEfFaVj"}],"urlSource":"https://app.cpcbccr.com/ccr_docs/FINAL-REPORT_AQI_.pdf","key":"txvMGiZcnq"},{"type":"text","value":" adopted by the ","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"PrFKCU0liE"},{"type":"link","url":"https://www.cpcb.nic.in/national-air-quality-index/","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"text","value":"Central Pollution Control Board","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"imBKHPbkY9"}],"urlSource":"https://www.cpcb.nic.in/national-air-quality-index/","key":"aTzOJL8Rv0"},{"type":"text","value":" of India.  To summarize the steps:","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"FJBxF0Sonl"}],"key":"VFYl6j0MPb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":103,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"text","value":"Collect 24-hourly average concentration values for the standard pollutants; 8-hourly in case of CO and O3.","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"jD1XInyawr"}],"key":"CDeW8xfvTe"}],"key":"mtLKFub4Sz"},{"type":"listItem","spread":true,"position":{"start":{"line":106,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Calculate the sub-indices for these pollutants with the formula:","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"WdR7Oj5vG6"}],"key":"FpnSpwuPrL"},{"type":"math","value":"Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}","position":{"start":{"line":109,"column":1},"end":{"line":111,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmi\u003ep\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmtext\u003eIHi – ILo\u003c/mtext\u003e\u003cmtext\u003eBPHi – BPLo\u003c/mtext\u003e\u003c/mfrac\u003e\u003cmo\u003e⋅\u003c/mo\u003e\u003cmtext\u003eCp – BPLo\u003c/mtext\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmtext\u003eILo\u003c/mtext\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eIp = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07847em;\"\u003eI\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ep\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.0463em;vertical-align:-0.686em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3603em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eBPHi – BPLo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eIHi – ILo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.686em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e⋅\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eCp – BPLo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eILo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"1","key":"nFa6wFql6d"},{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Where,","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"Av1xvXeCP7"}],"key":"RvlBAvIxo5"},{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"inlineCode","value":"Ip","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"esjeF4GUec"},{"type":"text","value":" = sub-index of pollutant ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"WIhgzB8O6L"},{"type":"inlineCode","value":"p","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"JExWciTmK3"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"xJXjVeoAMT"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"GYF2Yye0uz"},{"type":"text","value":" = averaged concentration of pollutant ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"Fvhlzq2IuK"},{"type":"inlineCode","value":"p","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"iwt1Ef8Gc3"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"ol0X07prk1"},{"type":"inlineCode","value":"BPHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"X2pRFmjgih"},{"type":"text","value":" = concentration breakpoint i.e. greater than or equal to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"ezzpxglwpi"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"FVkaXUAvNo"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"du8g0T26kg"},{"type":"inlineCode","value":"BPLo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"MzO2y1SQL7"},{"type":"text","value":" = concentration breakpoint i.e. less than or equal to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"RQD3oJAftu"},{"type":"inlineCode","value":"Cp","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"vsj3NAAQtx"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"GOCj9uQeUD"},{"type":"inlineCode","value":"IHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"aYhPLNNVtg"},{"type":"text","value":" = AQI value corresponding to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"wTZ1DdYhSd"},{"type":"inlineCode","value":"BPHi","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"FFOAQVQNYP"},{"type":"break","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"M3faoPgFq8"},{"type":"inlineCode","value":"ILo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"CcRdrYkRpy"},{"type":"text","value":" = AQI value corresponding to ","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"p6fVLRWjFx"},{"type":"inlineCode","value":"BPLo","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"C9Jn4QR5Lz"}],"key":"PMjXaSgOJC"}],"key":"ovwjAPhWDU"},{"type":"listItem","spread":true,"position":{"start":{"line":124,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"text","value":"The maximum sub-index at any given time is the Air Quality Index.","position":{"start":{"line":124,"column":1},"end":{"line":124,"column":1}},"key":"U7MhTc0gEL"}],"key":"Rm8oAuK3r3"}],"key":"UBTYagFQTY"}],"key":"okemSTY4Gu"},{"type":"paragraph","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"children":[{"type":"text","value":"The Air Quality Index is calculated with the help of breakpoint ranges as shown in the chart below.","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"MJ5jhEgWcR"}],"key":"wmjQAslVJm"},{"type":"image","url":"/numpy-tutorials/build/11-breakpoints-3702d58cdc4b83ce33727ac3cf3be49f.png","alt":"Chart of the breakpoint ranges","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"wRfly8GDgw","urlSource":"_static/11-breakpoints.png"},{"type":"paragraph","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"Let’s create two arrays to store the AQI ranges and breakpoints so that we can use them later for our calculations.","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"KgKkbxRJmY"}],"key":"X1toed311s"}],"key":"lPfvTGcWWB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"AQI = np.array([0, 51, 101, 201, 301, 401, 501])\n\nbreakpoints = {\n    'PM2.5': np.array([0, 31, 61, 91, 121, 251]),\n    'PM10': np.array([0, 51, 101, 251, 351, 431]),\n    'NO2': np.array([0, 41, 81, 181, 281, 401]),\n    'NH3': np.array([0, 201, 401, 801, 1201, 1801]),\n    'SO2': np.array([0, 41, 81, 381, 801, 1601]),\n    'CO': np.array([0, 1.1, 2.1, 10.1, 17.1, 35]),\n    'O3': np.array([0, 51, 101, 169, 209, 749])\n}","key":"it7HlqApJ5"},{"type":"outputs","id":"yUT6qTzgI-SuSwqlNKYrd","children":[],"key":"rftcgcCfs6"}],"key":"BUSjO3R6Tc"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Moving averages","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"lqrB5l3v0M"}],"identifier":"moving-averages","label":"Moving averages","html_id":"moving-averages","implicit":true,"key":"uHgJZ8BS8n"},{"type":"paragraph","position":{"start":{"line":149,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"For the first step, we have to compute ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"kN99OXhT72"},{"type":"link","url":"https://en.wikipedia.org/wiki/Moving_average","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"moving averages","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"cOSHUZh5aV"}],"urlSource":"https://en.wikipedia.org/wiki/Moving_average","data":{"page":"Moving_average","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"TxVZOdNZ7a"},{"type":"text","value":" for ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"O4dk2Pzs0T"},{"type":"inlineCode","value":"pollutants_A","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"fhHTAXXtWA"},{"type":"text","value":" over a window of 24 hours and ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"jVCp7HaoMa"},{"type":"inlineCode","value":"pollutants_B","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"JJSaKQNjMZ"},{"type":"text","value":" over a\nwindow of 8 hours. We will write a simple function ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"YvfNDDXXw6"},{"type":"inlineCode","value":"moving_mean","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"XxZj3AAW9b"},{"type":"text","value":" using ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"IcCBOZtIOX"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.cumsum.html","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"np.cumsum","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"pgiNWD2jvm"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.cumsum.html","key":"PPoLrjoEWR"},{"type":"text","value":" and ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"tB1G0oRpbF"},{"type":"link","url":"https://numpy.org/devdocs/user/basics.indexing.html#slicing-and-striding","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"sliced indexing","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"IZntxbxxZX"}],"urlSource":"https://numpy.org/devdocs/user/basics.indexing.html#slicing-and-striding","key":"VZMWqXQzfN"},{"type":"text","value":" to achieve this.","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"GeEOvvKjuQ"}],"key":"q28Yjdswrv"},{"type":"paragraph","position":{"start":{"line":152,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"To make sure both the sets are of the same length, we will truncate the ","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"J5NoOGIqZD"},{"type":"inlineCode","value":"pollutants_B_8hr_avg","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"CcZepKQ6Ni"},{"type":"text","value":" according to the length of\n","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"xoctP3RRbT"},{"type":"inlineCode","value":"pollutants_A_24hr_avg","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"ifSeMVuoXh"},{"type":"text","value":". This will also ensure we have concentrations for all the pollutants over the same period of time.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"C7Ceqc3Gn4"}],"key":"sGlK9GJyXE"}],"key":"Qfa2umo5rS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def moving_mean(a, n):\n    ret = np.cumsum(a, dtype=float, axis=0)\n    ret[n:] = ret[n:] - ret[:-n]\n    return ret[n - 1:] / n\n\npollutants_A_24hr_avg = moving_mean(pollutants_A, 24)\npollutants_B_8hr_avg = moving_mean(pollutants_B, 8)[-(pollutants_A_24hr_avg.shape[0]):]","key":"Q0IQwhpfGf"},{"type":"outputs","id":"7JQAduZrYXwgudaorc4Vp","children":[],"key":"iNmCx57RGU"}],"key":"PIfsAfNRah"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Now, we can join both sets with ","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"XGRZzZZY9u"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.concatenate.html","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"np.concatenate","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"H8agF9aFRs"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.concatenate.html","key":"XUtOc7fp9w"},{"type":"text","value":" to form a single data set of all the averaged concentrations. Note that we have to join our arrays column-wise so we pass the\n","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"N2juIpOEkj"},{"type":"inlineCode","value":"axis=1","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"HLissyZEhv"},{"type":"text","value":" parameter.","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"QzWvZ2iZXM"}],"key":"UwQ4S3h1hF"}],"key":"GjeUVJK347"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pollutants = np.concatenate((pollutants_A_24hr_avg, pollutants_B_8hr_avg), axis=1)","key":"Ouhza5ZEcV"},{"type":"outputs","id":"UCDAxKS1SCg2E75Bx3lk3","children":[],"key":"eMxBtL253i"}],"key":"tGhBJ86764"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Sub-indices","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"YCr6bUVpYs"}],"identifier":"sub-indices","label":"Sub-indices","html_id":"sub-indices","implicit":true,"key":"UcgiQszh4A"},{"type":"paragraph","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"text","value":"The subindices for each pollutant are calculated according to the linear relationship between the AQI and standard breakpoint ranges with the formula as above:","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"O7mxPvA8LS"}],"key":"URIAhZ08cM"},{"type":"math","value":"Ip = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}","position":{"start":{"line":176,"column":1},"end":{"line":178,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmi\u003ep\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmtext\u003eIHi – ILo\u003c/mtext\u003e\u003cmtext\u003eBPHi – BPLo\u003c/mtext\u003e\u003c/mfrac\u003e\u003cmo\u003e⋅\u003c/mo\u003e\u003cmtext\u003eCp – BPLo\u003c/mtext\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmtext\u003eILo\u003c/mtext\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eIp = \\dfrac{\\text{IHi – ILo}}{\\text{BPHi – BPLo}}\\cdot{\\text{Cp – BPLo}} + \\text{ILo}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07847em;\"\u003eI\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ep\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.0463em;vertical-align:-0.686em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3603em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eBPHi – BPLo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eIHi – ILo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.686em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e⋅\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eCp – BPLo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord text\"\u003e\u003cspan class=\"mord\"\u003eILo\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"2","key":"rvEfijLG7r"},{"type":"paragraph","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"BRXFY2OCMh"},{"type":"inlineCode","value":"compute_indices","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"iM591UvYem"},{"type":"text","value":" function first fetches the correct upper and lower bounds of AQI categories and breakpoint concentrations for the input concentration and pollutant with the help of arrays ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"x4ACdz4TiR"},{"type":"inlineCode","value":"AQI","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"PcjY5bagVb"},{"type":"text","value":" and ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"rgsTiLxJOH"},{"type":"inlineCode","value":"breakpoints","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"GytNI1kVTk"},{"type":"text","value":" we created above. Then, it feeds these values into the formula to calculate the sub-index.","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"toK3MXTDNf"}],"key":"sJEepoJSL9"}],"key":"qbOVhbTzrB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def compute_indices(pol, con):\n    bp = breakpoints[pol]\n    \n    if pol == 'CO':\n        inc = 0.1\n    else:\n        inc = 1\n    \n    if bp[0] \u003c= con \u003c bp[1]:\n        Bl = bp[0]\n        Bh = bp[1] - inc\n        Ih = AQI[1] - inc\n        Il = AQI[0]\n\n    elif bp[1] \u003c= con \u003c bp[2]:\n        Bl = bp[1]\n        Bh = bp[2] - inc\n        Ih = AQI[2] - inc\n        Il = AQI[1]\n\n    elif bp[2] \u003c= con \u003c bp[3]:\n        Bl = bp[2]\n        Bh = bp[3] - inc\n        Ih = AQI[3] - inc\n        Il = AQI[2]\n\n    elif bp[3] \u003c= con \u003c bp[4]:\n        Bl = bp[3]\n        Bh = bp[4] - inc\n        Ih = AQI[4] - inc\n        Il = AQI[3]\n\n    elif bp[4] \u003c= con \u003c bp[5]:\n        Bl = bp[4]\n        Bh = bp[5] - inc\n        Ih = AQI[5] - inc\n        Il = AQI[4]\n\n    elif bp[5] \u003c= con:\n        Bl = bp[5]\n        Bh = bp[5] + bp[4] - (2 * inc)\n        Ih = AQI[6]\n        Il = AQI[5]\n\n    else:\n        print(\"Concentration out of range!\")\n        \n    return ((Ih - Il) / (Bh - Bl)) * (con - Bl) + Il","key":"QNYMd5OFlm"},{"type":"outputs","id":"IWgsFmqMWdqH0SaShIfih","children":[],"key":"mvCBG2IpEK"}],"key":"jiw6tFenwO"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"We will use ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"raOXhMc6Lq"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.vectorize.html","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"np.vectorize","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"Oxx9xV7vla"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.vectorize.html","key":"rhAmxU0mz0"},{"type":"text","value":" to utilize the concept of vectorization. This simply means we don’t have loop over each element of the pollutant array ourselves. ","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"g365atzwb5"},{"type":"link","url":"https://numpy.org/devdocs/user/whatisnumpy.html#why-is-numpy-fast","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"Vectorization","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"XSoEgvxF6K"}],"urlSource":"https://numpy.org/devdocs/user/whatisnumpy.html#why-is-numpy-fast","key":"gsPKi72Xmn"},{"type":"text","value":" is one of the key advantages of NumPy.","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"yyi8v1rvqB"}],"key":"YGFh5BgM28"}],"key":"dh8di2S8BV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"vcompute_indices = np.vectorize(compute_indices)","key":"tbVtoxLfck"},{"type":"outputs","id":"Et-b_s3f4Q6DmCV-piR2c","children":[],"key":"gDIA6cyUAt"}],"key":"bhgmUkHXd9"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"By calling our vectorized function ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"DJXRYIVY4J"},{"type":"inlineCode","value":"vcompute_indices","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"Ac4SeG0Pj4"},{"type":"text","value":" for each pollutant, we get the sub-indices. To get back an array with the original shape, we use ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"RMzOhEU8UU"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.stack.html","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"np.stack","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"pHomZbhUKe"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.stack.html","key":"Z9sRBNLVU5"},{"type":"text","value":".","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"Dt5NQpL6nI"}],"key":"Qmt3YWUB0U"}],"key":"zOGTz8keGm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sub_indices = np.stack((vcompute_indices('PM2.5', pollutants[..., 0]),\n                        vcompute_indices('PM10', pollutants[..., 1]),\n                        vcompute_indices('NO2', pollutants[..., 2]),\n                        vcompute_indices('NH3', pollutants[..., 3]),\n                        vcompute_indices('SO2', pollutants[..., 4]),\n                        vcompute_indices('CO', pollutants[..., 5]),\n                        vcompute_indices('O3', pollutants[..., 6])), axis=1)","key":"z333OcWgpA"},{"type":"outputs","id":"OhMvasmmPPy1S1aHmtESL","children":[],"key":"M01wUccvCO"}],"key":"IVPok4z6tX"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"Air quality indices","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"HTzq6BNyJ0"}],"identifier":"air-quality-indices","label":"Air quality indices","html_id":"air-quality-indices","implicit":true,"key":"zhKsUfZBkm"},{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"FY7WiryMO3"},{"type":"link","url":"https://numpy.org/devdocs/reference/generated/numpy.maximum.html","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"np.max","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"owwiTuEstO"}],"urlSource":"https://numpy.org/devdocs/reference/generated/numpy.maximum.html","key":"rX6XykArk1"},{"type":"text","value":", we find out the maximum sub-index for each period, which is our Air Quality Index!","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"PyuNOFqOui"}],"key":"uQv2RWNvIo"}],"key":"I1QjT6rafU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aqi_array = np.max(sub_indices, axis=1)","key":"RkVZU7yE95"},{"type":"outputs","id":"EkqJIjYEp3PDPcAx-MrJX","children":[],"key":"IWcRnnAhsH"}],"key":"yqhBPFWXKH"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":259,"column":1},"end":{"line":260,"column":1}},"children":[{"type":"text","value":"With this, we have the AQI for every hour from June 1, 2019 to June 30, 2020. Note that even though we started out with\nthe data from 31st May, we truncated that during the moving averages step.","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"uISUCM7lfJ"}],"key":"wunuHCdUaZ"}],"key":"PTKZq36Ifb"},{"type":"block","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"Paired Student’s t-test on the AQIs","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"Z9qrjcnMfk"}],"identifier":"paired-students-t-test-on-the-aqis","label":"Paired Student’s t-test on the AQIs","html_id":"paired-students-t-test-on-the-aqis","implicit":true,"key":"sdXvwbIE7w"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Hypothesis testing is a form of descriptive statistics used to help us make decisions with the data. From the calculated AQI data, we want to find out if there was a statistically significant difference in average AQI before and after the lockdown was imposed. We will use the left-tailed, ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"CollN1LUP5"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"paired Student’s t-test","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"wzNxGiPp6R"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test#Dependent_t-test_for_paired_samples","data":{"page":"Student%27s_t-test#Dependent_t-test_for_paired_samples","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"xARBHjAy5S"},{"type":"text","value":" to compute two test statistics- the ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"G3JKNAlqzV"},{"type":"link","url":"https://en.wikipedia.org/wiki/T-statistic","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"inlineCode","value":"t statistic","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"sYtcEVvm7p"}],"urlSource":"https://en.wikipedia.org/wiki/T-statistic","data":{"page":"T-statistic","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"toADtrQhWP"},{"type":"text","value":" and the ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"SBgna1DjWL"},{"type":"link","url":"https://en.wikipedia.org/wiki/P-value","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"inlineCode","value":"p value","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"T8gkHoka1u"}],"urlSource":"https://en.wikipedia.org/wiki/P-value","data":{"page":"P-value","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"tepeok3Koy"},{"type":"text","value":". We will then compare these with the corresponding critical values to make a decision.","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"QPoAzWXBp8"}],"key":"CtQlI4Ev1q"},{"type":"image","url":"/numpy-tutorials/build/11-one-tailed-test-5b63330d05668563b320ffaa46eb23ef.svg","alt":"Normal distribution plot showing area of rejection in one-tailed test (left tailed)","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"xz6fNAO3fX","urlSource":"_static/11-one-tailed-test.svg"},{"type":"heading","depth":3,"position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"Sampling","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"xeiCt2AmkT"}],"identifier":"sampling","label":"Sampling","html_id":"sampling","implicit":true,"key":"fajrs4FHZv"},{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"We will now import the ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"XjM7r29yGK"},{"type":"inlineCode","value":"datetime","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"WPWd9zSQn3"},{"type":"text","value":" column from our original dataset into a ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"hvRIa7S3p9"},{"type":"link","url":"https://numpy.org/devdocs/reference/arrays.scalars.html","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"datetime64","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"hLSuuazZXB"}],"key":"ITXOOihaK2"},{"type":"text","value":" dtype","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"xcGK0J2Hl6"}],"urlSource":"https://numpy.org/devdocs/reference/arrays.scalars.html","key":"bk46NtPYGq"},{"type":"text","value":" array. We will use this array to index the AQI array and obtain subsets of the dataset.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"npxU9nQ5HY"}],"key":"QbUKesiSm9"}],"key":"sel410k03F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"datetime = np.loadtxt(\"air-quality-data.csv\", dtype='M8[h]', delimiter=\",\",\n                         skiprows=1, usecols=(0, ))[-(pollutants_A_24hr_avg.shape[0]):]","key":"xrT4z5AHoD"},{"type":"outputs","id":"qm_NY6-sPslTp6AYGgSKB","children":[],"key":"pEmLeBn9wm"}],"key":"LId2zdpjPx"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"text","value":"Since total lockdown commenced in Delhi from March 24, 2020, the after-lockdown subset is of the period March 24, 2020 to June 30, 2020. The before-lockdown subset is for the same length of time before 24th March.","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"B3KkYFUgbs"}],"key":"C9cWfG9af2"}],"key":"YyAl7Job0B"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"after_lock = aqi_array[np.where(datetime \u003e= np.datetime64('2020-03-24T00'))]\n\nbefore_lock = aqi_array[np.where(datetime \u003c= np.datetime64('2020-03-21T00'))][-(after_lock.shape[0]):]\n\nprint(after_lock.shape)\nprint(before_lock.shape)","key":"m3SvpcKz5X"},{"type":"outputs","id":"OZHFXT8Qz8y-Tcdgksbkx","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"(2376,)\n(2376,)\n"},"key":"ZEDYDtFuHQ"}],"key":"elkeFajdbt"}],"key":"U8Z0rnglhW"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"To make sure our samples are ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"TrI84kfIu2"},{"type":"emphasis","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"approximately","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"Kp6eZ4NLlW"}],"key":"d6z20wGsCb"},{"type":"text","value":" normally distributed, we take samples of size ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"fMaBE1ZUpC"},{"type":"inlineCode","value":"n = 30","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"tYYiPCshCr"},{"type":"text","value":". ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"GD5iZroA2P"},{"type":"inlineCode","value":"before_sample","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"e0FPIK0H6H"},{"type":"text","value":" and ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"sXkE4u8mQQ"},{"type":"inlineCode","value":"after_sample","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"HNw73YgSpa"},{"type":"text","value":" are the set of random observations drawn before and after the total lockdown. We use ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"GkMz8vVeOD"},{"type":"link","url":"https://numpy.org/devdocs/reference/random/generated/numpy.random.Generator.choice.html","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"random​.Generator​.choice","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"Axoa63ICc7"}],"urlSource":"https://numpy.org/devdocs/reference/random/generated/numpy.random.Generator.choice.html","key":"UhQVdLGI8F"},{"type":"text","value":" to generate the samples.","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"MDXDWv9OYX"}],"key":"zsvIATiSHR"}],"key":"lFQg6tqPkT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rng = default_rng()\n\nbefore_sample = rng.choice(before_lock, size=30, replace=False)\nafter_sample = rng.choice(after_lock, size=30, replace=False)","key":"ht5GejDiEd"},{"type":"outputs","id":"kHtuVwcmPy6dd0vgsA-UG","children":[],"key":"o5pSQOUitn"}],"key":"E5vWxb7qaz"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"children":[{"type":"text","value":"Defining the hypothesis","position":{"start":{"line":299,"column":1},"end":{"line":299,"column":1}},"key":"F4a4TbSUOp"}],"identifier":"defining-the-hypothesis","label":"Defining the hypothesis","html_id":"defining-the-hypothesis","implicit":true,"key":"nXAyJTRFS4"},{"type":"paragraph","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"Let us assume that there is no significant difference between the sample means before and after the lockdown. This will be the null hypothesis. The alternative hypothesis would be that there ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"CInybghlC8"},{"type":"emphasis","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"is","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"PErNg3Al5K"}],"key":"BHYXjv1h7x"},{"type":"text","value":" a significant difference between the means and the AQI ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"uHnvEvMtaW"},{"type":"emphasis","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"children":[{"type":"text","value":"improved","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"cWqF0BsrOa"}],"key":"lQpYMYNAj7"},{"type":"text","value":". Mathematically,","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"fw2V3jeHIW"}],"key":"elxvRuLotW"},{"type":"paragraph","position":{"start":{"line":303,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"inlineMath","value":"H_{0}: \\mu_\\text{after-before} = 0","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eH\u003c/mi\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/msub\u003e\u003cmo\u003e:\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003eμ\u003c/mi\u003e\u003cmtext\u003eafter-before\u003c/mtext\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eH_{0}: \\mu_\\text{after-before} = 0\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.08125em;\"\u003eH\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3011em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eμ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3361em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord text mtight\"\u003e\u003cspan class=\"mord mtight\"\u003eafter-before\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"PfMKeaNiiS"},{"type":"text","value":" ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"nUq4LMnEcZ"},{"type":"break","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"mIJgUVjphp"},{"type":"inlineMath","value":"H_{a}: \\mu_\\text{after-before} \u003c 0","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eH\u003c/mi\u003e\u003cmi\u003ea\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e:\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003eμ\u003c/mi\u003e\u003cmtext\u003eafter-before\u003c/mtext\u003e\u003c/msub\u003e\u003cmo\u003e\u0026lt;\u003c/mo\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eH_{a}: \\mu_\\text{after-before} \u0026lt; 0\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.08125em;\"\u003eH\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.1514em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e:\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7335em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eμ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3361em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord text mtight\"\u003e\u003cspan class=\"mord mtight\"\u003eafter-before\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"sBza0pj5UW"}],"key":"LEUbnTyH98"}],"key":"JGbamwSleC"},{"type":"block","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"text","value":"Calculating the test statistics","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"k4pixj1VAW"}],"identifier":"calculating-the-test-statistics","label":"Calculating the test statistics","html_id":"calculating-the-test-statistics","implicit":true,"key":"ndIG6Dvv1t"},{"type":"paragraph","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"text","value":"We will use the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"onOaKv1qrx"},{"type":"inlineCode","value":"t","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"AfgKwFtsfy"},{"type":"text","value":" statistic to evaluate our hypothesis and even calculate the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"yKiisedrCZ"},{"type":"inlineCode","value":"p value","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"dnqQeTjXqN"},{"type":"text","value":" from it. The formula for the ","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"CELqR4ZtiF"},{"type":"inlineCode","value":"t","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"J6Y7mZCKVW"},{"type":"text","value":" statistic is:","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"ITCiT8oeF3"}],"key":"ZL1JmrWlQW"},{"type":"math","value":"t = \\frac{\\mu_\\text{after-before}}{\\sqrt{\\sigma^{2}/n}}","position":{"start":{"line":312,"column":1},"end":{"line":314,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003et\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmsub\u003e\u003cmi\u003eμ\u003c/mi\u003e\u003cmtext\u003eafter-before\u003c/mtext\u003e\u003c/msub\u003e\u003cmsqrt\u003e\u003cmrow\u003e\u003cmsup\u003e\u003cmi\u003eσ\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msup\u003e\u003cmi mathvariant=\"normal\"\u003e/\u003c/mi\u003e\u003cmi\u003en\u003c/mi\u003e\u003c/mrow\u003e\u003c/msqrt\u003e\u003c/mfrac\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003et = \\frac{\\mu_\\text{after-before}}{\\sqrt{\\sigma^{2}/n}}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6151em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003et\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.2376em;vertical-align:-1.13em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.1076em;\"\u003e\u003cspan style=\"top:-2.175em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord sqrt\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.935em;\"\u003e\u003cspan class=\"svg-align\" style=\"top:-3.2em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\" style=\"padding-left:1em;\"\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003eσ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7401em;\"\u003e\u003cspan style=\"top:-2.989em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e/\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-2.895em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3.2em;\"\u003e\u003c/span\u003e\u003cspan class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'\u003e\u003cpath d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/\u003e\u003c/svg\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.305em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eμ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3361em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord text mtight\"\u003e\u003cspan class=\"mord mtight\"\u003eafter-before\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.13em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"3","key":"sUFvKYYBlw"},{"type":"paragraph","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"where,","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"MK06eNrHcE"}],"key":"OU5aKeccgG"},{"type":"paragraph","position":{"start":{"line":318,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"inlineMath","value":"\\mu_\\text{after-before}","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eμ\u003c/mi\u003e\u003cmtext\u003eafter-before\u003c/mtext\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\mu_\\text{after-before}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003eμ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3361em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord text mtight\"\u003e\u003cspan class=\"mord mtight\"\u003eafter-before\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"OSKmC8pVyN"},{"type":"text","value":" = mean differences of samples ","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"ksQVITBJUl"},{"type":"break","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"aYmECtj55f"},{"type":"inlineMath","value":"\\sigma^{2}","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsup\u003e\u003cmi\u003eσ\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\sigma^{2}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8141em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003eσ\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"nSvU8FsbX8"},{"type":"text","value":" = variance of mean differences ","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"MGuJAXY1Tw"},{"type":"break","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"sKfcSwdR5p"},{"type":"inlineMath","value":"n","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003en\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003en\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003en\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"c1gjtxhPa0"},{"type":"text","value":" = sample size","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"susXOslwga"}],"key":"HGn2UDiXxk"}],"key":"aBZF6IUICT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def t_test(x, y):\n    diff = y - x\n    var = np.var(diff, ddof=1)\n    num = np.mean(diff)\n    denom = np.sqrt(var / len(x))\n    return np.divide(num, denom)\n\nt_value = t_test(before_sample, after_sample)","key":"fdLlI4IIY5"},{"type":"outputs","id":"JEZUL3tt4lr7cZ0euF95E","children":[],"key":"ZkfynpOKcr"}],"key":"yP9ziCo5BV"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"children":[{"type":"text","value":"For the ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"ZE9dCjfJ9Z"},{"type":"inlineCode","value":"p","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"FtF3hyPp4O"},{"type":"text","value":" value, we will use SciPy’s ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"cMFc9olr0Q"},{"type":"inlineCode","value":"stats.distributions.t.cdf()","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"y1Bmrn85QI"},{"type":"text","value":" function. It takes two arguments- the ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"YQdtSkGHpo"},{"type":"inlineCode","value":"t statistic","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"qHOmqNFmtW"},{"type":"text","value":" and the degrees of freedom (","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"biQmnmGEb8"},{"type":"inlineCode","value":"dof","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"ttxGmkfT7S"},{"type":"text","value":"). The formula for ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"gpEnu8TLns"},{"type":"inlineCode","value":"dof","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"kDxJAK3Wr2"},{"type":"text","value":" is ","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"joi7e4UiRL"},{"type":"inlineCode","value":"n - 1","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"XEXeMJuMV1"},{"type":"text","value":".","position":{"start":{"line":333,"column":1},"end":{"line":333,"column":1}},"key":"YglmXBcsRn"}],"key":"yNozLDmeqp"}],"key":"ZQiqCFVcCs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dof = len(before_sample) - 1\n\np_value = stats.distributions.t.cdf(t_value, dof)\n\nprint(\"The t value is {} and the p value is {}.\".format(t_value, p_value))","key":"psb0l0mMCZ"},{"type":"outputs","id":"ENPOi2bVmQSMBa6p7jqUW","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"The t value is -6.971170036935036 and the p value is 5.7752755342191344e-08.\n"},"key":"zXvZNpVjyp"}],"key":"uIt6HnDec4"}],"key":"jZKeIU3b3x"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"What do the ","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"G6Rys7y8JT"},{"type":"inlineCode","value":"t","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"O6EoiHOnoF"},{"type":"text","value":" and ","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"ir2G8HbKqd"},{"type":"inlineCode","value":"p","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"iCx9EMh1C2"},{"type":"text","value":" values mean?","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"M6O8IW31AK"}],"identifier":"what-do-the-t-and-p-values-mean","label":"What do the t and p values mean?","html_id":"what-do-the-t-and-p-values-mean","implicit":true,"key":"KiWiPblRkM"},{"type":"paragraph","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"We will now compare the calculated test statistics with the critical test statistics. The critical ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"ClV8iEatxa"},{"type":"inlineCode","value":"t","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"QH6frWYBDR"},{"type":"text","value":" value is calculated by looking up the ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"WpUKN1AIxR"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-distribution#Table_of_selected_values","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"t-distribution table","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"yPSKlibWVf"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-distribution#Table_of_selected_values","data":{"page":"Student%27s_t-distribution#Table_of_selected_values","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"o5wU2XqXJL"},{"type":"text","value":".","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"Gf4UdwOeMq"}],"key":"MzuJhNQ47w"},{"type":"image","url":"/numpy-tutorials/build/11-t-table-5f3e6b9f87ad80975f593a85fb2f9d53.png","alt":"Table of selected t values at different confidence levels. T value for 29 dof at 95% confidence level is highlighted with a yellow square","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"d9DkGckxma","urlSource":"_static/11-t-table.png"},{"type":"paragraph","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"From the table above, the critical value is 1.699 for 29 ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"LpP8Mz8T60"},{"type":"inlineCode","value":"dof","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"ZODgjLIyjk"},{"type":"text","value":" at a confidence level of 95%. Since we are using the left tailed test, our critical value is -1.699. Clearly, the calculated ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"RIe0LecSIH"},{"type":"inlineCode","value":"t","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"B6B4qIM23S"},{"type":"text","value":" value is less than the critical value so we can safely reject the null hypothesis.","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"RihCXHi8oi"}],"key":"ypPbBLRhFG"},{"type":"paragraph","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"The critical ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"sjH3zqMA5C"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"EpLRMGVZaZ"},{"type":"text","value":" value, denoted by ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"kbIJ89kJOi"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eα\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\alpha\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.0037em;\"\u003eα\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"clzeqnBByr"},{"type":"text","value":", is usually chosen to be 0.05, corresponding to a confidence level of 95%. If the calculated ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"DBhtAOHGyO"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"Y11CtsUr6W"},{"type":"text","value":" value is less than ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"rbKlAbjO7W"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eα\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\alpha\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.0037em;\"\u003eα\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"YRQOWr9nNs"},{"type":"text","value":", then the null hypothesis can be safely rejected. Clearly, our ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"BK7a764qV1"},{"type":"inlineCode","value":"p","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"W01H5R3tQm"},{"type":"text","value":" value is much less than ","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"f1yBZCbLbd"},{"type":"inlineMath","value":"\\alpha","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eα\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\alpha\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.0037em;\"\u003eα\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"KjGXCXaZoO"},{"type":"text","value":", so we can reject the null hypothesis.","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"PPvrKeO1mP"}],"key":"BMv2PuZ7hq"},{"type":"paragraph","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Note that this does not mean we can accept the alternative hypothesis. It only tells us that there is not enough evidence to reject ","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"XkwWSZIpCc"},{"type":"inlineMath","value":"H_{a}","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eH\u003c/mi\u003e\u003cmi\u003ea\u003c/mi\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eH_{a}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.08125em;\"\u003eH\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.1514em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\"\u003ea\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"UD45vZ33WH"},{"type":"text","value":". In other words, we fail to reject the alternative hypothesis so, it ","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"y2WTKjZUMK"},{"type":"emphasis","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"may","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"FyknnDjOPN"}],"key":"pqTgFoMVZI"},{"type":"text","value":" be true.","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"sT4gnxk49u"}],"key":"ayBS3lgDdq"}],"key":"lFkL3CCLZH"},{"type":"block","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"thematicBreak","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"u6DyLeOkzn"},{"type":"heading","depth":2,"position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"text","value":"In practice...","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"n1KDWpjRtX"}],"identifier":"in-practice","label":"In practice...","html_id":"in-practice","implicit":true,"key":"FX4qrBfIPt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":361,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":361,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"LZpvoEkFSd"},{"type":"link","url":"https://pandas.pydata.org/","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"pandas","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"rJG8Edewss"}],"urlSource":"https://pandas.pydata.org/","key":"YbgFePCpAZ"},{"type":"text","value":" library is preferable to use for time-series data analysis.","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"hF2qf0s4sq"}],"key":"otkz3ZYj5K"}],"key":"d7I7joHOSs"},{"type":"listItem","spread":true,"position":{"start":{"line":363,"column":1},"end":{"line":364,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"The SciPy stats module provides the ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"JgaYK3ooON"},{"type":"link","url":"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"stats.ttest_rel","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"uyNXLgVLGu"}],"urlSource":"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html","key":"zoFwG5WPZI"},{"type":"text","value":" function which can be used to get the ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"bwrpC1c79Z"},{"type":"inlineCode","value":"t statistic","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"OwvdLbCI3k"},{"type":"text","value":" and ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"u6CJ3cBOhx"},{"type":"inlineCode","value":"p value","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"gYUooxbHBT"},{"type":"text","value":".","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"YRQfu0ZtUZ"}],"key":"LNoWz8NQ38"}],"key":"IAkHPHbzmd"},{"type":"listItem","spread":true,"position":{"start":{"line":365,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"In real life, data are generally not normally distributed. There are tests for such non-normal data like the ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"ECr4LbxDzK"},{"type":"link","url":"https://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Wilcoxon test","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"TrW9Ve6J6c"}],"urlSource":"https://en.wikipedia.org/wiki/Wilcoxon_signed-rank_test","data":{"page":"Wilcoxon_signed-rank_test","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"uOt2RiftFD"},{"type":"text","value":".","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"zdTsqqrFNW"}],"key":"scg7Dz5YXp"}],"key":"C6wHhUWvQY"}],"key":"QpxHUSra5S"},{"type":"heading","depth":2,"position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"children":[{"type":"text","value":"Further reading","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"pZX8w3d1nc"}],"identifier":"further-reading","label":"Further reading","html_id":"further-reading","implicit":true,"key":"UpVXoTR4sk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":369,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":369,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":369,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"There are a host of statistical tests you can choose according to the characteristics of the given data. Read more about them at\n","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"kqoAwPzLAe"},{"type":"link","url":"https://machinelearningmastery.com/statistical-data-distributions/","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"text","value":"A Gentle Introduction to Statistical Data Distributions","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"QglEEfngpx"}],"urlSource":"https://machinelearningmastery.com/statistical-data-distributions/","key":"g7VoPRo2l1"},{"type":"text","value":".","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"VPJv1dymEn"}],"key":"DMaJBoUu9D"}],"key":"YEZQm4oLRu"},{"type":"listItem","spread":true,"position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"text","value":"There are various versions of the ","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"key":"OsgpWfGGBN"},{"type":"link","url":"https://en.wikipedia.org/wiki/Student%27s_t-test","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"children":[{"type":"text","value":"Student’s t-test","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"key":"FEnMgJhWJL"}],"urlSource":"https://en.wikipedia.org/wiki/Student%27s_t-test","data":{"page":"Student%27s_t-test","wiki":"https://en.wikipedia.org/","lang":"en"},"internal":false,"protocol":"wiki","key":"kksxZdgVpK"},{"type":"text","value":" that you can adopt according to your needs.","position":{"start":{"line":372,"column":1},"end":{"line":372,"column":1}},"key":"Xzo2homcVt"}],"key":"TUHfvsuoth"}],"key":"v0FvRZgDEr"}],"key":"IJAfRKVqka"}],"key":"RqRVptp3mz"}],"key":"dwqD2YABCG"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Plotting Fractals","url":"/tutorial-plotting-fractals","group":"Applications"},"next":{"title":"Linear algebra on n-dimensional arrays","short_title":"Linear Algebra on n-D arrays","url":"/tutorial-svd","group":"Features"}}},"domain":"http://localhost:3000"},"project":{"title":"Numpy Tutorials","authors":[{"id":"Numpy Community","name":"Numpy Community"}],"github":"https://github.com/numpy/numpy-tutorials","toc":[{"file":"site/index.md"},{"children":[{"file":"content/mooreslaw-tutorial.md"},{"file":"content/tutorial-deep-learning-on-mnist.md"},{"file":"content/tutorial-x-ray-image-processing.md"},{"file":"content/tutorial-static_equilibrium.md"},{"file":"content/tutorial-plotting-fractals.md"},{"file":"content/tutorial-air-quality-analysis.md"}],"title":"Applications"},{"children":[{"file":"content/tutorial-svd.md"},{"file":"content/save-load-arrays.md"},{"file":"content/tutorial-ma.md"}],"title":"Features"},{"children":[{"file":"content/tutorial-style-guide.md"}],"file":"site/contributing.md","title":"Contributing"}],"thumbnail":"/numpy-tutorials/build/b77199e99a54e59b2e3c037c2cc90f21.svg","exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Applications"},{"slug":"mooreslaw-tutorial","title":"Determining Moore’s Law with real data in NumPy","short_title":"Moore's Law","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-mooreslaw-tutoria-6c2067dbdf3b7ab694d3ad260bf10ac0.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-deep-learning-on-mnist","title":"Deep learning on MNIST","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-deep-learni-ffa864453d379e479361945eabb443bf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-x-ray-image-processing","title":"X-ray image processing","description":"","date":"","thumbnail":"/numpy-tutorials/build/tutorial-x-ray-image-2063a9ed9ba3f8b4b4e903042c6a9a76.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-static-equilibrium","title":"Determining Static Equilibrium in NumPy","short_title":"Static Equilibrium","description":"","date":"","thumbnail":"/numpy-tutorials/build/static_eqbm-fig01-77a32cfb6ff72fecd5110e69120ca12c.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-plotting-fractals","title":"Plotting Fractals","description":"","date":"","thumbnail":"/numpy-tutorials/build/fractal-920ae902842dd7fb645972d3399fac72.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-air-quality-analysis","title":"Analyzing the impact of the lockdown on air quality in Delhi, India","short_title":"Analyzing Air Quality","description":"","date":"","thumbnail":"/numpy-tutorials/build/11-delhi-aqi-2be1bdd6ecf082081d385eec336dccaa.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Features"},{"slug":"tutorial-svd","title":"Linear algebra on n-dimensional arrays","short_title":"Linear Algebra on n-D arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"save-load-arrays","title":"Saving and sharing your NumPy arrays","short_title":"Sharing Array Data","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"tutorial-ma","title":"Masked Arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","short_title":"Contributing","description":"","date":"","thumbnail":"/numpy-tutorials/build/01-fork-da6d6338b49819d37f666f89968ce3e8.gif","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"tutorial-style-guide","title":"Learn to write a NumPy tutorial","short_title":"Style Guide","description":"","date":"","thumbnail":"/numpy-tutorials/build/56554e3d11983df8f484e8d7b2c2bdae.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/numpy-tutorials/build/manifest-3595279D.js";
import * as route0 from "/numpy-tutorials/build/root-SIO6LUTY.js";
import * as route1 from "/numpy-tutorials/build/routes/$-PRP77N34.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/numpy-tutorials/build/entry.client-PCJPW7TK.js");</script></body></html>